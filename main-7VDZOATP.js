import{a as g,b as M,c as Pi,d as yn}from"./chunk-JCZGPMGK.js";var Kt=null,Yf=!1,c_=1,_P=null,Bt=Symbol("SIGNAL");function Y(n){let e=Kt;return Kt=n,e}function Zf(){return Kt}var sc={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ac(n){if(Yf)throw new Error("");if(Kt===null)return;Kt.consumerOnSignalRead(n);let e=Kt.producersTail;if(e!==void 0&&e.producer===n)return;let t,i=Kt.recomputing;if(i&&(t=e!==void 0?e.nextProducer:Kt.producers,t!==void 0&&t.producer===n)){Kt.producersTail=t,t.lastReadVersion=n.version;return}let r=n.consumersTail;if(r!==void 0&&r.consumer===Kt&&(!i||CP(r,Kt)))return;let o=dc(Kt),s={producer:n,consumer:Kt,nextProducer:t,prevConsumer:r,lastReadVersion:n.version,nextConsumer:void 0};Kt.producersTail=s,e!==void 0?e.nextProducer=s:Kt.producers=s,o&&aS(n,s)}function rS(){c_++}function l_(n){if(!(dc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===c_)){if(!n.producerMustRecompute(n)&&!lc(n)){a_(n);return}n.producerRecomputeValue(n),a_(n)}}function d_(n){if(n.consumers===void 0)return;let e=Yf;Yf=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let i=t.consumer;i.dirty||bP(i)}}finally{Yf=e}}function u_(){return Kt?.consumerAllowSignalWrites!==!1}function bP(n){n.dirty=!0,d_(n),n.consumerMarkedDirty?.(n)}function a_(n){n.dirty=!1,n.lastCleanEpoch=c_}function gs(n){return n&&oS(n),Y(n)}function oS(n){n.producersTail=void 0,n.recomputing=!0}function cc(n,e){Y(e),n&&sS(n)}function sS(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(dc(n))do t=h_(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function lc(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,i=e.lastReadVersion;if(i!==t.version||(l_(t),i!==t.version))return!0}return!1}function lo(n){if(dc(n)){let e=n.producers;for(;e!==void 0;)e=h_(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function aS(n,e){let t=n.consumersTail,i=dc(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!i)for(let r=n.producers;r!==void 0;r=r.nextProducer)aS(r.producer,r)}function h_(n){let e=n.producer,t=n.nextProducer,i=n.nextConsumer,r=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,i!==void 0?i.prevConsumer=r:e.consumersTail=r,r!==void 0)r.nextConsumer=i;else if(e.consumers=i,!dc(e)){let o=e.producers;for(;o!==void 0;)o=h_(o)}return t}function dc(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function f_(n){_P?.(n)}function CP(n,e){let t=e.producersTail;if(t!==void 0){let i=e.producers;do{if(i===n)return!0;if(i===t)break;i=i.nextProducer}while(i!==void 0)}return!1}function p_(n,e){return Object.is(n,e)}function wd(n,e){let t=Object.create(EP);t.computation=n,e!==void 0&&(t.equal=e);let i=()=>{if(l_(t),ac(t),t.value===Qf)throw t.error;return t.value};return i[Bt]=t,f_(t),i}var o_=Symbol("UNSET"),s_=Symbol("COMPUTING"),Qf=Symbol("ERRORED"),EP=M(g({},sc),{value:o_,dirty:!0,error:null,equal:p_,kind:"computed",producerMustRecompute(n){return n.value===o_||n.value===s_},producerRecomputeValue(n){if(n.value===s_)throw new Error("");let e=n.value;n.value=s_;let t=gs(n),i,r=!1;try{i=n.computation(),Y(null),r=e!==o_&&e!==Qf&&i!==Qf&&n.equal(e,i)}catch(o){i=Qf,n.error=o}finally{cc(n,t)}if(r){n.value=e;return}n.value=i,n.version++}});function wP(){throw new Error}var cS=wP;function lS(n){cS(n)}function m_(n){cS=n}var IP=null;function g_(n,e){let t=Object.create(Td);t.value=n,e!==void 0&&(t.equal=e);let i=()=>dS(t);return i[Bt]=t,f_(t),[i,s=>Id(t,s),s=>uS(t,s)]}function dS(n){return ac(n),n.value}function Id(n,e){u_()||lS(n),n.equal(n.value,e)||(n.value=e,TP(n))}function uS(n,e){u_()||lS(n),Id(n,e(n.value))}var Td=M(g({},sc),{equal:p_,value:void 0,kind:"signal"});function TP(n){n.version++,rS(),d_(n),IP?.(n)}function v_(n){let e=Y(null);try{return n()}finally{Y(e)}}var y_=M(g({},sc),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function __(n){if(n.dirty=!1,n.version>0&&!lc(n))return;n.version++;let e=gs(n);try{n.cleanup(),n.fn()}finally{cc(n,e)}}function ce(n){return typeof n=="function"}function uc(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Jf=uc(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function vs(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ae=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(ce(i))try{i()}catch(o){e=o instanceof Jf?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{hS(o)}catch(s){e=e??[],s instanceof Jf?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Jf(e)}}add(e){var t;if(e&&e!==this)if(this.closed)hS(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&vs(t,e)}remove(e){let{_finalizers:t}=this;t&&vs(t,e),e instanceof n&&e._removeParent(this)}};Ae.EMPTY=(()=>{let n=new Ae;return n.closed=!0,n})();var b_=Ae.EMPTY;function Xf(n){return n instanceof Ae||n&&"closed"in n&&ce(n.remove)&&ce(n.add)&&ce(n.unsubscribe)}function hS(n){ce(n)?n():n.unsubscribe()}var di={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var hc={setTimeout(n,e,...t){let{delegate:i}=hc;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=hc;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ep(n){hc.setTimeout(()=>{let{onUnhandledError:e}=di;if(e)e(n);else throw n})}function Sd(){}var fS=C_("C",void 0,void 0);function pS(n){return C_("E",void 0,n)}function mS(n){return C_("N",n,void 0)}function C_(n,e,t){return{kind:n,value:e,error:t}}var ys=null;function fc(n){if(di.useDeprecatedSynchronousErrorHandling){let e=!ys;if(e&&(ys={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=ys;if(ys=null,t)throw i}}else n()}function gS(n){di.useDeprecatedSynchronousErrorHandling&&ys&&(ys.errorThrown=!0,ys.error=n)}var _s=class extends Ae{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Xf(e)&&e.add(this)):this.destination=DP}static create(e,t,i){return new br(e,t,i)}next(e){this.isStopped?w_(mS(e),this):this._next(e)}error(e){this.isStopped?w_(pS(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?w_(fS,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},SP=Function.prototype.bind;function E_(n,e){return SP.call(n,e)}var I_=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){tp(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){tp(i)}else tp(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){tp(t)}}},br=class extends _s{constructor(e,t,i){super();let r;if(ce(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&di.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&E_(e.next,o),error:e.error&&E_(e.error,o),complete:e.complete&&E_(e.complete,o)}):r=e}this.destination=new I_(r)}};function tp(n){di.useDeprecatedSynchronousErrorHandling?gS(n):ep(n)}function AP(n){throw n}function w_(n,e){let{onStoppedNotification:t}=di;t&&hc.setTimeout(()=>t(n,e))}var DP={closed:!0,next:Sd,error:AP,complete:Sd};var pc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function xn(n){return n}function T_(...n){return S_(n)}function S_(n){return n.length===0?xn:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var le=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=MP(t)?t:new br(t,i,r);return fc(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=vS(i),new i((r,o)=>{let s=new br({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[pc](){return this}pipe(...t){return S_(t)(this)}toPromise(t){return t=vS(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function vS(n){var e;return(e=n??di.Promise)!==null&&e!==void 0?e:Promise}function xP(n){return n&&ce(n.next)&&ce(n.error)&&ce(n.complete)}function MP(n){return n&&n instanceof _s||xP(n)&&Xf(n)}function RP(n){return ce(n?.lift)}function ge(n){return e=>{if(RP(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function be(n,e,t,i,r){return new A_(n,e,t,i,r)}var A_=class extends _s{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var yS=uc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var O=(()=>{class n extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new np(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new yS}next(t){fc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){fc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){fc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?b_:(this.currentObservers=null,o.push(t),new Ae(()=>{this.currentObservers=null,vs(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new le;return t.source=this,t}}return n.create=(e,t)=>new np(e,t),n})(),np=class extends O{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:b_}};var ft=class extends O{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Ad={now(){return(Ad.delegate||Date).now()},delegate:void 0};var bs=class extends O{constructor(e=1/0,t=1/0,i=Ad){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=t.now(),a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}};var ip=class extends Ae{constructor(e,t){super()}schedule(e,t=0){return this}};var Dd={setInterval(n,e,...t){let{delegate:i}=Dd;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Dd;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var rp=class extends ip{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return Dd.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&Dd.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,vs(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var mc=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};mc.now=Ad.now;var op=class extends mc{constructor(e,t=mc.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var xd=new op(rp),_S=xd;var pt=new le(n=>n.complete());function sp(n){return n&&ce(n.schedule)}function D_(n){return n[n.length-1]}function ap(n){return ce(D_(n))?n.pop():void 0}function Fi(n){return sp(D_(n))?n.pop():void 0}function bS(n,e){return typeof D_(n)=="number"?n.pop():e}function ES(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{l(i.next(d))}catch(u){s(u)}}function c(d){try{l(i.throw(d))}catch(u){s(u)}}function l(d){d.done?o(d.value):r(d.value).then(a,c)}l((i=i.apply(n,e||[])).next())})}function CS(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cs(n){return this instanceof Cs?(this.v=n,this):new Cs(n)}function wS(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(m){return function(C){return Promise.resolve(C).then(m,u)}}function a(m,C){i[m]&&(r[m]=function(I){return new Promise(function(D,R){o.push([m,I,D,R])>1||c(m,I)})},C&&(r[m]=C(r[m])))}function c(m,C){try{l(i[m](C))}catch(I){p(o[0][3],I)}}function l(m){m.value instanceof Cs?Promise.resolve(m.value.v).then(d,u):p(o[0][2],m)}function d(m){c("next",m)}function u(m){c("throw",m)}function p(m,C){m(C),o.shift(),o.length&&c(o[0][0],o[0][1])}}function IS(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof CS=="function"?CS(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),r(a,c,s.done,s.value)})}}function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var cp=n=>n&&typeof n.length=="number"&&typeof n!="function";function lp(n){return ce(n?.then)}function dp(n){return ce(n[pc])}function up(n){return Symbol.asyncIterator&&ce(n?.[Symbol.asyncIterator])}function hp(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function kP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var fp=kP();function pp(n){return ce(n?.[fp])}function mp(n){return wS(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield Cs(t.read());if(r)return yield Cs(void 0);yield yield Cs(i)}}finally{t.releaseLock()}})}function gp(n){return ce(n?.getReader)}function Ve(n){if(n instanceof le)return n;if(n!=null){if(dp(n))return OP(n);if(cp(n))return NP(n);if(lp(n))return PP(n);if(up(n))return TS(n);if(pp(n))return FP(n);if(gp(n))return LP(n)}throw hp(n)}function OP(n){return new le(e=>{let t=n[pc]();if(ce(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function NP(n){return new le(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function PP(n){return new le(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ep)})}function FP(n){return new le(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function TS(n){return new le(e=>{BP(n,e).catch(t=>e.error(t))})}function LP(n){return TS(mp(n))}function BP(n,e){var t,i,r,o;return ES(this,void 0,void 0,function*(){try{for(t=IS(n);i=yield t.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function _n(n,e,t,i=0,r=!1){let o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function vp(n,e=0){return ge((t,i)=>{t.subscribe(be(i,r=>_n(i,n,()=>i.next(r),e),()=>_n(i,n,()=>i.complete(),e),r=>_n(i,n,()=>i.error(r),e)))})}function yp(n,e=0){return ge((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function SS(n,e){return Ve(n).pipe(yp(e),vp(e))}function AS(n,e){return Ve(n).pipe(yp(e),vp(e))}function DS(n,e){return new le(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function xS(n,e){return new le(t=>{let i;return _n(t,e,()=>{i=n[fp](),_n(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>ce(i?.return)&&i.return()})}function _p(n,e){if(!n)throw new Error("Iterable cannot be null");return new le(t=>{_n(t,e,()=>{let i=n[Symbol.asyncIterator]();_n(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function MS(n,e){return _p(mp(n),e)}function RS(n,e){if(n!=null){if(dp(n))return SS(n,e);if(cp(n))return DS(n,e);if(lp(n))return AS(n,e);if(up(n))return _p(n,e);if(pp(n))return xS(n,e);if(gp(n))return MS(n,e)}throw hp(n)}function we(n,e){return e?RS(n,e):Ve(n)}function B(...n){let e=Fi(n);return we(n,e)}function Md(n,e){let t=ce(n)?n:()=>n,i=r=>r.error(t());return new le(e?r=>e.schedule(i,0,r):i)}function Rd(n){return!!n&&(n instanceof le||ce(n.lift)&&ce(n.subscribe))}var Es=uc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function kS(n){return n instanceof Date&&!isNaN(n)}function X(n,e){return ge((t,i)=>{let r=0;t.subscribe(be(i,o=>{i.next(n.call(e,o,r++))}))})}var{isArray:UP}=Array;function HP(n,e){return UP(e)?n(...e):n(e)}function bp(n){return X(e=>HP(n,e))}var{isArray:VP}=Array,{getPrototypeOf:jP,prototype:zP,keys:$P}=Object;function Cp(n){if(n.length===1){let e=n[0];if(VP(e))return{args:e,keys:null};if(GP(e)){let t=$P(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function GP(n){return n&&typeof n=="object"&&jP(n)===zP}function Ep(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function kd(...n){let e=Fi(n),t=ap(n),{args:i,keys:r}=Cp(n);if(i.length===0)return we([],e);let o=new le(qP(i,e,r?s=>Ep(r,s):xn));return t?o.pipe(bp(t)):o}function qP(n,e,t=xn){return i=>{OS(e,()=>{let{length:r}=n,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)OS(e,()=>{let l=we(n[c],e),d=!1;l.subscribe(be(i,u=>{o[c]=u,d||(d=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function OS(n,e,t){n?_n(t,n,e):e()}function NS(n,e,t,i,r,o,s,a){let c=[],l=0,d=0,u=!1,p=()=>{u&&!c.length&&!l&&e.complete()},m=I=>l<i?C(I):c.push(I),C=I=>{o&&e.next(I),l++;let D=!1;Ve(t(I,d++)).subscribe(be(e,R=>{r?.(R),o?m(R):e.next(R)},()=>{D=!0},void 0,()=>{if(D)try{for(l--;c.length&&l<i;){let R=c.shift();s?_n(e,s,()=>C(R)):C(R)}p()}catch(R){e.error(R)}}))};return n.subscribe(be(e,m,()=>{u=!0,p()})),()=>{a?.()}}function Yt(n,e,t=1/0){return ce(e)?Yt((i,r)=>X((o,s)=>e(i,o,r,s))(Ve(n(i,r))),t):(typeof e=="number"&&(t=e),ge((i,r)=>NS(i,r,n,t)))}function uo(n=1/0){return Yt(xn,n)}function PS(){return uo(1)}function ho(...n){return PS()(we(n,Fi(n)))}function Od(n){return new le(e=>{Ve(n()).subscribe(e)})}function Nd(...n){let e=ap(n),{args:t,keys:i}=Cp(n),r=new le(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let d=0;d<s;d++){let u=!1;Ve(t[d]).subscribe(be(o,p=>{u||(u=!0,l--),a[d]=p},()=>c--,void 0,()=>{(!c||!u)&&(l||o.next(i?Ep(i,a):a),o.complete())}))}});return e?r.pipe(bp(e)):r}function FS(n=0,e,t=_S){let i=-1;return e!=null&&(sp(e)?t=e:i=e),new le(r=>{let o=kS(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function ws(...n){let e=Fi(n),t=bS(n,1/0),i=n;return i.length?i.length===1?Ve(i[0]):uo(t)(we(i,e)):pt}function Ie(n,e){return ge((t,i)=>{let r=0;t.subscribe(be(i,o=>n.call(e,o,r++)&&i.next(o)))})}function LS(n){return ge((e,t)=>{let i=!1,r=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let l=r;r=null,t.next(l)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(be(t,l=>{i=!0,r=l,o||Ve(n(l)).subscribe(o=be(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}function wp(n,e=xd){return LS(()=>FS(n,e))}function Mn(n){return ge((e,t)=>{let i=null,r=!1,o;i=e.subscribe(be(t,void 0,void 0,s=>{o=Ve(n(s,Mn(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function Li(n,e){return ce(e)?Yt(n,e,1):Yt(n,1)}function Pd(n,e=xd){return ge((t,i)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let l=o;o=null,i.next(l)}};function c(){let l=s+n,d=e.now();if(d<l){r=this.schedule(void 0,l-d),i.add(r);return}a()}t.subscribe(be(i,l=>{o=l,s=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function x_(n){return ge((e,t)=>{let i=!1;e.subscribe(be(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function kt(n){return n<=0?()=>pt:ge((e,t)=>{let i=0;e.subscribe(be(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Ip(n,e=xn){return n=n??WP,ge((t,i)=>{let r,o=!0;t.subscribe(be(i,s=>{let a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function WP(n,e){return n===e}function BS(n=KP){return ge((e,t)=>{let i=!1;e.subscribe(be(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function KP(){return new Es}function Is(n){return ge((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Cr(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Ie((r,o)=>n(r,o,i)):xn,kt(1),t?x_(e):BS(()=>new Es))}function Tp(n){return n<=0?()=>pt:ge((e,t)=>{let i=[];e.subscribe(be(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Sp(){return ge((n,e)=>{let t,i=!1;n.subscribe(be(e,r=>{let o=t;t=r,i&&e.next([o,r]),i=!0}))})}function Fd(n={}){let{connector:e=()=>new O,resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,l=0,d=!1,u=!1,p=()=>{a?.unsubscribe(),a=void 0},m=()=>{p(),s=c=void 0,d=u=!1},C=()=>{let I=s;m(),I?.unsubscribe()};return ge((I,D)=>{l++,!u&&!d&&p();let R=c=c??e();D.add(()=>{l--,l===0&&!u&&!d&&(a=M_(C,r))}),R.subscribe(D),!s&&l>0&&(s=new br({next:q=>R.next(q),error:q=>{u=!0,p(),a=M_(m,t,q),R.error(q)},complete:()=>{d=!0,p(),a=M_(m,i),R.complete()}}),Ve(I).subscribe(s))})(o)}}function M_(n,e,...t){if(e===!0){n();return}if(e===!1)return;let i=new br({next:()=>{i.unsubscribe(),n()}});return Ve(e(...t)).subscribe(i)}function Ap(n,e,t){let i,r=!1;return n&&typeof n=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n:i=n??1/0,Fd({connector:()=>new bs(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Ld(n){return Ie((e,t)=>n<=t)}function ui(...n){let e=Fi(n);return ge((t,i)=>{(e?ho(n,t,e):ho(n,t)).subscribe(i)})}function $t(n,e){return ge((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(be(i,c=>{r?.unsubscribe();let l=0,d=o++;Ve(n(c,d)).subscribe(r=be(i,u=>i.next(e?e(c,u,d,l++):u),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Ze(n){return ge((e,t)=>{Ve(n).subscribe(be(t,()=>t.complete(),Sd)),!t.closed&&e.subscribe(t)})}function mt(n,e,t){let i=ce(n)||e||t?{next:n,error:e,complete:t}:n;return i?ge((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(be(o,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var l;a=!1,(l=i.error)===null||l===void 0||l.call(i,c),o.error(c)},()=>{var c,l;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):xn}var R_;function Dp(){return R_}function Bi(n){let e=R_;return R_=n,e}var US=Symbol("NotFound");function gc(n){return n===US||n?.name==="\u0275NotFound"}var Np="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",k=class extends Error{code;constructor(e,t){super(go(e,t)),this.code=e}};function YP(n){return`NG0${Math.abs(n)}`}function go(n,e){return`${YP(n)}${e?": "+e:""}`}var Kn=globalThis;function Ne(n){for(let e in n)if(n[e]===Ne)return e;throw Error("")}function $S(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function wr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(wr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}function Pp(n,e){return n?e?`${n} ${e}`:n:e||""}var QP=Ne({__forward_ref__:Ne});function Yn(n){return n.__forward_ref__=Yn,n.toString=function(){return wr(this())},n}function Gt(n){return $_(n)?n():n}function $_(n){return typeof n=="function"&&n.hasOwnProperty(QP)&&n.__forward_ref__===Yn}function S(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function j(n){return{providers:n.providers||[],imports:n.imports||[]}}function Gd(n){return ZP(n,Fp)}function G_(n){return Gd(n)!==null}function ZP(n,e){return n.hasOwnProperty(e)&&n[e]||null}function JP(n){let e=n?.[Fp]??null;return e||null}function O_(n){return n&&n.hasOwnProperty(Mp)?n[Mp]:null}var Fp=Ne({\u0275prov:Ne}),Mp=Ne({\u0275inj:Ne}),w=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=S({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function q_(n){return n&&!!n.\u0275providers}var W_=Ne({\u0275cmp:Ne}),K_=Ne({\u0275dir:Ne}),Y_=Ne({\u0275pipe:Ne}),Q_=Ne({\u0275mod:Ne}),Ud=Ne({\u0275fac:Ne}),xs=Ne({__NG_ELEMENT_ID__:Ne}),HS=Ne({__NG_ENV_ID__:Ne});function yc(n){return typeof n=="string"?n:n==null?"":String(n)}function GS(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():yc(n)}var qS=Ne({ngErrorCode:Ne}),XP=Ne({ngErrorMessage:Ne}),eF=Ne({ngTokenPath:Ne});function Z_(n,e){return WS("",-200,e)}function Lp(n,e){throw new k(-201,!1)}function WS(n,e,t){let i=new k(e,n);return i[qS]=e,i[XP]=n,t&&(i[eF]=t),i}function tF(n){return n[qS]}var N_;function KS(){return N_}function nn(n){let e=N_;return N_=n,e}function J_(n,e,t){let i=Gd(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&8)return null;if(e!==void 0)return e;Lp(n,"Injector")}var nF={},Ts=nF,iF="__NG_DI_FLAG__",P_=class{injector;constructor(e){this.injector=e}retrieve(e,t){let i=Ss(t)||0;try{return this.injector.get(e,i&8?null:Ts,i)}catch(r){if(gc(r))return r;throw r}}};function rF(n,e=0){let t=Dp();if(t===void 0)throw new k(-203,!1);if(t===null)return J_(n,void 0,e);{let i=oF(e),r=t.retrieve(n,i);if(gc(r)){if(i.optional)return null;throw r}return r}}function P(n,e=0){return(KS()||rF)(Gt(n),e)}function h(n,e){return P(n,Ss(e))}function Ss(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function oF(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function F_(n){let e=[];for(let t=0;t<n.length;t++){let i=Gt(n[t]);if(Array.isArray(i)){if(i.length===0)throw new k(900,!1);let r,o=0;for(let s=0;s<i.length;s++){let a=i[s],c=sF(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}e.push(P(r,o))}else e.push(P(i))}return e}function sF(n){return n[iF]}function fo(n,e){let t=n.hasOwnProperty(Ud);return t?n[Ud]:null}function YS(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function QS(n){return n.flat(Number.POSITIVE_INFINITY)}function Bp(n,e){n.forEach(t=>Array.isArray(t)?Bp(t,e):e(t))}function X_(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function qd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ZS(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function JS(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function Up(n,e,t){let i=_c(n,e);return i>=0?n[i|1]=t:(i=~i,JS(n,i,e,t)),i}function Hp(n,e){let t=_c(n,e);if(t>=0)return n[t|1]}function _c(n,e){return aF(n,e,1)}function aF(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}var vo={},Qt=[],yo=new w(""),eb=new w("",-1),tb=new w(""),Hd=class{get(e,t=Ts){if(t===Ts){let r=WS("",-201);throw r.name="\u0275NotFound",r}return t}};function nb(n){return n[Q_]||null}function Ir(n){return n[W_]||null}function ib(n){return n[K_]||null}function XS(n){return n[Y_]||null}function Hi(n){return{\u0275providers:n}}function eA(n){return Hi([{provide:yo,multi:!0,useValue:n}])}function tA(...n){return{\u0275providers:rb(!0,n),\u0275fromNgModule:!0}}function rb(n,...e){let t=[],i=new Set,r,o=s=>{t.push(s)};return Bp(e,s=>{let a=s;Rp(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&nA(r,o),t}function nA(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];ob(r,o=>{e(o,i)})}}function Rp(n,e,t,i){if(n=Gt(n),!n)return!1;let r=null,o=O_(n),s=!o&&Ir(n);if(!o&&!s){let c=n.ngModule;if(o=O_(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=n}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Rp(l,e,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let l;try{Bp(o.imports,d=>{Rp(d,e,t,i)&&(l||=[],l.push(d))})}finally{}l!==void 0&&nA(l,e)}if(!a){let l=fo(r)||(()=>new r);e({provide:r,useFactory:l,deps:Qt},r),e({provide:tb,useValue:r,multi:!0},r),e({provide:yo,useValue:()=>P(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let l=n;ob(c,d=>{e(d,l)})}}else return!1;return r!==n&&n.providers!==void 0}function ob(n,e){for(let t of n)q_(t)&&(t=t.\u0275providers),Array.isArray(t)?ob(t,e):e(t)}var cF=Ne({provide:String,useValue:Ne});function iA(n){return n!==null&&typeof n=="object"&&cF in n}function lF(n){return!!(n&&n.useExisting)}function dF(n){return!!(n&&n.useFactory)}function As(n){return typeof n=="function"}function rA(n){return!!n.useClass}var Wd=new w(""),xp={},VS={},k_;function bc(){return k_===void 0&&(k_=new Hd),k_}var $e=class{},Ds=class extends $e{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,B_(e,s=>this.processProvider(s)),this.records.set(eb,vc(void 0,this)),r.has("environment")&&this.records.set($e,vc(void 0,this));let o=this.records.get(Wd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(tb,Qt,{self:!0}))}retrieve(e,t){let i=Ss(t)||0;try{return this.get(e,Ts,i)}catch(r){if(gc(r))return r;throw r}}destroy(){Bd(this),this._destroyed=!0;let e=Y(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Y(e)}}onDestroy(e){return Bd(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Bd(this);let t=Bi(this),i=nn(void 0),r;try{return e()}finally{Bi(t),nn(i)}}get(e,t=Ts,i){if(Bd(this),e.hasOwnProperty(HS))return e[HS](this);let r=Ss(i),o,s=Bi(this),a=nn(void 0);try{if(!(r&4)){let l=this.records.get(e);if(l===void 0){let d=mF(e)&&Gd(e);d&&this.injectableDefInScope(d)?l=vc(L_(e),xp):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,r)}let c=r&2?bc():this.parent;return t=r&8&&t===Ts?null:t,c.get(e,t)}catch(c){let l=tF(c);throw l===-200||l===-201?new k(l,null):c}finally{nn(a),Bi(s)}}resolveInjectorInitializers(){let e=Y(null),t=Bi(this),i=nn(void 0),r;try{let o=this.get(yo,Qt,{self:!0});for(let s of o)s()}finally{Bi(t),nn(i),Y(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(wr(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Gt(e);let t=As(e)?e:Gt(e&&e.provide),i=hF(e);if(!As(e)&&e.multi===!0){let r=this.records.get(t);r||(r=vc(void 0,xp,!0),r.factory=()=>F_(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t,i){let r=Y(null);try{if(t.value===VS)throw Z_(wr(e));return t.value===xp&&(t.value=VS,t.value=t.factory(void 0,i)),typeof t.value=="object"&&t.value&&pF(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Y(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Gt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function L_(n){let e=Gd(n),t=e!==null?e.factory:fo(n);if(t!==null)return t;if(n instanceof w)throw new k(204,!1);if(n instanceof Function)return uF(n);throw new k(204,!1)}function uF(n){if(n.length>0)throw new k(204,!1);let t=JP(n);return t!==null?()=>t.factory(n):()=>new n}function hF(n){if(iA(n))return vc(void 0,n.useValue);{let e=sb(n);return vc(e,xp)}}function sb(n,e,t){let i;if(As(n)){let r=Gt(n);return fo(r)||L_(r)}else if(iA(n))i=()=>Gt(n.useValue);else if(dF(n))i=()=>n.useFactory(...F_(n.deps||[]));else if(lF(n))i=(r,o)=>P(Gt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let r=Gt(n&&(n.useClass||n.provide));if(fF(n))i=()=>new r(...F_(n.deps));else return fo(r)||L_(r)}return i}function Bd(n){if(n.destroyed)throw new k(205,!1)}function vc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function fF(n){return!!n.deps}function pF(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function mF(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function B_(n,e){for(let t of n)Array.isArray(t)?B_(t,e):t&&q_(t)?B_(t.\u0275providers,e):e(t)}function qt(n,e){let t;n instanceof Ds?(Bd(n),t=n):t=new P_(n);let i,r=Bi(t),o=nn(void 0);try{return e()}finally{Bi(r),nn(o)}}function oA(){return KS()!==void 0||Dp()!=null}var hi=0,z=1,ee=2,Ot=3,Qn=4,rn=5,Ms=6,Cc=7,gt=8,Tr=9,Vi=10,Ye=11,Ec=12,ab=13,Rs=14,on=15,_o=16,ks=17,ji=18,Kd=19,cb=20,Er=21,Vp=22,po=23,Rn=24,Os=25,Ns=26,Je=27,sA=1,lb=6,bo=7,Yd=8,Ps=9,ct=10;function zi(n){return Array.isArray(n)&&typeof n[sA]=="object"}function fi(n){return Array.isArray(n)&&n[sA]===!0}function db(n){return(n.flags&4)!==0}function Co(n){return n.componentOffset>-1}function wc(n){return(n.flags&1)===1}function $i(n){return!!n.template}function Ic(n){return(n[ee]&512)!==0}function Fs(n){return(n[ee]&256)===256}var ub="svg",aA="math";function Zn(n){for(;Array.isArray(n);)n=n[hi];return n}function hb(n,e){return Zn(e[n])}function pi(n,e){return Zn(e[n.index])}function Qd(n,e){return n.data[e]}function fb(n,e){return n[e]}function pb(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function Jn(n,e){let t=e[n];return zi(t)?t:t[hi]}function cA(n){return(n[ee]&4)===4}function jp(n){return(n[ee]&128)===128}function lA(n){return fi(n[Ot])}function Xn(n,e){return e==null?null:n[e]}function mb(n){n[ks]=0}function gb(n){n[ee]&1024||(n[ee]|=1024,jp(n)&&Ls(n))}function dA(n,e){for(;n>0;)e=e[Rs],n--;return e}function Zd(n){return!!(n[ee]&9216||n[Rn]?.dirty)}function zp(n){n[Vi].changeDetectionScheduler?.notify(8),n[ee]&64&&(n[ee]|=1024),Zd(n)&&Ls(n)}function Ls(n){n[Vi].changeDetectionScheduler?.notify(0);let e=mo(n);for(;e!==null&&!(e[ee]&8192||(e[ee]|=8192,!jp(e)));)e=mo(e)}function vb(n,e){if(Fs(n))throw new k(911,!1);n[Er]===null&&(n[Er]=[]),n[Er].push(e)}function uA(n,e){if(n[Er]===null)return;let t=n[Er].indexOf(e);t!==-1&&n[Er].splice(t,1)}function mo(n){let e=n[Ot];return fi(e)?e[Ot]:e}function yb(n){return n[Cc]??=[]}function _b(n){return n.cleanup??=[]}function hA(n,e,t,i){let r=yb(e);r.push(t),n.firstCreatePass&&_b(n).push(i,r.length-1)}var pe={lFrame:wA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var U_=!1;function fA(){return pe.lFrame.elementDepthCount}function pA(){pe.lFrame.elementDepthCount++}function bb(){pe.lFrame.elementDepthCount--}function $p(){return pe.bindingsEnabled}function Cb(){return pe.skipHydrationRootTNode!==null}function Eb(n){return pe.skipHydrationRootTNode===n}function wb(){pe.skipHydrationRootTNode=null}function ie(){return pe.lFrame.lView}function lt(){return pe.lFrame.tView}function kn(n){return pe.lFrame.contextLView=n,n[gt]}function On(n){return pe.lFrame.contextLView=null,n}function Ut(){let n=Ib();for(;n!==null&&n.type===64;)n=n.parent;return n}function Ib(){return pe.lFrame.currentTNode}function mA(){let n=pe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Tc(n,e){let t=pe.lFrame;t.currentTNode=n,t.isParent=e}function Tb(){return pe.lFrame.isParent}function Sb(){pe.lFrame.isParent=!1}function gA(){return pe.lFrame.contextLView}function Ab(){return U_}function Vd(n){let e=U_;return U_=n,e}function Db(){let n=pe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function vA(n){return pe.lFrame.bindingIndex=n}function Bs(){return pe.lFrame.bindingIndex++}function xb(n){let e=pe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function yA(){return pe.lFrame.inI18n}function _A(n,e){let t=pe.lFrame;t.bindingIndex=t.bindingRootIndex=n,Gp(e)}function bA(){return pe.lFrame.currentDirectiveIndex}function Gp(n){pe.lFrame.currentDirectiveIndex=n}function CA(n){let e=pe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function qp(){return pe.lFrame.currentQueryIndex}function Jd(n){pe.lFrame.currentQueryIndex=n}function gF(n){let e=n[z];return e.type===2?e.declTNode:e.type===1?n[rn]:null}function Mb(n,e,t){if(t&4){let r=e,o=n;for(;r=r.parent,r===null&&!(t&1);)if(r=gF(o),r===null||(o=o[Rs],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=pe.lFrame=EA();return i.currentTNode=e,i.lView=n,!0}function Wp(n){let e=EA(),t=n[z];pe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function EA(){let n=pe.lFrame,e=n===null?null:n.child;return e===null?wA(n):e}function wA(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function IA(){let n=pe.lFrame;return pe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Rb=IA;function Kp(){let n=IA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function TA(n){return(pe.lFrame.contextLView=dA(n,pe.lFrame.contextLView))[gt]}function Sr(){return pe.lFrame.selectedIndex}function Eo(n){pe.lFrame.selectedIndex=n}function Yp(){let n=pe.lFrame;return Qd(n.tView,n.selectedIndex)}function wo(){pe.lFrame.currentNamespace=ub}function Qp(){vF()}function vF(){pe.lFrame.currentNamespace=null}function SA(){return pe.lFrame.currentNamespace}var AA=!0;function Zp(){return AA}function Xd(n){AA=n}function H_(n,e=null,t=null,i){let r=kb(n,e,t,i);return r.resolveInjectorInitializers(),r}function kb(n,e=null,t=null,i,r=new Set){let o=[t||Qt,tA(n)];return i=i||(typeof n=="object"?void 0:wr(n)),new Ds(o,e||bc(),i||null,r)}var me=class n{static THROW_IF_NOT_FOUND=Ts;static NULL=new Hd;static create(e,t){if(Array.isArray(e))return H_({name:""},t,e,"");{let i=e.name??"";return H_({name:i},e.parent,e.providers,i)}}static \u0275prov=S({token:n,providedIn:"any",factory:()=>P(eb)});static __NG_ELEMENT_ID__=-1},H=new w(""),Nn=(()=>{class n{static __NG_ELEMENT_ID__=yF;static __NG_ENV_ID__=t=>t}return n})(),kp=class extends Nn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Fs(this._lView)}onDestroy(e){let t=this._lView;return vb(t,e),()=>uA(t,e)}};function yF(){return new kp(ie())}var DA=!1,Ar=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ft(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new le(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=S({token:n,providedIn:"root",factory:()=>new n})}return n})(),V_=class extends O{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,oA()&&(this.destroyRef=h(Nn,{optional:!0})??void 0,this.pendingTasks=h(Ar,{optional:!0})??void 0)}emit(e){let t=Y(null);try{super.next(e)}finally{Y(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof Ae&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},ve=V_;function jd(...n){}function Ob(n){let e,t;function i(){n=jd;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function Nb(n){return queueMicrotask(()=>n()),()=>{n=jd}}var Pb="isAngularZone",zd=Pb+"_ID",_F=0,U=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ve(!1);onMicrotaskEmpty=new ve(!1);onStable=new ve(!1);onError=new ve(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=DA}=e;if(typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,EF(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Pb)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new k(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,bF,jd,jd);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},bF={};function Fb(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function CF(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Ob(()=>{n.callbackScheduled=!1,j_(n),n.isCheckStableRunning=!0,Fb(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),j_(n)}function EF(n){let e=()=>{CF(n)},t=_F++;n._inner=n._inner.fork({name:"angular",properties:{[Pb]:!0,[zd]:t,[zd+t]:!0},onInvokeTask:(i,r,o,s,a,c)=>{if(wF(c))return i.invokeTask(o,s,a,c);try{return jS(n),i.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),zS(n)}},onInvoke:(i,r,o,s,a,c,l)=>{try{return jS(n),i.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!IF(c)&&e(),zS(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,j_(n),Fb(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function j_(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function jS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function zS(n){n._nesting--,Fb(n)}var $d=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ve;onMicrotaskEmpty=new ve;onStable=new ve;onError=new ve;run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function wF(n){return xA(n,"__ignore_ng_zone__")}function IF(n){return xA(n,"__scheduler_tick__")}function xA(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var bn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Pn=new w("",{factory:()=>{let n=h(U),e=h($e),t;return i=>{n.runOutsideAngular(()=>{e.destroyed&&!t?setTimeout(()=>{throw i}):(t??=e.get(bn),t.handleError(i))})}}}),MA={provide:yo,useValue:()=>{let n=h(bn,{optional:!0})},multi:!0},TF=new w("",{factory:()=>{let n=h(H).defaultView;if(!n)return;let e=h(Pn),t=o=>{e(o.reason),o.preventDefault()},i=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},r=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",i)};typeof Zone<"u"?Zone.root.run(r):r(),h(Nn).onDestroy(()=>{n.removeEventListener("error",i),n.removeEventListener("unhandledrejection",t)})}});function Lb(){return Hi([eA(()=>void h(TF))])}function ye(n,e){let[t,i,r]=g_(n,e?.equal),o=t,s=o[Bt];return o.set=i,o.update=r,o.asReadonly=RA.bind(o),o}function RA(){let n=this[Bt];if(n.readonlyFn===void 0){let e=()=>this();e[Bt]=n,n.readonlyFn=e}return n.readonlyFn}var Sc=(()=>{class n{view;node;constructor(t,i){this.view=t,this.node=i}static __NG_ELEMENT_ID__=SF}return n})();function SF(){return new Sc(ie(),Ut())}var Ui=class{},eu=new w("",{factory:()=>!0});var Bb=new w(""),Jp=(()=>{class n{internalPendingTasks=h(Ar);scheduler=h(Ui);errorHandler=h(Pn);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let i=this.add();t().catch(this.errorHandler).finally(i)}static \u0275prov=S({token:n,providedIn:"root",factory:()=>new n})}return n})(),Xp=(()=>{class n{static \u0275prov=S({token:n,providedIn:"root",factory:()=>new z_})}return n})(),z_=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,i=this.queues.get(t);i.has(e)&&(i.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(e)||i.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,i]of this.queues)t===null?e||=this.flushQueue(i):e||=t.run(()=>this.flushQueue(i));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let i of e)i.dirty&&(this.dirtyEffectCount--,t=!0,i.run());return t}},Op=class{[Bt];constructor(e){this[Bt]=e}destroy(){this[Bt].destroy()}};function ei(n,e){let t=e?.injector??h(me),i=e?.manualCleanup!==!0?t.get(Nn):null,r,o=t.get(Sc,null,{optional:!0}),s=t.get(Ui);return o!==null?(r=xF(o.view,s,n),i instanceof kp&&i._lView===o.view&&(i=null)):r=MF(n,t.get(Xp),s),r.injector=t,i!==null&&(r.onDestroyFn=i.onDestroy(()=>r.destroy())),new Op(r)}var kA=M(g({},y_),{cleanupFns:void 0,zone:null,onDestroyFn:jd,run(){let n=Vd(!1);try{__(this)}finally{Vd(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=Y(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],Y(n)}}}),AF=M(g({},kA),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){lo(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),DF=M(g({},kA),{consumerMarkedDirty(){this.view[ee]|=8192,Ls(this.view),this.notifier.notify(13)},destroy(){lo(this),this.onDestroyFn(),this.cleanup(),this.view[po]?.delete(this)}});function xF(n,e,t){let i=Object.create(DF);return i.view=n,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=e,i.fn=OA(i,t),n[po]??=new Set,n[po].add(i),i.consumerMarkedDirty(i),i}function MF(n,e,t){let i=Object.create(AF);return i.fn=OA(i,n),i.scheduler=e,i.notifier=t,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.add(i),i.notifier.notify(12),i}function OA(n,e){return()=>{e(t=>(n.cleanupFns??=[]).push(t))}}function vt(n){return v_(n)}function uu(n){return{toString:n}.toString()}function FF(n){return typeof n=="function"}function hD(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}var cm=class{previousValue;currentValue;firstChange;constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}},dt=(()=>{let n=()=>fD;return n.ngInherit=!0,n})();function fD(n){return n.type.prototype.ngOnChanges&&(n.setInput=BF),LF}function LF(){let n=mD(this),e=n?.current;if(e){let t=n.previous;if(t===vo)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function BF(n,e,t,i,r){let o=this.declaredInputs[i],s=mD(n)||UF(n,{previous:vo,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new cm(l&&l.currentValue,t,c===vo),hD(n,e,r,t)}var pD="__ngSimpleChanges__";function mD(n){return n[pD]||null}function UF(n,e){return n[pD]=e}var NA=[];var Fe=function(n,e=null,t){for(let i=0;i<NA.length;i++){let r=NA[i];r(n,e,t)}};function HF(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=fD(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function gD(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function rm(n,e,t){vD(n,e,3,t)}function om(n,e,t,i){(n[ee]&3)===t&&vD(n,e,t,i)}function Ub(n,e){let t=n[ee];(t&3)===e&&(t&=16383,t+=1,n[ee]=t)}function vD(n,e,t,i){let r=i!==void 0?n[ks]&65535:0,o=i??-1,s=e.length-1,a=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(n[ks]+=65536),(a<o||o==-1)&&(VF(n,t,e,c),n[ks]=(n[ks]&4294901760)+c+2),c++}function PA(n,e){Fe(4,n,e);let t=Y(null);try{e.call(n)}finally{Y(t),Fe(5,n,e)}}function VF(n,e,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=n[s];r?n[ee]>>14<n[ks]>>16&&(n[ee]&3)===e&&(n[ee]+=16384,PA(a,o)):PA(a,o)}var Dc=-1,Hs=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,i,r){this.factory=e,this.name=r,this.canSeeViewProviders=t,this.injectImpl=i}};function jF(n){return(n.flags&8)!==0}function zF(n){return(n.flags&16)!==0}function $F(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{let o=r,s=t[++i];GF(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function yD(n){return n===3||n===4||n===6}function GF(n){return n.charCodeAt(0)===64}function xc(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?FA(n,t,r,null,e[++i]):FA(n,t,r,null,null))}}return n}function FA(n,e,t,i,r){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){r!==null&&(n[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r)}function _D(n){return n!==Dc}function lm(n){return n&32767}function qF(n){return n>>16}function dm(n,e){let t=qF(n),i=e;for(;t>0;)i=i[Rs],t--;return i}var Zb=!0;function um(n){let e=Zb;return Zb=n,e}var WF=256,bD=WF-1,CD=5,KF=0,Gi={};function YF(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(xs)&&(i=t[xs]),i==null&&(i=t[xs]=KF++);let r=i&bD,o=1<<r;e.data[n+(r>>CD)]|=o}function hm(n,e){let t=ED(n,e);if(t!==-1)return t;let i=e[z];i.firstCreatePass&&(n.injectorIndex=e.length,Hb(i.data,n),Hb(e,null),Hb(i.blueprint,null));let r=OC(n,e),o=n.injectorIndex;if(_D(r)){let s=lm(r),a=dm(r,e),c=a[z].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function Hb(n,e){n.push(0,0,0,0,0,0,0,0,e)}function ED(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function OC(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=AD(r),i===null)return Dc;if(t++,r=r[Rs],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return Dc}function Jb(n,e,t){YF(n,e,t)}function QF(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let o=t[r];if(yD(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(o===e)return t[r+1];r=r+2}}}return null}function wD(n,e,t){if(t&8||n!==void 0)return n;Lp(e,"NodeInjector")}function ID(n,e,t,i){if(t&8&&i===void 0&&(i=null),(t&3)===0){let r=n[Tr],o=nn(void 0);try{return r?r.get(e,i,t&8):J_(e,i,t&8)}finally{nn(o)}}return wD(i,e,t)}function TD(n,e,t,i=0,r){if(n!==null){if(e[ee]&2048&&!(i&2)){let s=eL(n,e,t,i,Gi);if(s!==Gi)return s}let o=SD(n,e,t,i,Gi);if(o!==Gi)return o}return ID(e,t,i,r)}function SD(n,e,t,i,r){let o=JF(t);if(typeof o=="function"){if(!Mb(e,n,i))return i&1?wD(r,t,i):ID(e,t,i,r);try{let s;if(s=o(i),s==null&&!(i&8))Lp(t);else return s}finally{Rb()}}else if(typeof o=="number"){let s=null,a=ED(n,e),c=Dc,l=i&1?e[on][rn]:null;for((a===-1||i&4)&&(c=a===-1?OC(n,e):e[a+8],c===Dc||!BA(i,!1)?a=-1:(s=e[z],a=lm(c),e=dm(c,e)));a!==-1;){let d=e[z];if(LA(o,a,d.data)){let u=ZF(a,e,t,s,i,l);if(u!==Gi)return u}c=e[a+8],c!==Dc&&BA(i,e[z].data[a+8]===l)&&LA(o,a,e)?(s=d,a=lm(c),e=dm(c,e)):a=-1}}return r}function ZF(n,e,t,i,r,o){let s=e[z],a=s.data[n+8],c=i==null?Co(a)&&Zb:i!=s&&(a.type&3)!==0,l=r&1&&o===a,d=sm(a,s,t,c,l);return d!==null?ru(e,s,d,a,r):Gi}function sm(n,e,t,i,r){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,d=o>>20,u=i?a:a+d,p=r?a+d:l;for(let m=u;m<p;m++){let C=s[m];if(m<c&&t===C||m>=c&&C.type===t)return m}if(r){let m=s[c];if(m&&$i(m)&&m.type===t)return c}return null}function ru(n,e,t,i,r){let o=n[t],s=e.data;if(o instanceof Hs){let a=o;if(a.resolving){let m=GS(s[t]);throw Z_(m)}let c=um(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],d,u=a.injectImpl?nn(a.injectImpl):null,p=Mb(n,i,0);try{o=n[t]=a.factory(void 0,r,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&HF(t,s[t],e)}finally{u!==null&&nn(u),um(c),a.resolving=!1,Rb()}}return o}function JF(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(xs)?n[xs]:void 0;return typeof e=="number"?e>=0?e&bD:XF:e}function LA(n,e,t){let i=1<<n;return!!(t[e+(n>>CD)]&i)}function BA(n,e){return!(n&2)&&!(n&1&&e)}var Us=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return TD(this._tNode,this._lView,e,Ss(i),t)}};function XF(){return new Us(Ut(),ie())}function Zt(n){return uu(()=>{let e=n.prototype.constructor,t=e[Ud]||Xb(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[Ud]||Xb(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Xb(n){return $_(n)?()=>{let e=Xb(Gt(n));return e&&e()}:fo(n)}function eL(n,e,t,i,r){let o=n,s=e;for(;o!==null&&s!==null&&s[ee]&2048&&!Ic(s);){let a=SD(o,s,t,i|2,Gi);if(a!==Gi)return a;let c=o.parent;if(!c){let l=s[cb];if(l){let d=l.get(t,Gi,i);if(d!==Gi)return d}c=AD(s),s=s[Rs]}o=c}return r}function AD(n){let e=n[z],t=e.type;return t===2?e.declTNode:t===1?n[rn]:null}function hu(n){return QF(Ut(),n)}function tL(){return Oc(Ut(),ie())}function Oc(n,e){return new W(pi(n,e))}var W=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=tL}return n})();function DD(n){return n instanceof W?n.nativeElement:n}function nL(){return this._results[Symbol.iterator]()}var qi=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new O}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=QS(e);(this._changesDetected=!YS(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=nL};function xD(n){return(n.flags&128)===128}var NC=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(NC||{}),MD=new Map,iL=0;function rL(){return iL++}function oL(n){MD.set(n[Kd],n)}function eC(n){MD.delete(n[Kd])}var UA="__ngContext__";function Mc(n,e){zi(e)?(n[UA]=e[Kd],oL(e)):n[UA]=e}function RD(n){return OD(n[Ec])}function kD(n){return OD(n[Qn])}function OD(n){for(;n!==null&&!fi(n);)n=n[Qn];return n}var tC;function PC(n){tC=n}function FC(){if(tC!==void 0)return tC;if(typeof document<"u")return document;throw new k(210,!1)}var To=new w("",{factory:()=>sL}),sL="ng";var Tm=new w(""),$s=new w("",{providedIn:"platform",factory:()=>"unknown"}),fu=new w(""),Nc=new w("",{factory:()=>FC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ND="r";var PD="di";var FD=!1,LD=new w("",{factory:()=>FD});var aL=(n,e,t,i)=>{};function cL(n,e,t,i){aL(n,e,t,i)}function Sm(n){return(n.flags&32)===32}var lL=()=>null;function BD(n,e,t=!1){return lL(n,e,t)}function UD(n,e){let t=n.contentQueries;if(t!==null){let i=Y(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=n.data[s];Jd(o),a.contentQueries(2,e[s],s)}}}finally{Y(i)}}}function nC(n,e,t){Jd(0);let i=Y(null);try{e(n,t)}finally{Y(i)}}function LC(n,e,t){if(db(e)){let i=Y(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{Y(i)}}}var vi=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n[n.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",n})(vi||{}),em;function dL(){if(em===void 0&&(em=null,Kn.trustedTypes))try{em=Kn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return em}function Am(n){return dL()?.createHTML(n)||n}var tm;function HD(){if(tm===void 0&&(tm=null,Kn.trustedTypes))try{tm=Kn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return tm}function HA(n){return HD()?.createHTML(n)||n}function VA(n){return HD()?.createScriptURL(n)||n}var Dr=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Np})`}},iC=class extends Dr{getTypeName(){return"HTML"}},rC=class extends Dr{getTypeName(){return"Style"}},oC=class extends Dr{getTypeName(){return"Script"}},sC=class extends Dr{getTypeName(){return"URL"}},aC=class extends Dr{getTypeName(){return"ResourceURL"}};function ti(n){return n instanceof Dr?n.changingThisBreaksApplicationSecurity:n}function Qi(n,e){let t=VD(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Np})`)}return t===e}function VD(n){return n instanceof Dr&&n.getTypeName()||null}function BC(n){return new iC(n)}function UC(n){return new rC(n)}function HC(n){return new oC(n)}function VC(n){return new sC(n)}function jC(n){return new aC(n)}function uL(n){let e=new lC(n);return hL()?new cC(e):e}var cC=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Am(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},lC=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Am(e),t}};function hL(){try{return!!new window.DOMParser().parseFromString(Am(""),"text/html")}catch{return!1}}var fL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function pu(n){return n=String(n),n.match(fL)?n:"unsafe:"+n}function xr(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function mu(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var jD=xr("area,br,col,hr,img,wbr"),zD=xr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$D=xr("rp,rt"),pL=mu($D,zD),mL=mu(zD,xr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),gL=mu($D,xr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),jA=mu(jD,mL,gL,pL),GD=xr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vL=xr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),yL=xr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),_L=mu(GD,vL,yL),bL=xr("script,style,template"),dC=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=wL(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=EL(t);if(o){t=o;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=zA(e).toLowerCase();if(!jA.hasOwnProperty(t))return this.sanitizedSomething=!0,!bL.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!_L.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;GD[a]&&(c=pu(c)),this.buf.push(" ",s,'="',$A(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=zA(e).toLowerCase();jA.hasOwnProperty(t)&&!jD.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push($A(e))}};function CL(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function EL(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw qD(e);return e}function wL(n){let e=n.firstChild;if(e&&CL(n,e))throw qD(e);return e}function zA(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function qD(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var IL=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,TL=/([^\#-~ |!])/g;function $A(n){return n.replace(/&/g,"&amp;").replace(IL,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(TL,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var nm;function Dm(n,e){let t=null;try{nm=nm||uL(n);let i=e?String(e):"";t=nm.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=nm.getInertBodyElement(i)}while(i!==o);let a=new dC().sanitizeChildren(GA(t)||t);return Am(a)}finally{if(t){let i=GA(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function GA(n){return"content"in n&&SL(n)?n.content:null}function SL(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Ht=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Ht||{});function zC(n){let e=GC();return e?HA(e.sanitize(Ht.HTML,n)||""):Qi(n,"HTML")?HA(ti(n)):Dm(FC(),yc(n))}function WD(n){let e=GC();return e?e.sanitize(Ht.URL,n)||"":Qi(n,"URL")?ti(n):pu(yc(n))}function KD(n){let e=GC();if(e)return VA(e.sanitize(Ht.RESOURCE_URL,n)||"");if(Qi(n,"ResourceURL"))return VA(ti(n));throw new k(904,!1)}function AL(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?KD:WD}function $C(n,e,t){return AL(e,t)(n)}function GC(){let n=ie();return n&&n[Vi].sanitizer}var DL=/^>|^->|<!--|-->|--!>|<!-$/g,xL=/(<|>)/g,ML="\u200B$1\u200B";function RL(n){return n.replace(DL,e=>e.replace(xL,ML))}function YD(n){return n instanceof Function?n():n}function kL(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}var QD="ng-template";function OL(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&kL(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(qC(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function qC(n){return n.type===4&&n.value!==QD}function NL(n,e,t){let i=n.type===4&&!t?QD:n.value;return e===i}function PL(n,e,t){let i=4,r=n.attrs,o=r!==null?BL(r):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!mi(i)&&!mi(c))return!1;if(s&&mi(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!NL(n,c,t)||c===""&&e.length===1){if(mi(i))return!1;s=!0}}else if(i&8){if(r===null||!OL(n,r,c,t)){if(mi(i))return!1;s=!0}}else{let l=e[++a],d=FL(c,r,qC(n),t);if(d===-1){if(mi(i))return!1;s=!0;continue}if(l!==""){let u;if(d>o?u="":u=r[d+1].toLowerCase(),i&2&&l!==u){if(mi(i))return!1;s=!0}}}}return mi(i)||s}function mi(n){return(n&1)===0}function FL(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return UL(e,n)}function ZD(n,e,t=!1){for(let i=0;i<e.length;i++)if(PL(n,e[i],t))return!0;return!1}function LL(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function BL(n){for(let e=0;e<n.length;e++){let t=n[e];if(yD(t))return e}return n.length}function UL(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function HL(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function qA(n,e){return n?":not("+e.trim()+")":e}function VL(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(i&2){let a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!mi(s)&&(e+=qA(o,r),r=""),i=s,o=o||!mi(i);t++}return r!==""&&(e+=qA(o,r)),e}function jL(n){return n.map(VL).join(",")}function zL(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!mi(r))break;r=o}i++}return t.length&&e.push(1,...t),e}var Ln={};function $L(n,e){return n.createText(e)}function GL(n,e,t){n.setValue(e,t)}function qL(n,e){return n.createComment(RL(e))}function JD(n,e,t){return n.createElement(e,t)}function fm(n,e,t,i,r){n.insertBefore(e,t,i,r)}function XD(n,e,t){n.appendChild(e,t)}function WA(n,e,t,i,r){i!==null?fm(n,e,t,i,r):XD(n,e,t)}function e0(n,e,t,i){n.removeChild(null,e,t,i)}function WL(n,e,t){n.setAttribute(e,"style",t)}function KL(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function t0(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&$F(n,e,i),r!==null&&KL(n,e,r),o!==null&&WL(n,e,o)}function WC(n,e,t,i,r,o,s,a,c,l,d){let u=Je+i,p=u+r,m=YL(u,p),C=typeof l=="function"?l():l;return m[z]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:C,incompleteFirstPass:!1,ssrId:d}}function YL(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:Ln);return t}function QL(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=WC(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function KC(n,e,t,i,r,o,s,a,c,l,d){let u=e.blueprint.slice();return u[hi]=r,u[ee]=i|4|128|8|64|1024,(l!==null||n&&n[ee]&2048)&&(u[ee]|=2048),mb(u),u[Ot]=u[Rs]=n,u[gt]=t,u[Vi]=s||n&&n[Vi],u[Ye]=a||n&&n[Ye],u[Tr]=c||n&&n[Tr]||null,u[rn]=o,u[Kd]=rL(),u[Ms]=d,u[cb]=l,u[on]=e.type==2?n[on]:u,u}function ZL(n,e,t){let i=pi(e,n),r=QL(t),o=n[Vi].rendererFactory,s=YC(n,KC(n,r,null,n0(t),i,e,null,o.createRenderer(i,t),null,null,null));return n[e.index]=s}function n0(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function i0(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function YC(n,e){return n[Ec]?n[ab][Qn]=e:n[Ec]=e,n[ab]=e,e}function A(n=1){r0(lt(),ie(),Sr()+n,!1)}function r0(n,e,t,i){if(!i)if((e[ee]&3)===3){let o=n.preOrderCheckHooks;o!==null&&rm(e,o,t)}else{let o=n.preOrderHooks;o!==null&&om(e,o,0,t)}Eo(t)}var xm=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(xm||{});function uC(n,e,t,i){let r=Y(null);try{let[o,s,a]=n.inputs[t],c=null;(s&xm.SignalBased)!==0&&(c=e[o][Bt]),c!==null&&c.transformFn!==void 0?i=c.transformFn(i):a!==null&&(i=a.call(e,i)),n.setInput!==null?n.setInput(e,c,i,t,o):hD(e,c,o,i)}finally{Y(r)}}var Wi=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Wi||{}),JL;function QC(n,e){return JL(n,e)}var Vs=new Set,Mm=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Mm||{}),Zi=new w(""),KA=new Set;function So(n){KA.has(n)||(KA.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Rm=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=S({token:n,providedIn:"root",factory:()=>new n})}return n})(),ZC=[0,1,2,3],JC=(()=>{class n{ngZone=h(U);scheduler=h(Ui);errorHandler=h(bn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){h(Zi,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Fe(16),this.executing=!0;for(let i of ZC)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Fe(17)}register(t){let{view:i}=t;i!==void 0?((i[Os]??=[]).push(t),Ls(i),i[ee]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,i){return i?i.run(Mm.AFTER_NEXT_RENDER,t):t()}static \u0275prov=S({token:n,providedIn:"root",factory:()=>new n})}return n})(),ou=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,i,r,o,s=null){this.impl=e,this.hooks=t,this.view=i,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Os];e&&(this.view[Os]=e.filter(t=>t!==this))}};function sn(n,e){let t=e?.injector??h(me);return So("NgAfterNextRender"),e1(n,t,e,!0)}function XL(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function e1(n,e,t,i){let r=e.get(Rm);r.impl??=e.get(JC);let o=e.get(Zi,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Nn):null,a=e.get(Sc,null,{optional:!0}),c=new ou(r.impl,XL(n),a?.view,i,s,o?.snapshot(null));return r.impl.register(c),c}var o0=new w("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function s0(n,e,t){let i=n.get(o0);if(Array.isArray(e))for(let r of e)i.queue.add(r),t?.detachedLeaveAnimationFns?.push(r);else i.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);i.scheduler&&i.scheduler(n)}function t1(n,e){let t=n.get(o0);if(e.detachedLeaveAnimationFns){for(let i of e.detachedLeaveAnimationFns)t.queue.delete(i);e.detachedLeaveAnimationFns=void 0}}function n1(n,e){for(let[t,i]of e)s0(n,i.animateFns)}function YA(n,e,t,i){let r=n?.[Ns]?.enter;e!==null&&r&&r.has(t.index)&&n1(i,r)}function Ac(n,e,t,i,r,o,s,a){if(r!=null){let c,l=!1;fi(r)?c=r:zi(r)&&(l=!0,r=r[hi]);let d=Zn(r);n===0&&i!==null?(YA(a,i,o,t),s==null?XD(e,i,d):fm(e,i,d,s||null,!0)):n===1&&i!==null?(YA(a,i,o,t),fm(e,i,d,s||null,!0)):n===2?QA(a,o,t,u=>{e0(e,d,l,u)}):n===3&&QA(a,o,t,()=>{e.destroyNode(d)}),c!=null&&f1(e,n,t,c,o,i,s)}}function i1(n,e){a0(n,e),e[hi]=null,e[rn]=null}function r1(n,e,t,i,r,o){i[hi]=r,i[rn]=e,Om(n,i,t,1,r,o)}function a0(n,e){e[Vi].changeDetectionScheduler?.notify(9),Om(n,e,e[Ye],2,null,null)}function o1(n){let e=n[Ec];if(!e)return Vb(n[z],n);for(;e;){let t=null;if(zi(e))t=e[Ec];else{let i=e[ct];i&&(t=i)}if(!t){for(;e&&!e[Qn]&&e!==n;)zi(e)&&Vb(e[z],e),e=e[Ot];e===null&&(e=n),zi(e)&&Vb(e[z],e),t=e&&e[Qn]}e=t}}function XC(n,e){let t=n[Ps],i=t.indexOf(e);t.splice(i,1)}function km(n,e){if(Fs(e))return;let t=e[Ye];t.destroyNode&&Om(n,e,t,3,null,null),o1(e)}function Vb(n,e){if(Fs(e))return;let t=Y(null);try{e[ee]&=-129,e[ee]|=256,e[Rn]&&lo(e[Rn]),c1(n,e),a1(n,e),e[z].type===1&&e[Ye].destroy();let i=e[_o];if(i!==null&&fi(e[Ot])){i!==e[Ot]&&XC(i,e);let r=e[ji];r!==null&&r.detachView(n)}eC(e)}finally{Y(t)}}function QA(n,e,t,i){let r=n?.[Ns];if(r==null||r.leave==null||!r.leave.has(e.index))return i(!1);n&&Vs.add(n),s0(t,()=>{if(r.leave&&r.leave.has(e.index)){let s=r.leave.get(e.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:d}=l();a.push(d)}r.detachedLeaveAnimationFns=void 0}r.running=Promise.allSettled(a),s1(n,i)}else n&&Vs.delete(n),i(!1)},r)}function s1(n,e){let t=n[Ns]?.running;if(t){t.then(()=>{n[Ns].running=void 0,Vs.delete(n),e(!0)});return}e(!1)}function a1(n,e){let t=n.cleanup,i=e[Cc];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[t[s+1]];t[s].call(a)}i!==null&&(e[Cc]=null);let r=e[Er];if(r!==null){e[Er]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=e[po];if(o!==null){e[po]=null;for(let s of o)s.destroy()}}function c1(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof Hs)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];Fe(4,a,c);try{c.call(a)}finally{Fe(5,a,c)}}else{Fe(4,r,o);try{o.call(r)}finally{Fe(5,r,o)}}}}}function c0(n,e,t){return l1(n,e.parent,t)}function l1(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[hi];if(Co(i)){let{encapsulation:r}=n.data[i.directiveStart+i.componentOffset];if(r===vi.None||r===vi.Emulated)return null}return pi(i,t)}function l0(n,e,t){return u1(n,e,t)}function d1(n,e,t){return n.type&40?pi(n,t):null}var u1=d1,ZA;function eE(n,e,t,i){let r=c0(n,i,e),o=e[Ye],s=i.parent||e[rn],a=l0(s,i,e);if(r!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)WA(o,r,t[c],a,!1);else WA(o,r,t,a,!1);ZA!==void 0&&ZA(o,i,e,t,r)}function nu(n,e){if(e!==null){let t=e.type;if(t&3)return pi(e,n);if(t&4)return hC(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return nu(n,i);{let r=n[e.index];return fi(r)?hC(-1,r):Zn(r)}}else{if(t&128)return nu(n,e.next);if(t&32)return QC(e,n)()||Zn(n[e.index]);{let i=d0(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=mo(n[on]);return nu(r,i)}else return nu(n,e.next)}}}return null}function d0(n,e){if(e!==null){let i=n[on][rn],r=e.projection;return i.projection[r]}return null}function hC(n,e){let t=ct+n+1;if(t<e.length){let i=e[t],r=i[z].firstChild;if(r!==null)return nu(i,r)}return e[bo]}function tE(n,e,t,i,r,o,s){for(;t!=null;){let a=i[Tr];if(t.type===128){t=t.next;continue}let c=i[t.index],l=t.type;if(s&&e===0&&(c&&Mc(Zn(c),i),t.flags|=2),!Sm(t))if(l&8)tE(n,e,t.child,i,r,o,!1),Ac(e,n,a,r,c,t,o,i);else if(l&32){let d=QC(t,i),u;for(;u=d();)Ac(e,n,a,r,u,t,o,i);Ac(e,n,a,r,c,t,o,i)}else l&16?u0(n,e,i,t,r,o):Ac(e,n,a,r,c,t,o,i);t=s?t.projectionNext:t.next}}function Om(n,e,t,i,r,o){tE(t,i,n.firstChild,e,r,o,!1)}function h1(n,e,t){let i=e[Ye],r=c0(n,t,e),o=t.parent||e[rn],s=l0(o,t,e);u0(i,0,e,t,r,s)}function u0(n,e,t,i,r,o){let s=t[on],c=s[rn].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];Ac(e,n,t[Tr],r,d,i,o,t)}else{let l=c,d=s[Ot];xD(i)&&(l.flags|=128),tE(n,e,l,d,r,o,!0)}}function f1(n,e,t,i,r,o,s){let a=i[bo],c=Zn(i);a!==c&&Ac(e,n,t,o,a,r,s);for(let l=ct;l<i.length;l++){let d=i[l];Om(d[z],d,n,e,o,a)}}function p1(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:Wi.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Wi.Important),n.setStyle(t,i,r,o))}}function h0(n,e,t,i,r){let o=Sr(),s=i&2;try{Eo(-1),s&&e.length>Je&&r0(n,e,Je,!1),Fe(s?2:0,r,t),t(i,r)}finally{Eo(o),Fe(s?3:1,r,t)}}function Nm(n,e,t){C1(n,e,t),(t.flags&64)===64&&E1(n,e,t)}function gu(n,e,t=pi){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(e,n):n[s];n[r++]=a}}}function m1(n,e,t,i){let o=i.get(LD,FD)||t===vi.ShadowDom||t===vi.ExperimentalIsolatedShadowDom,s=n.selectRootElement(e,o);return g1(s),s}function g1(n){v1(n)}var v1=()=>null;function y1(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function _1(n,e,t,i,r,o){let s=e[z];if(oE(n,s,e,t,i)){Co(n)&&b1(e,n.index);return}n.type&3&&(t=y1(t)),f0(n,e,t,i,r,o)}function f0(n,e,t,i,r,o){if(n.type&3){let s=pi(n,e);i=o!=null?o(i,n.value||"",t):i,r.setProperty(s,t,i)}else n.type&12}function b1(n,e){let t=Jn(e,n);t[ee]&16||(t[ee]|=64)}function C1(n,e,t){let i=t.directiveStart,r=t.directiveEnd;Co(t)&&ZL(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||hm(t,e);let o=t.initialInputs;for(let s=i;s<r;s++){let a=n.data[s],c=ru(e,n,s,t);if(Mc(c,e),o!==null&&S1(e,s-i,c,a,t,o),$i(a)){let l=Jn(t.index,e);l[gt]=ru(e,n,s,t)}}}function E1(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=bA();try{Eo(o);for(let a=i;a<r;a++){let c=n.data[a],l=e[a];Gp(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&w1(c,l)}}finally{Eo(-1),Gp(s)}}function w1(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function nE(n,e){let t=n.directiveRegistry,i=null;if(t)for(let r=0;r<t.length;r++){let o=t[r];ZD(e,o.selectors,!1)&&(i??=[],$i(o)?i.unshift(o):i.push(o))}return i}function I1(n,e,t,i,r,o){let s=pi(n,e);T1(e[Ye],s,o,n.value,t,i,r)}function T1(n,e,t,i,r,o,s){if(o==null)n.removeAttribute(e,r,t);else{let a=s==null?yc(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}function S1(n,e,t,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];uC(i,t,c,l)}}function iE(n,e,t,i,r){let o=Je+t,s=e[z],a=r(s,e,n,i,t);e[o]=a,Tc(n,!0);let c=n.type===2;return c?(t0(e[Ye],a,n),(fA()===0||wc(n))&&Mc(a,e),pA()):Mc(a,e),Zp()&&(!c||!Sm(n))&&eE(s,e,a,n),n}function rE(n){let e=n;return Tb()?Sb():(e=e.parent,Tc(e,!1)),e}function A1(n,e){let t=n[Tr];if(!t)return;let i;try{i=t.get(Pn,null)}catch{i=null}i?.(e)}function oE(n,e,t,i,r){let o=n.inputs?.[i],s=n.hostDirectiveInputs?.[i],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],d=s[c+1],u=e.data[l];uC(u,t[l],d,r),a=!0}if(o)for(let c of o){let l=t[c],d=e.data[c];uC(d,l,i,r),a=!0}return a}function D1(n,e){let t=Jn(e,n),i=t[z];x1(i,t);let r=t[hi];r!==null&&t[Ms]===null&&(t[Ms]=BD(r,t[Tr])),Fe(18),sE(i,t,t[gt]),Fe(19,t[gt])}function x1(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function sE(n,e,t){Wp(e);try{let i=n.viewQuery;i!==null&&nC(1,i,t);let r=n.template;r!==null&&h0(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ji]?.finishViewCreation(n),n.staticContentQueries&&UD(n,e),n.staticViewQueries&&nC(2,n.viewQuery,t);let o=n.components;o!==null&&M1(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[ee]&=-5,Kp()}}function M1(n,e){for(let t=0;t<e.length;t++)D1(n,e[t])}function vu(n,e,t,i){let r=Y(null);try{let o=e.tView,a=n[ee]&4096?4096:16,c=KC(n,o,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),l=n[e.index];c[_o]=l;let d=n[ji];return d!==null&&(c[ji]=d.createEmbeddedView(o)),sE(o,c,t),c}finally{Y(r)}}function Rc(n,e){return!e||e.firstChild===null||xD(n)}function su(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&i.push(Zn(o)),fi(o)&&p0(o,i);let s=t.type;if(s&8)su(n,e,t.child,i);else if(s&32){let a=QC(t,e),c;for(;c=a();)i.push(c)}else if(s&16){let a=d0(e,t);if(Array.isArray(a))i.push(...a);else{let c=mo(e[on]);su(c[z],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function p0(n,e){for(let t=ct;t<n.length;t++){let i=n[t],r=i[z].firstChild;r!==null&&su(i[z],i,r,e)}n[bo]!==n[hi]&&e.push(n[bo])}function m0(n){if(n[Os]!==null){for(let e of n[Os])e.impl.addSequence(e);n[Os].length=0}}var g0=[];function R1(n){return n[Rn]??k1(n)}function k1(n){let e=g0.pop()??Object.create(N1);return e.lView=n,e}function O1(n){n.lView[Rn]!==n&&(n.lView=null,g0.push(n))}var N1=M(g({},sc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ls(n.lView)},consumerOnSignalRead(){this.lView[Rn]=this}});function P1(n){let e=n[Rn]??Object.create(F1);return e.lView=n,e}var F1=M(g({},sc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=mo(n.lView);for(;e&&!v0(e[z]);)e=mo(e);e&&gb(e)},consumerOnSignalRead(){this.lView[Rn]=this}});function v0(n){return n.type!==2}function y0(n){if(n[po]===null)return;let e=!0;for(;e;){let t=!1;for(let i of n[po])i.dirty&&(t=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));e=t&&!!(n[ee]&8192)}}var L1=100;function _0(n,e=0){let i=n[Vi].rendererFactory,r=!1;r||i.begin?.();try{B1(n,e)}finally{r||i.end?.()}}function B1(n,e){let t=Ab();try{Vd(!0),fC(n,e);let i=0;for(;Zd(n);){if(i===L1)throw new k(103,!1);i++,fC(n,1)}}finally{Vd(t)}}function U1(n,e,t,i){if(Fs(e))return;let r=e[ee],o=!1,s=!1;Wp(e);let a=!0,c=null,l=null;o||(v0(n)?(l=R1(e),c=gs(l)):Zf()===null?(a=!1,l=P1(e),c=gs(l)):e[Rn]&&(lo(e[Rn]),e[Rn]=null));try{mb(e),vA(n.bindingStartIndex),t!==null&&h0(n,e,t,2,i);let d=(r&3)===3;if(!o)if(d){let m=n.preOrderCheckHooks;m!==null&&rm(e,m,null)}else{let m=n.preOrderHooks;m!==null&&om(e,m,0,null),Ub(e,0)}if(s||H1(e),y0(e),b0(e,0),n.contentQueries!==null&&UD(n,e),!o)if(d){let m=n.contentCheckHooks;m!==null&&rm(e,m)}else{let m=n.contentHooks;m!==null&&om(e,m,1),Ub(e,1)}j1(n,e);let u=n.components;u!==null&&E0(e,u,0);let p=n.viewQuery;if(p!==null&&nC(2,p,i),!o)if(d){let m=n.viewCheckHooks;m!==null&&rm(e,m)}else{let m=n.viewHooks;m!==null&&om(e,m,2),Ub(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Vp]){for(let m of e[Vp])m();e[Vp]=null}o||(m0(e),e[ee]&=-73)}catch(d){throw o||Ls(e),d}finally{l!==null&&(cc(l,c),a&&O1(l)),Kp()}}function b0(n,e){for(let t=RD(n);t!==null;t=kD(t))for(let i=ct;i<t.length;i++){let r=t[i];C0(r,e)}}function H1(n){for(let e=RD(n);e!==null;e=kD(e)){if(!(e[ee]&2))continue;let t=e[Ps];for(let i=0;i<t.length;i++){let r=t[i];gb(r)}}}function V1(n,e,t){Fe(18);let i=Jn(e,n);C0(i,t),Fe(19,i[gt])}function C0(n,e){jp(n)&&fC(n,e)}function fC(n,e){let i=n[z],r=n[ee],o=n[Rn],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&lc(o)),s||=!1,o&&(o.dirty=!1),n[ee]&=-9217,s)U1(i,n,i.template,n[gt]);else if(r&8192){let a=Y(null);try{y0(n),b0(n,1);let c=i.components;c!==null&&E0(n,c,1),m0(n)}finally{Y(a)}}}function E0(n,e,t){for(let i=0;i<e.length;i++)V1(n,e[i],t)}function j1(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)Eo(~r);else{let o=r,s=t[++i],a=t[++i];_A(s,o);let c=e[o];Fe(24,c),a(2,c),Fe(25,c)}}}finally{Eo(-1)}}function aE(n,e){let t=Ab()?64:1088;for(n[Vi].changeDetectionScheduler?.notify(e);n;){n[ee]|=t;let i=mo(n);if(Ic(n)&&!i)return n;n=i}return null}function w0(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function I0(n,e){let t=ct+e;if(t<n.length)return n[t]}function yu(n,e,t,i=!0){let r=e[z];if(z1(r,e,n,t),i){let s=hC(t,n),a=e[Ye],c=a.parentNode(n[bo]);c!==null&&r1(r,n[rn],a,e,c,s)}let o=e[Ms];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function T0(n,e){let t=au(n,e);return t!==void 0&&km(t[z],t),t}function au(n,e){if(n.length<=ct)return;let t=ct+e,i=n[t];if(i){let r=i[_o];r!==null&&r!==n&&XC(r,i),e>0&&(n[t-1][Qn]=i[Qn]);let o=qd(n,ct+e);i1(i[z],i);let s=o[ji];s!==null&&s.detachView(o[z]),i[Ot]=null,i[Qn]=null,i[ee]&=-129}return i}function z1(n,e,t,i){let r=ct+i,o=t.length;i>0&&(t[r-1][Qn]=e),i<o-ct?(e[Qn]=t[r],X_(t,ct+i,e)):(t.push(e),e[Qn]=null),e[Ot]=t;let s=e[_o];s!==null&&t!==s&&S0(s,e);let a=e[ji];a!==null&&a.insertView(n),zp(e),e[ee]|=128}function S0(n,e){let t=n[Ps],i=e[Ot];if(zi(i))n[ee]|=2;else{let r=i[Ot][on];e[on]!==r&&(n[ee]|=2)}t===null?n[Ps]=[e]:t.push(e)}var Io=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[z];return su(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[gt]}set context(e){this._lView[gt]=e}get destroyed(){return Fs(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ot];if(fi(e)){let t=e[Yd],i=t?t.indexOf(this):-1;i>-1&&(au(e,i),qd(t,i))}this._attachedToViewContainer=!1}km(this._lView[z],this._lView)}onDestroy(e){vb(this._lView,e)}markForCheck(){aE(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ee]&=-129}reattach(){zp(this._lView),this._lView[ee]|=128}detectChanges(){this._lView[ee]|=1024,_0(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ic(this._lView),t=this._lView[_o];t!==null&&!e&&XC(t,this._lView),a0(this._lView[z],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=e;let t=Ic(this._lView),i=this._lView[_o];i!==null&&!t&&S0(i,this._lView),zp(this._lView)}};var Fn=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=$1;constructor(t,i,r){this._declarationLView=t,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,i){return this.createEmbeddedViewImpl(t,i)}createEmbeddedViewImpl(t,i,r){let o=vu(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:i,dehydratedView:r});return new Io(o)}}return n})();function $1(){return Pm(Ut(),ie())}function Pm(n,e){return n.type&4?new Fn(e,n,Oc(n,e)):null}function Pc(n,e,t,i,r){let o=n.data[e];if(o===null)o=G1(n,e,t,i,r),yA()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=mA();o.injectorIndex=s===null?-1:s.injectorIndex}return Tc(o,!0),o}function G1(n,e,t,i,r){let o=Ib(),s=Tb(),a=s?o:o&&o.parent,c=n.data[e]=W1(n,a,t,e,i,r);return q1(n,c,o,s),c}function q1(n,e,t,i){n.firstChild===null&&(n.firstChild=e),t!==null&&(i?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function W1(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return Cb()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function K1(n){let e=n[lb]??[],i=n[Ot][Ye],r=[];for(let o of e)o.data[PD]!==void 0?r.push(o):Y1(o,i);n[lb]=r}function Y1(n,e){let t=0,i=n.firstChild;if(i){let r=n.data[ND];for(;t<r;){let o=i.nextSibling;e0(e,i,!1),i=o,t++}}}var Q1=()=>null,Z1=()=>null;function pm(n,e){return Q1(n,e)}function A0(n,e,t){return Z1(n,e,t)}var D0=class{},Fm=class{},pC=class{resolveComponentFactory(e){throw new k(917,!1)}},_u=class{static NULL=new pC},St=class{},yt=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>J1()}return n})();function J1(){let n=ie(),e=Ut(),t=Jn(e.index,n);return(zi(t)?t:n)[Ye]}var x0=(()=>{class n{static \u0275prov=S({token:n,providedIn:"root",factory:()=>null})}return n})();var am={},mC=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){let r=this.injector.get(e,am,i);return r!==am||t===am?r:this.parentInjector.get(e,t,i)}};function mm(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=Pp(r,a);else if(o==2){let c=a,l=e[++s];i=Pp(i,c+": "+l+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function he(n,e=0){let t=ie();if(t===null)return P(n,e);let i=Ut();return TD(i,t,Gt(n),e)}function M0(n,e,t,i,r){let o=i===null?null:{"":-1},s=r(n,t);if(s!==null){let a=s,c=null,l=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,c,l]=d.resolveHostDirectives(s);break}tB(n,e,t,a,o,c,l)}o!==null&&i!==null&&X1(t,i,o)}function X1(n,e,t){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new k(-301,!1);i.push(e[r],o)}}function eB(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function tB(n,e,t,i,r,o,s){let a=i.length,c=!1;for(let p=0;p<a;p++){let m=i[p];!c&&$i(m)&&(c=!0,eB(n,t,p)),Jb(hm(t,e),n,m.type)}aB(t,n.data.length,a);for(let p=0;p<a;p++){let m=i[p];m.providersResolver&&m.providersResolver(m)}let l=!1,d=!1,u=i0(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let p=0;p<a;p++){let m=i[p];if(t.mergedAttrs=xc(t.mergedAttrs,m.hostAttrs),iB(n,t,e,u,m),sB(u,m,r),s!==null&&s.has(m)){let[I,D]=s.get(m);t.directiveToIndex.set(m.type,[u,I+t.directiveStart,D+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,u);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let C=m.type.prototype;!l&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!d&&(C.ngOnChanges||C.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),u++}nB(n,t,o)}function nB(n,e,t){for(let i=e.directiveStart;i<e.directiveEnd;i++){let r=n.data[i];if(t===null||!t.has(r))JA(0,e,r,i),JA(1,e,r,i),eD(e,i,!1);else{let o=t.get(r);XA(0,e,o,i),XA(1,e,o,i),eD(e,i,!0)}}}function JA(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(i),R0(e,o)}}function XA(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),R0(e,s)}}function R0(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function eD(n,e,t){let{attrs:i,inputs:r,hostDirectiveInputs:o}=n;if(i===null||!t&&r===null||t&&o===null||qC(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let c=i[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&r.hasOwnProperty(c)){let l=r[c];for(let d of l)if(d===e){s??=[],s.push(c,i[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let d=0;d<l.length;d+=2)if(l[d]===e){s??=[],s.push(l[d+1],i[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function iB(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=fo(r.type,!0)),s=new Hs(o,$i(r),he,null);n.blueprint[i]=s,t[i]=s,rB(n,e,i,i0(n,t,r.hostVars,Ln),r)}function rB(n,e,t,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;oB(s)!=a&&s.push(a),s.push(t,i,o)}}function oB(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function sB(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;$i(e)&&(t[""]=n)}}function aB(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function cE(n,e,t,i,r,o,s,a){let c=e[z],l=c.consts,d=Xn(l,s),u=Pc(c,n,t,i,d);return o&&M0(c,e,u,Xn(l,a),r),u.mergedAttrs=xc(u.mergedAttrs,u.attrs),u.attrs!==null&&mm(u,u.attrs,!1),u.mergedAttrs!==null&&mm(u,u.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,u),u}function lE(n,e){gD(n,e),db(e)&&n.queries.elementEnd(e)}function cB(n,e,t,i,r,o){let s=e.consts,a=Xn(s,r),c=Pc(e,n,t,i,a);if(c.mergedAttrs=xc(c.mergedAttrs,c.attrs),o!=null){let l=Xn(s,o);c.localNames=[];for(let d=0;d<l.length;d+=2)c.localNames.push(l[d],-1)}return c.attrs!==null&&mm(c,c.attrs,!1),c.mergedAttrs!==null&&mm(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function k0(n,e,t){return n[e]=t}function lB(n,e){return n[e]}function Ki(n,e,t){if(t===Ln)return!1;let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function dB(n,e,t,i){let r=Ki(n,e,t);return Ki(n,e+1,i)||r}function jb(n,e,t){return function i(r){let o=Co(n)?Jn(n.index,e):e;aE(o,5);let s=e[gt],a=tD(e,s,t,r),c=i.__ngNextListenerFn__;for(;c;)a=tD(e,s,c,r)&&a,c=c.__ngNextListenerFn__;return a}}function tD(n,e,t,i){let r=Y(null);try{return Fe(6,e,t),t(i)!==!1}catch(o){return A1(n,o),!1}finally{Fe(7,e,t),Y(r)}}function uB(n,e,t,i,r,o,s,a){let c=wc(n),l=!1,d=null;if(!i&&c&&(d=fB(e,t,o,n.index)),d!==null){let u=d.__ngLastListenerFn__||d;u.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,l=!0}else{let u=pi(n,t),p=i?i(u):u;cL(t,p,o,a);let m=r.listen(p,o,a);if(!hB(o)){let C=i?I=>i(Zn(I[n.index])):n.index;O0(C,e,t,o,a,m,!1)}}return l}function hB(n){return n.startsWith("animation")||n.startsWith("transition")}function fB(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=e[Cc],c=r[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function O0(n,e,t,i,r,o,s){let a=e.firstCreatePass?_b(e):null,c=yb(t),l=c.length;c.push(r,o),a&&a.push(i,n,l,(l+1)*(s?-1:1))}function nD(n,e,t,i,r,o){let s=e[t],a=e[z],l=a.data[t].outputs[i],u=s[l].subscribe(o);O0(n.index,a,e,r,o,u,!0)}var gC=Symbol("BINDING");var gm=class extends _u{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Ir(e);return new js(t,this.ngModule)}};function pB(n){return Object.keys(n).map(e=>{let[t,i,r]=n[e],o={propName:t,templateName:e,isSignal:(i&xm.SignalBased)!==0};return r&&(o.transform=r),o})}function mB(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function gB(n,e,t){let i=e instanceof $e?e:e?.injector;return i&&n.getStandaloneInjector!==null&&(i=n.getStandaloneInjector(i)||i),i?new mC(t,i):t}function vB(n){let e=n.get(St,null);if(e===null)throw new k(407,!1);let t=n.get(x0,null),i=n.get(Ui,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:i,ngReflect:!1}}function yB(n,e){let t=N0(n);return JD(e,t,t==="svg"?ub:t==="math"?aA:null)}function N0(n){return(n.selectors[0][0]||"div").toLowerCase()}var js=class extends Fm{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=pB(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=mB(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=jL(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,i,r,o,s){Fe(22);let a=Y(null);try{let c=this.componentDef,l=_B(i,c,s,o),d=gB(c,r||this.ngModule,e),u=vB(d),p=u.rendererFactory.createRenderer(null,c),m=i?m1(p,i,c.encapsulation,d):yB(c,p),C=s?.some(iD)||o?.some(R=>typeof R!="function"&&R.bindings.some(iD)),I=KC(null,l,null,512|n0(c),null,null,u,p,d,null,BD(m,d,!0));I[Je]=m,Wp(I);let D=null;try{let R=cE(Je,I,2,"#host",()=>l.directiveRegistry,!0,0);t0(p,m,R),Mc(m,I),Nm(l,I,R),LC(l,R,I),lE(l,R),t!==void 0&&CB(R,this.ngContentSelectors,t),D=Jn(R.index,I),I[gt]=D[gt],sE(l,I,null)}catch(R){throw D!==null&&eC(D),eC(I),R}finally{Fe(23),Kp()}return new vm(this.componentType,I,!!C)}finally{Y(a)}}};function _B(n,e,t,i){let r=n?["ng-version","21.0.0"]:zL(e.selectors[0]),o=null,s=null,a=0;if(t)for(let d of t)a+=d[gC].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(i)for(let d=0;d<i.length;d++){let u=i[d];if(typeof u!="function")for(let p of u.bindings){a+=p[gC].requiredVars;let m=d+1;p.create&&(p.targetIdx=m,(o??=[]).push(p)),p.update&&(p.targetIdx=m,(s??=[]).push(p))}}let c=[e];if(i)for(let d of i){let u=typeof d=="function"?d:d.type,p=ib(u);c.push(p)}return WC(0,null,bB(o,s),1,a,c,null,null,null,[r],null)}function bB(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let i of n)i.create();if(t&2&&e)for(let i of e)i.update()}}function iD(n){let e=n[gC].kind;return e==="input"||e==="twoWay"}var vm=class extends D0{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,i){super(),this._rootLView=t,this._hasInputBindings=i,this._tNode=Qd(t[z],Je),this.location=Oc(this._tNode,t),this.instance=Jn(this._tNode.index,t)[gt],this.hostView=this.changeDetectorRef=new Io(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let r=this._rootLView,o=oE(i,r[z],r,e,t);this.previousInputValues.set(e,t);let s=Jn(i.index,r);aE(s,1)}get injector(){return new Us(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function CB(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null&&o.length?Array.from(o):null)}}var Jt=(()=>{class n{static __NG_ELEMENT_ID__=EB}return n})();function EB(){let n=Ut();return F0(n,ie())}var wB=Jt,P0=class extends wB{_lContainer;_hostTNode;_hostLView;constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Oc(this._hostTNode,this._hostLView)}get injector(){return new Us(this._hostTNode,this._hostLView)}get parentInjector(){let e=OC(this._hostTNode,this._hostLView);if(_D(e)){let t=dm(e,this._hostLView),i=lm(e),r=t[z].data[i+8];return new Us(r,t)}else return new Us(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=rD(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-ct}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=pm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,Rc(this._hostTNode,s)),a}createComponent(e,t,i,r,o,s,a){let c=e&&!FF(e),l;if(c)l=t;else{let D=t||{};l=D.index,i=D.injector,r=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef,s=D.directives,a=D.bindings}let d=c?e:new js(Ir(e)),u=i||this.parentInjector;if(!o&&d.ngModule==null){let R=(c?u:this.parentInjector).get($e,null);R&&(o=R)}let p=Ir(d.componentType??{}),m=pm(this._lContainer,p?.id??null),C=m?.firstChild??null,I=d.create(u,r,C,o,s,a);return this.insertImpl(I.hostView,l,Rc(this._hostTNode,m)),I}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(lA(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[Ot],l=new P0(c,c[rn],c[Ot]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return yu(s,r,o,i),e.attachToViewContainerRef(),X_(zb(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=rD(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=au(this._lContainer,t);i&&(qd(zb(this._lContainer),t),km(i[z],i))}detach(e){let t=this._adjustIndex(e,-1),i=au(this._lContainer,t);return i&&qd(zb(this._lContainer),t)!=null?new Io(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function rD(n){return n[Yd]}function zb(n){return n[Yd]||(n[Yd]=[])}function F0(n,e){let t,i=e[n.index];return fi(i)?t=i:(t=w0(i,e,null,n),e[n.index]=t,YC(e,t)),TB(t,e,n,i),new P0(t,n,e)}function IB(n,e){let t=n[Ye],i=t.createComment(""),r=pi(e,n),o=t.parentNode(r);return fm(t,o,i,t.nextSibling(r),!1),i}var TB=DB,SB=()=>!1;function AB(n,e,t){return SB(n,e,t)}function DB(n,e,t,i){if(n[bo])return;let r;t.type&8?r=Zn(i):r=IB(e,t),n[bo]=r}var vC=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},yC=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)uE(e,t).matches!==null&&this.queries[t].setDirty()}},ym=class{flags;read;predicate;constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=OB(e):this.predicate=e}},_C=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},bC=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,t,xB(t,o)),this.matchTNodeWithReadOption(e,t,sm(t,e,o,!1,!1))}else i===Fn?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,sm(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===W||r===Jt||r===Fn&&t.type&4)this.addMatch(t.index,-2);else{let o=sm(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function xB(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function MB(n,e){return n.type&11?Oc(n,e):n.type&4?Pm(n,e):null}function RB(n,e,t,i){return t===-1?MB(e,n):t===-2?kB(n,e,i):ru(n,n[z],t,e)}function kB(n,e,t){if(t===W)return Oc(e,n);if(t===Fn)return Pm(e,n);if(t===Jt)return F0(e,n)}function L0(n,e,t,i){let r=e[ji].queries[i];if(r.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let d=o[l];a.push(RB(e,d,s[c+1],t.metadata.read))}}r.matches=a}return r.matches}function CC(n,e,t,i){let r=n.queries.getByIndex(t),o=r.matches;if(o!==null){let s=L0(n,e,r,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)i.push(s[a/2]);else{let l=o[a+1],d=e[-c];for(let u=ct;u<d.length;u++){let p=d[u];p[_o]===p[Ot]&&CC(p[z],p,l,i)}if(d[Ps]!==null){let u=d[Ps];for(let p=0;p<u.length;p++){let m=u[p];CC(m[z],m,l,i)}}}}}return i}function dE(n,e){return n[ji].queries[e].queryList}function B0(n,e,t){let i=new qi((t&4)===4);return hA(n,e,i,i.destroy),(e[ji]??=new yC).queries.push(new vC(i))-1}function U0(n,e,t){let i=lt();return i.firstCreatePass&&(V0(i,new ym(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),B0(i,ie(),e)}function H0(n,e,t,i){let r=lt();if(r.firstCreatePass){let o=Ut();V0(r,new ym(e,t,i),o.index),NB(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return B0(r,ie(),t)}function OB(n){return n.split(",").map(e=>e.trim())}function V0(n,e,t){n.queries===null&&(n.queries=new _C),n.queries.track(new bC(e,t))}function NB(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function uE(n,e){return n.queries.getByIndex(e)}function j0(n,e){let t=n[z],i=uE(t,e);return i.crossesNgTemplate?CC(t,n,e,[]):L0(t,n,i,e)}function z0(n,e,t){let i,r=wd(()=>{i._dirtyCounter();let o=PB(i,n);if(e&&o===void 0)throw new k(-951,!1);return o});return i=r[Bt],i._dirtyCounter=ye(0),i._flatValue=void 0,r}function hE(n){return z0(!0,!1,n)}function fE(n){return z0(!0,!0,n)}function $0(n,e){let t=n[Bt];t._lView=ie(),t._queryIndex=e,t._queryList=dE(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(i=>i+1))}function PB(n,e){let t=n._lView,i=n._queryIndex;if(t===void 0||i===void 0||t[ee]&4)return e?void 0:Qt;let r=dE(t,i),o=j0(t,i);return r.reset(o,DD),e?r.first:r._changesDetected||n._flatValue===void 0?n._flatValue=r.toArray():n._flatValue}var Yi=class{},Lm=class{};var _m=class extends Yi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new gm(this);constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t;let o=nb(e);this._bootstrapComponents=YD(o.bootstrap),this._r3Injector=kb(e,t,[{provide:Yi,useValue:this},{provide:_u,useValue:this.componentFactoryResolver},...i],wr(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},bm=class extends Lm{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new _m(this.moduleType,e,[])}};var cu=class extends Yi{injector;componentFactoryResolver=new gm(this);instance=null;constructor(e){super();let t=new Ds([...e.providers,{provide:Yi,useValue:this},{provide:_u,useValue:this.componentFactoryResolver}],e.parent||bc(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function bu(n,e,t=null){return new cu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var FB=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=rb(!1,t.type),r=i.length>0?bu([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=S({token:n,providedIn:"environment",factory:()=>new n(P($e))})}return n})();function Q(n){return uu(()=>{let e=G0(n),t=M(g({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===NC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(FB).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||vi.Emulated,styles:n.styles||Qt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&So("NgStandalone"),q0(t);let i=n.dependencies;return t.directiveDefs=oD(i,LB),t.pipeDefs=oD(i,XS),t.id=HB(t),t})}function LB(n){return Ir(n)||ib(n)}function K(n){return uu(()=>({type:n.type,bootstrap:n.bootstrap||Qt,declarations:n.declarations||Qt,imports:n.imports||Qt,exports:n.exports||Qt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function BB(n,e){if(n==null)return vo;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,a,c;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,c=r[3]||null):(o=r,s=r,a=xm.None,c=null),t[o]=[i,a,c],e[o]=s}return t}function UB(n){if(n==null)return vo;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function F(n){return uu(()=>{let e=G0(n);return q0(e),e})}function pE(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function G0(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||vo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Qt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:BB(n.inputs,e),outputs:UB(n.outputs),debugInfo:null}}function q0(n){n.features?.forEach(e=>e(n))}function oD(n,e){return n?()=>{let t=typeof n=="function"?n():n,i=[];for(let r of t){let o=e(r);o!==null&&i.push(o)}return i}:null}function HB(n){let e=0,t=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of i.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function VB(n){return Object.getPrototypeOf(n.prototype).constructor}function Ge(n){let e=VB(n.type),t=!0,i=[n];for(;e;){let r;if($i(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new k(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let s=n;s.inputs=$b(n.inputs),s.declaredInputs=$b(n.declaredInputs),s.outputs=$b(n.outputs);let a=r.hostBindings;a&&qB(n,a);let c=r.viewQuery,l=r.contentQueries;if(c&&$B(n,c),l&&GB(n,l),jB(n,r),$S(n.outputs,r.outputs),$i(r)&&r.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Ge&&(t=!1)}}e=Object.getPrototypeOf(e)}zB(i)}function jB(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t])}}function zB(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=xc(r.hostAttrs,t=xc(t,r.hostAttrs))}}function $b(n){return n===vo?{}:n===Qt?[]:n}function $B(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function GB(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,o)=>{e(i,r,o),t(i,r,o)}:n.contentQueries=e}function qB(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function W0(n,e,t,i,r,o,s,a){if(t.firstCreatePass){n.mergedAttrs=xc(n.mergedAttrs,n.attrs);let d=n.tView=WC(2,n,r,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Tc(n,!1);let c=KB(t,e,n,i);Zp()&&eE(t,e,c,n),Mc(c,e);let l=w0(c,e,c,n);e[i+Je]=l,YC(e,l),AB(l,n,e)}function WB(n,e,t,i,r,o,s,a,c,l,d){let u=t+Je,p;return e.firstCreatePass?(p=Pc(e,u,4,s||null,a||null),$p()&&M0(e,n,p,Xn(e.consts,l),nE),gD(e,p)):p=e.data[u],W0(p,n,e,t,i,r,o,c),wc(p)&&Nm(e,n,p),l!=null&&gu(n,p,d),p}function lu(n,e,t,i,r,o,s,a,c,l,d){let u=t+Je,p;if(e.firstCreatePass){if(p=Pc(e,u,4,s||null,a||null),l!=null){let m=Xn(e.consts,l);p.localNames=[];for(let C=0;C<m.length;C+=2)p.localNames.push(m[C],-1)}}else p=e.data[u];return W0(p,n,e,t,i,r,o,c),l!=null&&gu(n,p,d),p}function ni(n,e,t,i,r,o,s,a){let c=ie(),l=lt(),d=Xn(l.consts,o);return WB(c,l,n,e,t,i,r,d,void 0,s,a),ni}var KB=YB;function YB(n,e,t,i){return Xd(!0),e[Ye].createComment("")}var Bm=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function Fc(n){return typeof n=="function"&&n[Bt]!==void 0}var mE=new w("");function Ao(n){return!!n&&typeof n.then=="function"}function gE(n){return!!n&&typeof n.subscribe=="function"}var Um=new w("");var vE=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i});appInits=h(Um,{optional:!0})??[];injector=h(me);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=qt(this.injector,r);if(Ao(o))t.push(o);else if(gE(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hm=new w("");function K0(){m_(()=>{let n="";throw new k(600,n)})}function Y0(n){return n.isBoundToModule}var QB=10;var Bn=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=h(Pn);afterRenderManager=h(Rm);zonelessEnabled=h(eu);rootEffectScheduler=h(Xp);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new O;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=h(Ar);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(X(t=>!t))}constructor(){h(Zi,{optional:!0})}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}_injector=h($e);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,i){return this.bootstrapImpl(t,i)}bootstrapImpl(t,i,r=me.NULL){return this._injector.get(U).run(()=>{Fe(10);let s=t instanceof Fm;if(!this._injector.get(vE).done){let C="";throw new k(405,C)}let c;s?c=t:c=this._injector.get(_u).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let l=Y0(c)?void 0:this._injector.get(Yi),d=i||c.selector,u=c.create(r,[],d,l),p=u.location.nativeElement,m=u.injector.get(mE,null);return m?.registerApplication(p),u.onDestroy(()=>{this.detachView(u.hostView),iu(this.components,u),m?.unregisterApplication(p)}),this._loadComponent(u),Fe(11,u),u})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Fe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Mm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new k(101,!1);let t=Y(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Y(t),this.afterTick.next(),Fe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(St,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<QB;)Fe(14),this.synchronizeOnce(),Fe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!Zd(r))continue;let o=i&&!this.zonelessEnabled?0:1;_0(r,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Zd(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;iu(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(t),this._injector.get(Hm,[]).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>iu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new k(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Te(n,e,t,i){let r=ie(),o=Bs();if(Ki(r,o,e)){let s=lt(),a=Yp();I1(a,r,n,e,t,i)}return Te}var AQ=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var EC=class{destroy(e){}updateValue(e,t){}swap(e,t){let i=Math.min(e,t),r=Math.max(e,t),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,t){this.attach(t,this.detach(e))}};function Gb(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function ZB(n,e,t,i){let r,o,s=0,a=n.length-1,c=void 0;if(Array.isArray(e)){Y(i);let l=e.length-1;for(Y(null);s<=a&&s<=l;){let d=n.at(s),u=e[s],p=Gb(s,d,s,u,t);if(p!==0){p<0&&n.updateValue(s,u),s++;continue}let m=n.at(a),C=e[l],I=Gb(a,m,l,C,t);if(I!==0){I<0&&n.updateValue(a,C),a--,l--;continue}let D=t(s,d),R=t(a,m),q=t(s,u);if(Object.is(q,R)){let ke=t(l,C);Object.is(ke,D)?(n.swap(s,a),n.updateValue(a,C),l--,a--):n.move(a,s),n.updateValue(s,u),s++;continue}if(r??=new Cm,o??=aD(n,s,a,t),wC(n,r,s,q))n.updateValue(s,u),s++,a++;else if(o.has(q))r.set(D,n.detach(s)),a--;else{let ke=n.create(s,e[s]);n.attach(s,ke),s++,a++}}for(;s<=l;)sD(n,r,t,s,e[s]),s++}else if(e!=null){Y(i);let l=e[Symbol.iterator]();Y(null);let d=l.next();for(;!d.done&&s<=a;){let u=n.at(s),p=d.value,m=Gb(s,u,s,p,t);if(m!==0)m<0&&n.updateValue(s,p),s++,d=l.next();else{r??=new Cm,o??=aD(n,s,a,t);let C=t(s,p);if(wC(n,r,s,C))n.updateValue(s,p),s++,a++,d=l.next();else if(!o.has(C))n.attach(s,n.create(s,p)),s++,a++,d=l.next();else{let I=t(s,u);r.set(I,n.detach(s)),a--}}}for(;!d.done;)sD(n,r,t,n.length,d.value),d=l.next()}for(;s<=a;)n.destroy(n.detach(a--));r?.forEach(l=>{n.destroy(l)})}function wC(n,e,t,i){return e!==void 0&&e.has(i)?(n.attach(t,e.get(i)),e.delete(i),!0):!1}function sD(n,e,t,i,r){if(wC(n,e,i,t(i,r)))n.updateValue(i,r);else{let o=n.create(i,r);n.attach(i,o)}}function aD(n,e,t,i){let r=new Set;for(let o=e;o<=t;o++)r.add(i(o,n.at(o)));return r}var Cm=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}};function $(n,e,t,i,r,o,s,a){So("NgControlFlow");let c=ie(),l=lt(),d=Xn(l.consts,o);return lu(c,l,n,e,t,i,r,d,256,s,a),yE}function yE(n,e,t,i,r,o,s,a){So("NgControlFlow");let c=ie(),l=lt(),d=Xn(l.consts,o);return lu(c,l,n,e,t,i,r,d,512,s,a),yE}function G(n,e){So("NgControlFlow");let t=ie(),i=Bs(),r=t[i]!==Ln?t[i]:-1,o=r!==-1?Em(t,Je+r):void 0,s=0;if(Ki(t,i,n)){let a=Y(null);try{if(o!==void 0&&T0(o,s),n!==-1){let c=Je+n,l=Em(t,c),d=AC(t[z],c),u=A0(l,d,t),p=vu(t,d,e,{dehydratedView:u});yu(l,p,s,Rc(d,u))}}finally{Y(a)}}else if(o!==void 0){let a=I0(o,s);a!==void 0&&(a[gt]=e)}}var IC=class{lContainer;$implicit;$index;constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-ct}};function Gs(n,e){return e}var TC=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}};function qs(n,e,t,i,r,o,s,a,c,l,d,u,p){So("NgControlFlow");let m=ie(),C=lt(),I=c!==void 0,D=ie(),R=a?s.bind(D[on][gt]):s,q=new TC(I,R);D[Je+n]=q,lu(m,C,n+1,e,t,i,r,Xn(C.consts,o),256),I&&lu(m,C,n+2,c,l,d,u,Xn(C.consts,p),512)}var SC=class extends EC{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i}get length(){return this.lContainer.length-ct}at(e){return this.getLView(e)[gt].$implicit}attach(e,t){let i=t[Ms];this.needsIndexUpdate||=e!==this.length,yu(this.lContainer,t,e,Rc(this.templateTNode,i)),JB(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,XB(this.lContainer,e),eU(this.lContainer,e)}create(e,t){let i=pm(this.lContainer,this.templateTNode.tView.ssrId),r=vu(this.hostLView,this.templateTNode,new IC(this.lContainer,t,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){km(e[z],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[gt].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[gt].$index=e}getLView(e){return tU(this.lContainer,e)}};function Ws(n){let e=Y(null),t=Sr();try{let i=ie(),r=i[z],o=i[t],s=t+1,a=Em(i,s);if(o.liveCollection===void 0){let l=AC(r,s);o.liveCollection=new SC(a,i,l)}else o.liveCollection.reset();let c=o.liveCollection;if(ZB(c,n,o.trackByFn,e),c.updateIndexes(),o.hasEmptyBlock){let l=Bs(),d=c.length===0;if(Ki(i,l,d)){let u=t+2,p=Em(i,u);if(d){let m=AC(r,u),C=A0(p,m,i),I=vu(i,m,void 0,{dehydratedView:C});yu(p,I,0,Rc(m,C))}else r.firstUpdatePass&&K1(p),T0(p,0)}}}finally{Y(e)}}function Em(n,e){return n[e]}function JB(n,e){if(n.length<=ct)return;let t=ct+e,i=n[t],r=i?i[Ns]:void 0;if(i&&r&&r.detachedLeaveAnimationFns&&r.detachedLeaveAnimationFns.length>0){let o=i[Tr];t1(o,r),Vs.delete(i),r.detachedLeaveAnimationFns=void 0}}function XB(n,e){if(n.length<=ct)return;let t=ct+e,i=n[t],r=i?i[Ns]:void 0;r&&r.leave&&r.leave.size>0&&(r.detachedLeaveAnimationFns=[])}function eU(n,e){return au(n,e)}function tU(n,e){return I0(n,e)}function AC(n,e){return Qd(n,e)}function Pe(n,e,t){let i=ie(),r=Bs();if(Ki(i,r,e)){let o=lt(),s=Yp();_1(s,i,n,e,i[Ye],t)}return Pe}function DC(n,e,t,i,r){oE(e,n,t,r?"class":"style",i)}function y(n,e,t,i){let r=ie(),o=r[z],s=n+Je,a=o.firstCreatePass?cE(s,r,2,e,nE,$p(),t,i):o.data[s];if(iE(a,r,n,e,Q0),wc(a)){let c=r[z];Nm(c,r,a),LC(c,a,r)}return i!=null&&gu(r,a),y}function v(){let n=lt(),e=Ut(),t=rE(e);return n.firstCreatePass&&lE(n,t),Eb(t)&&wb(),bb(),t.classesWithoutHost!=null&&jF(t)&&DC(n,t,ie(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&zF(t)&&DC(n,t,ie(),t.stylesWithoutHost,!1),v}function De(n,e,t,i){return y(n,e,t,i),v(),De}function an(n,e,t,i){let r=ie(),o=r[z],s=n+Je,a=o.firstCreatePass?cB(s,o,2,e,t,i):o.data[s];return iE(a,r,n,e,Q0),i!=null&&gu(r,a),an}function Cn(){let n=Ut(),e=rE(n);return Eb(e)&&wb(),bb(),Cn}function En(n,e,t,i){return an(n,e,t,i),Cn(),En}var Q0=(n,e,t,i,r)=>(Xd(!0),JD(e[Ye],i,SA()));function _E(n,e,t){let i=ie(),r=i[z],o=n+Je,s=r.firstCreatePass?cE(o,i,8,"ng-container",nE,$p(),e,t):r.data[o];if(iE(s,i,n,"ng-container",nU),wc(s)){let a=i[z];Nm(a,i,s),LC(a,s,i)}return t!=null&&gu(i,s),_E}function bE(){let n=lt(),e=Ut(),t=rE(e);return n.firstCreatePass&&lE(n,t),bE}function Lc(n,e,t){return _E(n,e,t),bE(),Lc}var nU=(n,e,t,i,r)=>(Xd(!0),qL(e[Ye],""));function yi(){return ie()}function Mr(n,e,t){let i=ie(),r=Bs();if(Ki(i,r,e)){let o=lt(),s=Yp();f0(s,i,n,e,i[Ye],t)}return Mr}var tu=void 0;function iU(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var rU=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],tu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],tu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",tu,tu,tu],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",iU],qb={};function Un(n){let e=oU(n),t=cD(e);if(t)return t;let i=e.split("-")[0];if(t=cD(i),t)return t;if(i==="en")return rU;throw new k(701,!1)}function cD(n){return n in qb||(qb[n]=Kn.ng&&Kn.ng.common&&Kn.ng.common.locales&&Kn.ng.common.locales[n]),qb[n]}var _t=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(_t||{});function oU(n){return n.toLowerCase().replace(/_/g,"-")}var Cu="en-US";var sU=Cu;function Z0(n){typeof n=="string"&&(sU=n.toLowerCase().replace(/_/g,"-"))}function xe(n,e,t){let i=ie(),r=lt(),o=Ut();return aU(r,i,i[Ye],o,n,e,t),xe}function aU(n,e,t,i,r,o,s){let a=!0,c=null;if((i.type&3||s)&&(c??=jb(i,e,o),uB(i,n,e,s,t,r,o,c)&&(a=!1)),a){let l=i.outputs?.[r],d=i.hostDirectiveOutputs?.[r];if(d&&d.length)for(let u=0;u<d.length;u+=2){let p=d[u],m=d[u+1];c??=jb(i,e,o),nD(i,e,p,m,r,c)}if(l&&l.length)for(let u of l)c??=jb(i,e,o),nD(i,e,u,r,r,c)}}function J(n=1){return TA(n)}function cU(n,e){let t=null,i=LL(n);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){t=r;continue}if(i===null?ZD(n,o,!0):HL(i,o))return r}return t}function bt(n){let e=ie()[on][rn];if(!e.projection){let t=n?n.length:1,i=e.projection=ZS(t,null),r=i.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?cU(o,n):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function _e(n,e=0,t,i,r,o){let s=ie(),a=lt(),c=i?n+1:null;c!==null&&lu(s,a,c,i,r,o,null,t);let l=Pc(a,Je+n,16,null,t||null);l.projection===null&&(l.projection=e),Sb();let u=!s[Ms]||Cb();s[on][rn].projection[l.projection]===null&&c!==null?lU(s,a,c):u&&!Sm(l)&&h1(a,s,l)}function lU(n,e,t){let i=Je+t,r=e.data[i],o=n[i],s=pm(o,r.tView.ssrId),a=vu(n,r,void 0,{dehydratedView:s});yu(o,a,0,Rc(r,s))}function tt(n,e,t,i){H0(n,e,t,i)}function Xe(n,e,t){U0(n,e,t)}function de(n){let e=ie(),t=lt(),i=qp();Jd(i+1);let r=uE(t,i);if(n.dirty&&cA(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=j0(e,i);n.reset(o,DD),n.notifyOnChanges()}return!0}return!1}function ue(){return dE(ie(),qp())}function CE(n,e,t,i,r){$0(e,H0(n,t,i,r))}function Bc(n,e,t,i){$0(n,U0(e,t,i))}function Vm(n=1){Jd(qp()+n)}function Uc(n){let e=gA();return fb(e,Je+n)}function im(n,e){return n<<17|e<<2}function zs(n){return n>>17&32767}function dU(n){return(n&2)==2}function uU(n,e){return n&131071|e<<17}function xC(n){return n|2}function kc(n){return(n&131068)>>2}function Wb(n,e){return n&-131069|e<<2}function hU(n){return(n&1)===1}function MC(n){return n|1}function fU(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=zs(s),c=kc(s);n[i]=t;let l=!1,d;if(Array.isArray(t)){let u=t;d=u[1],(d===null||_c(u,d)>0)&&(l=!0)}else d=t;if(r)if(c!==0){let p=zs(n[a+1]);n[i+1]=im(p,a),p!==0&&(n[p+1]=Wb(n[p+1],i)),n[a+1]=uU(n[a+1],i)}else n[i+1]=im(a,0),a!==0&&(n[a+1]=Wb(n[a+1],i)),a=i;else n[i+1]=im(c,0),a===0?a=i:n[c+1]=Wb(n[c+1],i),c=i;l&&(n[i+1]=xC(n[i+1])),lD(n,d,i,!0),lD(n,d,i,!1),pU(e,d,n,i,o),s=im(a,c),o?e.classBindings=s:e.styleBindings=s}function pU(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&_c(o,e)>=0&&(t[i+1]=MC(t[i+1]))}function lD(n,e,t,i){let r=n[t+1],o=e===null,s=i?zs(r):kc(r),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];mU(c,e)&&(a=!0,n[s+1]=i?MC(l):xC(l)),s=i?zs(l):kc(l)}a&&(n[t+1]=i?xC(r):MC(r))}function mU(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?_c(n,e)>=0:!1}var gi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function gU(n){return n.substring(gi.key,gi.keyEnd)}function vU(n){return yU(n),J0(n,X0(n,0,gi.textEnd))}function J0(n,e){let t=gi.textEnd;return t===e?-1:(e=gi.keyEnd=_U(n,gi.key=e,t),X0(n,e,t))}function yU(n){gi.key=0,gi.keyEnd=0,gi.value=0,gi.valueEnd=0,gi.textEnd=n.length}function X0(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function _U(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function _i(n,e,t){return ex(n,e,t,!1),_i}function re(n,e){return ex(n,e,null,!0),re}function bi(n){CU(AU,bU,n,!0)}function bU(n,e){for(let t=vU(e);t>=0;t=J0(e,t))Up(n,gU(e),!0)}function ex(n,e,t,i){let r=ie(),o=lt(),s=xb(2);if(o.firstUpdatePass&&nx(o,n,s,i),e!==Ln&&Ki(r,s,e)){let a=o.data[Sr()];ix(o,a,r,r[Ye],n,r[s+1]=xU(e,t),i,s)}}function CU(n,e,t,i){let r=lt(),o=xb(2);r.firstUpdatePass&&nx(r,null,o,i);let s=ie();if(t!==Ln&&Ki(s,o,t)){let a=r.data[Sr()];if(rx(a,i)&&!tx(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=Pp(c,t||"")),DC(r,a,s,t,i)}else DU(r,a,s,s[Ye],s[o+1],s[o+1]=SU(n,e,t),i,o)}}function tx(n,e){return e>=n.expandoStartIndex}function nx(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[Sr()],s=tx(n,t);rx(o,i)&&e===null&&!s&&(e=!1),e=EU(r,o,e,i),fU(r,o,e,t,s,i)}}function EU(n,e,t,i){let r=CA(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=Kb(null,n,e,t,i),t=du(t,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==r)if(t=Kb(r,n,e,t,i),o===null){let c=wU(n,e,i);c!==void 0&&Array.isArray(c)&&(c=Kb(null,n,e,c[1],i),c=du(c,e.attrs,i),IU(n,e,i,c))}else o=TU(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function wU(n,e,t){let i=t?e.classBindings:e.styleBindings;if(kc(i)!==0)return n[zs(i)]}function IU(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[zs(r)]=i}function TU(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=du(i,s,t)}return du(i,e.attrs,t)}function Kb(n,e,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],i=du(i,o.hostAttrs,r),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function du(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Up(n,s,t?!0:e[++o]))}return n===void 0?null:n}function SU(n,e,t){if(t==null||t==="")return Qt;let i=[],r=ti(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function AU(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&Up(n,i,t)}function DU(n,e,t,i,r,o,s,a){r===Ln&&(r=Qt);let c=0,l=0,d=0<r.length?r[0]:null,u=0<o.length?o[0]:null;for(;d!==null||u!==null;){let p=c<r.length?r[c+1]:void 0,m=l<o.length?o[l+1]:void 0,C=null,I;d===u?(c+=2,l+=2,p!==m&&(C=u,I=m)):u===null||d!==null&&d<u?(c+=2,C=d):(l+=2,C=u,I=m),C!==null&&ix(n,e,t,i,C,I,s,a),d=c<r.length?r[c]:null,u=l<o.length?o[l]:null}}function ix(n,e,t,i,r,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],d=hU(l)?dD(c,e,t,r,kc(l),s):void 0;if(!wm(d)){wm(o)||dU(l)&&(o=dD(c,null,t,r,a,s));let u=hb(Sr(),t);p1(i,s,u,r,o)}}function dD(n,e,t,i,r,o){let s=e===null,a;for(;r>0;){let c=n[r],l=Array.isArray(c),d=l?c[1]:c,u=d===null,p=t[r+1];p===Ln&&(p=u?Qt:void 0);let m=u?Hp(p,i):d===i?p:void 0;if(l&&!wm(m)&&(m=Hp(c,i)),wm(m)&&(a=m,s))return a;let C=n[r+1];r=s?zs(C):kc(C)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Hp(c,i))}return a}function wm(n){return n!==void 0}function xU(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=wr(ti(n)))),n}function rx(n,e){return(n.flags&(e?8:16))!==0}function _(n,e=""){let t=ie(),i=lt(),r=n+Je,o=i.firstCreatePass?Pc(i,r,1,e,null):i.data[r],s=MU(i,t,o,e,n);t[r]=s,Zp()&&eE(i,t,s,o),Tc(o,!1)}var MU=(n,e,t,i,r)=>(Xd(!0),$L(e[Ye],i));function RU(n,e,t,i=""){return Ki(n,Bs(),t)?e+yc(t)+i:Ln}function Se(n){return cn("",n),Se}function cn(n,e,t){let i=ie(),r=RU(i,n,e,t);return r!==Ln&&kU(i,Sr(),r),cn}function kU(n,e,t){let i=hb(e,n);GL(n[Ye],i,t)}function OU(n,e,t){let i=lt();if(i.firstCreatePass){let r=$i(n);RC(t,i.data,i.blueprint,r,!0),RC(e,i.data,i.blueprint,r,!1)}}function RC(n,e,t,i,r){if(n=Gt(n),Array.isArray(n))for(let o=0;o<n.length;o++)RC(n[o],e,t,i,r);else{let o=lt(),s=ie(),a=Ut(),c=As(n)?n:Gt(n.provide),l=sb(n),d=a.providerIndexes&1048575,u=a.directiveStart,p=a.providerIndexes>>20;if(As(n)||!n.multi){let m=new Hs(l,r,he,null),C=Qb(c,e,r?d:d+p,u);C===-1?(Jb(hm(a,s),o,c),Yb(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[C]=m,s[C]=m)}else{let m=Qb(c,e,d+p,u),C=Qb(c,e,d,d+p),I=m>=0&&t[m],D=C>=0&&t[C];if(r&&!D||!r&&!I){Jb(hm(a,s),o,c);let R=FU(r?PU:NU,t.length,r,i,l,n);!r&&D&&(t[C].providerFactory=R),Yb(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(R),s.push(R)}else{let R=ox(t[r?C:m],l,!r&&i);Yb(o,n,m>-1?m:C,R)}!r&&i&&D&&t[C].componentProviders++}}}function Yb(n,e,t,i){let r=As(e),o=rA(e);if(r||o){let c=(o?Gt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let d=l.indexOf(t);d===-1?l.push(t,[i,c]):l[d+1].push(i,c)}else l.push(t,c)}}}function ox(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Qb(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function NU(n,e,t,i,r){return kC(this.multi,[])}function PU(n,e,t,i,r){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=ru(i,i[z],this.providerFactory.index,r);s=c.slice(0,a),kC(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],kC(o,s);return s}function kC(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function FU(n,e,t,i,r,o){let s=new Hs(n,t,he,null);return s.multi=[],s.index=e,s.componentProviders=0,ox(s,r,i&&!t),s}function ut(n,e=[]){return t=>{t.providersResolver=(i,r)=>OU(i,r?r(n):n,e)}}function EE(n,e,t){let i=Db()+n,r=ie();return r[i]===Ln?k0(r,i,t?e.call(t):e()):lB(r,i)}function LU(n,e){let t=n[e];return t===Ln?void 0:t}function BU(n,e,t,i,r,o,s){let a=e+t;return dB(n,a,r,o)?k0(n,a+2,s?i.call(s,r,o):i(r,o)):LU(n,a+2)}function Ks(n,e){let t=lt(),i,r=n+Je;t.firstCreatePass?(i=UU(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=fo(i.type,!0)),s,a=nn(he);try{let c=um(!1),l=o();return um(c),pb(t,ie(),r,l),l}finally{nn(a)}}function UU(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function Ys(n,e,t,i){let r=n+Je,o=ie(),s=fb(o,r);return HU(o,r)?BU(o,Db(),e,s.transform,t,i,s):s.transform(t,i)}function HU(n,e){return n[z].data[e].pure}function Eu(n,e){return Pm(n,e)}var Im=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},wE=(()=>{class n{compileModuleSync(t){return new bm(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=nb(t),o=YD(r.declarations).reduce((s,a)=>{let c=Ir(a);return c&&s.push(new js(c)),s},[]);return new Im(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sx=(()=>{class n{applicationErrorHandler=h(Pn);appRef=h(Bn);taskService=h(Ar);ngZone=h(U);zonelessEnabled=h(eu);tracing=h(Zi,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ae;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(zd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(h(Bb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Nb:Ob;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(zd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(t),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Nb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ax(){return[{provide:Ui,useExisting:sx},{provide:U,useClass:$d},{provide:eu,useValue:!0}]}function VU(){return typeof $localize<"u"&&$localize.locale||Cu}var wu=new w("",{factory:()=>h(wu,{optional:!0,skipSelf:!0})||VU()});function qe(n,e){return wd(n,e?.equal)}var fx=Symbol("InputSignalNode#UNSET"),eH=M(g({},Td),{transformFn:void 0,applyValueToInputSignal(n,e){Id(n,e)}});function px(n,e){let t=Object.create(eH);t.value=n,t.transformFn=e?.transform;function i(){if(ac(t),t.value===fx){let r=null;throw new k(-950,r)}return t.value}return i[Bt]=t,i}var Do=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>hu(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},mx=(()=>{let n=new w("");return n.__NG_ELEMENT_ID__=e=>{let t=Ut();if(t===null)throw new k(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new k(204,!1)},n})();function cx(n,e){return px(n,e)}function tH(n){return px(fx,n)}var gx=(cx.required=tH,cx);function lx(n,e){return hE(e)}function nH(n,e){return fE(e)}var Su=(lx.required=nH,lx);function dx(n,e){return hE(e)}function iH(n,e){return fE(e)}var vx=(dx.required=iH,dx);var TE=new w(""),rH=new w("");function Iu(n){return!n.moduleRef}function oH(n){let e=Iu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(U);return t.run(()=>{Iu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(Pn),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:i})}),Iu(n)){let o=()=>e.destroy(),s=n.platformInjector.get(TE);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(TE);s.add(o),n.moduleRef.onDestroy(()=>{iu(n.allPlatformModules,n.moduleRef),r.unsubscribe(),s.delete(o)})}return aH(i,t,()=>{let o=e.get(Ar),s=o.add(),a=e.get(vE);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(wu,Cu);if(Z0(c||Cu),!e.get(rH,!0))return Iu(n)?e.get(Bn):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Iu(n)){let d=e.get(Bn);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return sH?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var sH;function aH(n,e,t){try{let i=t();return Ao(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n(i)),i}}var jm=null;function cH(n=[],e){return me.create({name:e,providers:[{provide:Wd,useValue:"platform"},{provide:TE,useValue:new Set([()=>jm=null])},...n]})}function lH(n=[]){if(jm)return jm;let e=cH(n);return jm=e,K0(),dH(e),e}function dH(n){let e=n.get(Tm,null);qt(n,()=>{e?.forEach(t=>t())})}var Nt=(()=>{class n{static __NG_ELEMENT_ID__=uH}return n})();function uH(n){return hH(Ut(),ie(),(n&16)===16)}function hH(n,e,t){if(Co(n)&&!t){let i=Jn(n.index,e);return new Io(i,i)}else if(n.type&175){let i=e[on];return new Io(i,e)}return null}function yx(n){let{rootComponent:e,appProviders:t,platformProviders:i,platformRef:r}=n;Fe(8);try{let o=r?.injector??lH(i),s=[ax(),MA,...t||[]],a=new cu({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return oH({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Fe(9)}}function Me(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Ji(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}var IE=Symbol("NOT_SET"),_x=new Set,fH=M(g({},Td),{kind:"afterRenderEffectPhase",consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:IE,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(this.sequence.lastPhase===null||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(n){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==IE&&!lc(this))return this.signal;try{for(let r of this.cleanup??_x)r()}finally{this.cleanup?.clear()}let e=[];n!==void 0&&e.push(n),e.push(this.registerCleanupFn);let t=gs(this),i;try{i=this.userFn.apply(null,e)}finally{cc(this,t)}return(this.value===IE||!this.equal(this.value,i))&&(this.value=i,this.version++),this.signal}}),SE=class extends ou{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];constructor(e,t,i,r,o,s=null){super(e,[void 0,void 0,void 0,void 0],i,!1,o.get(Nn),s),this.scheduler=r;for(let a of ZC){let c=t[a];if(c===void 0)continue;let l=Object.create(fH);l.sequence=this,l.phase=a,l.userFn=c,l.dirty=!0,l.signal=()=>(ac(l),l.value),l.signal[Bt]=l,l.registerCleanupFn=d=>(l.cleanup??=new Set).add(d),this.nodes[a]=l,this.hooks[a]=d=>l.phaseFn(d)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){super.destroy();for(let e of this.nodes)if(e)try{for(let t of e.cleanup??_x)t()}finally{lo(e)}}};function bx(n,e){let t=e?.injector??h(me),i=t.get(Ui),r=t.get(Rm),o=t.get(Zi,null,{optional:!0});r.impl??=t.get(JC);let s=n;typeof s=="function"&&(s={mixedReadWrite:n});let a=t.get(Sc,null,{optional:!0}),c=new SE(r.impl,[s.earlyRead,s.write,s.mixedReadWrite,s.read],a?.view,i,t,o?.snapshot(null));return r.impl.register(c),c}function zm(n,e){let t=Ir(n),i=e.elementInjector||bc();return new js(t).create(i,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}var wx=null;function ii(){return wx}function AE(n){wx??=n}var Au=class{},DE=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:()=>h(Ix),providedIn:"platform"})}return n})();var Ix=(()=>{class n extends DE{_location;_history;_doc=h(H);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ii().getBaseHref(this._doc)}onPopState(t){let i=ii().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=ii().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Tx(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function Cx(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function xo(n){return n&&n[0]!=="?"?`?${n}`:n}var Hc=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:()=>h(Ax),providedIn:"root"})}return n})(),Sx=new w(""),Ax=(()=>{class n extends Hc{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??h(H).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Tx(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+xo(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+xo(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+xo(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||n)(P(DE),P(Sx,8))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ci=(()=>{class n{_subject=new O;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=gH(Cx(Ex(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+xo(i))}normalize(t){return n.stripTrailingSlash(mH(this._basePath,Ex(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xo(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xo(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=xo;static joinWithSlash=Tx;static stripTrailingSlash=Cx;static \u0275fac=function(i){return new(i||n)(P(Hc))};static \u0275prov=S({token:n,factory:()=>pH(),providedIn:"root"})}return n})();function pH(){return new Ci(P(Hc))}function mH(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Ex(n){return n.replace(/\/index.html$/,"")}function gH(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Xt=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(Xt||{}),Be=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(Be||{}),wn=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(wn||{}),kr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Mx(n){return Un(n)[_t.LocaleId]}function Rx(n,e,t){let i=Un(n),r=[i[_t.DayPeriodsFormat],i[_t.DayPeriodsStandalone]],o=ri(r,e);return ri(o,t)}function kx(n,e,t){let i=Un(n),r=[i[_t.DaysFormat],i[_t.DaysStandalone]],o=ri(r,e);return ri(o,t)}function Ox(n,e,t){let i=Un(n),r=[i[_t.MonthsFormat],i[_t.MonthsStandalone]],o=ri(r,e);return ri(o,t)}function Nx(n,e){let i=Un(n)[_t.Eras];return ri(i,e)}function Du(n,e){let t=Un(n);return ri(t[_t.DateFormat],e)}function xu(n,e){let t=Un(n);return ri(t[_t.TimeFormat],e)}function Mu(n,e){let i=Un(n)[_t.DateTimeFormat];return ri(i,e)}function Ru(n,e){let t=Un(n),i=t[_t.NumberSymbols][e];if(typeof i>"u"){if(e===kr.CurrencyDecimal)return t[_t.NumberSymbols][kr.Decimal];if(e===kr.CurrencyGroup)return t[_t.NumberSymbols][kr.Group]}return i}function Px(n){if(!n[_t.ExtraData])throw new k(2303,!1)}function Fx(n){let e=Un(n);return Px(e),(e[_t.ExtraData][2]||[]).map(i=>typeof i=="string"?xE(i):[xE(i[0]),xE(i[1])])}function Lx(n,e,t){let i=Un(n);Px(i);let r=[i[_t.ExtraData][0],i[_t.ExtraData][1]],o=ri(r,e)||[];return ri(o,t)||[]}function ri(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new k(2304,!1)}function xE(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var yH=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,$m={},_H=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Bx(n,e,t,i){let r=DH(n);e=Rr(t,e)||e;let s=[],a;for(;e;)if(a=_H.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let c=r.getTimezoneOffset();i&&(c=Hx(i,c),r=AH(r,i));let l="";return s.forEach(d=>{let u=TH(d);l+=u?u(r,t,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Ym(n,e,t){let i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Rr(n,e){let t=Mx(n);if($m[t]??={},$m[t][e])return $m[t][e];let i="";switch(e){case"shortDate":i=Du(n,wn.Short);break;case"mediumDate":i=Du(n,wn.Medium);break;case"longDate":i=Du(n,wn.Long);break;case"fullDate":i=Du(n,wn.Full);break;case"shortTime":i=xu(n,wn.Short);break;case"mediumTime":i=xu(n,wn.Medium);break;case"longTime":i=xu(n,wn.Long);break;case"fullTime":i=xu(n,wn.Full);break;case"short":let r=Rr(n,"shortTime"),o=Rr(n,"shortDate");i=Gm(Mu(n,wn.Short),[r,o]);break;case"medium":let s=Rr(n,"mediumTime"),a=Rr(n,"mediumDate");i=Gm(Mu(n,wn.Medium),[s,a]);break;case"long":let c=Rr(n,"longTime"),l=Rr(n,"longDate");i=Gm(Mu(n,wn.Long),[c,l]);break;case"full":let d=Rr(n,"fullTime"),u=Rr(n,"fullDate");i=Gm(Mu(n,wn.Full),[d,u]);break}return i&&($m[t][e]=i),i}function Gm(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return e!=null&&i in e?e[i]:t})),n}function Ei(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function bH(n,e){return Ei(n,3).substring(0,e)}function At(n,e,t=0,i=!1,r=!1){return function(o,s){let a=CH(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return bH(a,e);let c=Ru(s,kr.MinusSign);return Ei(a,e,c,i,r)}}function CH(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new k(2301,!1)}}function We(n,e,t=Xt.Format,i=!1){return function(r,o){return EH(r,o,n,e,t,i)}}function EH(n,e,t,i,r,o){switch(t){case 2:return Ox(e,r,i)[n.getMonth()];case 1:return kx(e,r,i)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let l=Fx(e),d=Lx(e,r,i),u=l.findIndex(p=>{if(Array.isArray(p)){let[m,C]=p,I=s>=m.hours&&a>=m.minutes,D=s<C.hours||s===C.hours&&a<C.minutes;if(m.hours<C.hours){if(I&&D)return!0}else if(I||D)return!0}else if(p.hours===s&&p.minutes===a)return!0;return!1});if(u!==-1)return d[u]}return Rx(e,r,i)[s<12?0:1];case 3:return Nx(e,i)[n.getFullYear()<=0?0:1];default:let c=t;throw new k(2302,!1)}}function qm(n){return function(e,t,i){let r=-1*i,o=Ru(t,kr.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case 0:return(r>=0?"+":"")+Ei(s,2,o)+Ei(Math.abs(r%60),2,o);case 1:return"GMT"+(r>=0?"+":"")+Ei(s,1,o);case 2:return"GMT"+(r>=0?"+":"")+Ei(s,2,o)+":"+Ei(Math.abs(r%60),2,o);case 3:return i===0?"Z":(r>=0?"+":"")+Ei(s,2,o)+":"+Ei(Math.abs(r%60),2,o);default:throw new k(2310,!1)}}}var wH=0,Km=4;function IH(n){let e=Ym(n,wH,1).getDay();return Ym(n,0,1+(e<=Km?Km:Km+7)-e)}function Ux(n){let e=n.getDay(),t=e===0?-3:Km-e;return Ym(n.getFullYear(),n.getMonth(),n.getDate()+t)}function ME(n,e=!1){return function(t,i){let r;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{let o=Ux(t),s=IH(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Ei(r,n,Ru(i,kr.MinusSign))}}function Wm(n,e=!1){return function(t,i){let o=Ux(t).getFullYear();return Ei(o,n,Ru(i,kr.MinusSign),e)}}var RE={};function TH(n){if(RE[n])return RE[n];let e;switch(n){case"G":case"GG":case"GGG":e=We(3,Be.Abbreviated);break;case"GGGG":e=We(3,Be.Wide);break;case"GGGGG":e=We(3,Be.Narrow);break;case"y":e=At(0,1,0,!1,!0);break;case"yy":e=At(0,2,0,!0,!0);break;case"yyy":e=At(0,3,0,!1,!0);break;case"yyyy":e=At(0,4,0,!1,!0);break;case"Y":e=Wm(1);break;case"YY":e=Wm(2,!0);break;case"YYY":e=Wm(3);break;case"YYYY":e=Wm(4);break;case"M":case"L":e=At(1,1,1);break;case"MM":case"LL":e=At(1,2,1);break;case"MMM":e=We(2,Be.Abbreviated);break;case"MMMM":e=We(2,Be.Wide);break;case"MMMMM":e=We(2,Be.Narrow);break;case"LLL":e=We(2,Be.Abbreviated,Xt.Standalone);break;case"LLLL":e=We(2,Be.Wide,Xt.Standalone);break;case"LLLLL":e=We(2,Be.Narrow,Xt.Standalone);break;case"w":e=ME(1);break;case"ww":e=ME(2);break;case"W":e=ME(1,!0);break;case"d":e=At(2,1);break;case"dd":e=At(2,2);break;case"c":case"cc":e=At(7,1);break;case"ccc":e=We(1,Be.Abbreviated,Xt.Standalone);break;case"cccc":e=We(1,Be.Wide,Xt.Standalone);break;case"ccccc":e=We(1,Be.Narrow,Xt.Standalone);break;case"cccccc":e=We(1,Be.Short,Xt.Standalone);break;case"E":case"EE":case"EEE":e=We(1,Be.Abbreviated);break;case"EEEE":e=We(1,Be.Wide);break;case"EEEEE":e=We(1,Be.Narrow);break;case"EEEEEE":e=We(1,Be.Short);break;case"a":case"aa":case"aaa":e=We(0,Be.Abbreviated);break;case"aaaa":e=We(0,Be.Wide);break;case"aaaaa":e=We(0,Be.Narrow);break;case"b":case"bb":case"bbb":e=We(0,Be.Abbreviated,Xt.Standalone,!0);break;case"bbbb":e=We(0,Be.Wide,Xt.Standalone,!0);break;case"bbbbb":e=We(0,Be.Narrow,Xt.Standalone,!0);break;case"B":case"BB":case"BBB":e=We(0,Be.Abbreviated,Xt.Format,!0);break;case"BBBB":e=We(0,Be.Wide,Xt.Format,!0);break;case"BBBBB":e=We(0,Be.Narrow,Xt.Format,!0);break;case"h":e=At(3,1,-12);break;case"hh":e=At(3,2,-12);break;case"H":e=At(3,1);break;case"HH":e=At(3,2);break;case"m":e=At(4,1);break;case"mm":e=At(4,2);break;case"s":e=At(5,1);break;case"ss":e=At(5,2);break;case"S":e=At(6,1);break;case"SS":e=At(6,2);break;case"SSS":e=At(6,3);break;case"Z":case"ZZ":case"ZZZ":e=qm(0);break;case"ZZZZZ":e=qm(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=qm(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=qm(2);break;default:return null}return RE[n]=e,e}function Hx(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function SH(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function AH(n,e,t){let r=n.getTimezoneOffset(),o=Hx(e,r);return SH(n,-1*(o-r))}function DH(n){if(Dx(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,o=1,s=1]=n.split("-").map(a=>+a);return Ym(r,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(yH))return xH(i)}let e=new Date(n);if(!Dx(e))throw new k(2311,!1);return e}function xH(n){let e=new Date(0),t=0,i=0,r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-i,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,l),e}function Dx(n){return n instanceof Date&&!isNaN(n.valueOf())}var kE=/\s+/,xx=[],OE=(()=>{class n{_ngEl;_renderer;initialClasses=xx;rawClass;stateMap=new Map;constructor(t,i){this._ngEl=t,this._renderer=i}set klass(t){this.initialClasses=t!=null?t.trim().split(kE):xx}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(kE):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(kE).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||n)(he(W),he(yt))};static \u0275dir=F({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var ku=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(t,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static \u0275fac=function(i){return new(i||n)(he(Jt))};static \u0275dir=F({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[dt]})}return n})();function MH(n,e){return new k(2100,!1)}var RH="mediumDate",Vx=new w(""),jx=new w(""),NE=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(t==null||t===""||t!==t)return null;try{let s=i??this.defaultOptions?.dateFormat??RH,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Bx(t,s,o||this.locale,a)}catch(s){throw MH(n,s.message)}}static \u0275fac=function(i){return new(i||n)(he(wu,16),he(Vx,24),he(jx,24))};static \u0275pipe=pE({name:"date",type:n,pure:!0})}return n})();var Mo=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=K({type:n});static \u0275inj=j({})}return n})();function Ou(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var Qs=class{};var PE="browser";function zx(n){return n===PE}var Nu=class{_doc;constructor(e){this._doc=e}manager},Qm=(()=>{class n extends Nu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r,o){return t.addEventListener(i,r,o),()=>this.removeEventListener(t,i,r,o)}removeEventListener(t,i,r,o){return t.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(P(H))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),Xm=new w(""),HE=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(s=>{s.manager=this});let r=t.filter(s=>!(s instanceof Qm));this._plugins=r.slice().reverse();let o=t.find(s=>s instanceof Qm);o&&this._plugins.push(o)}addEventListener(t,i,r,o){return this._findPluginFor(i).addEventListener(t,i,r,o)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new k(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||n)(P(Xm),P(U))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),LE="ng-app-id";function $x(n){for(let e of n)e.remove()}function Gx(n,e){let t=e.createElement("style");return t.textContent=n,t}function OH(n,e,t,i){let r=n.head?.querySelectorAll(`style[${LE}="${e}"],link[${LE}="${e}"]`);if(r)for(let o of r)o.removeAttribute(LE),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function UE(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var VE=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,OH(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(let r of t)this.addUsage(r,this.inline,Gx);i?.forEach(r=>this.addUsage(r,this.external,UE))}removeStyles(t,i){for(let r of t)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(t,i,r){let o=i.get(t);o?o.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(t,this.doc)))})}removeUsage(t,i){let r=i.get(t);r&&(r.usage--,r.usage<=0&&($x(r.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])$x(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(t,Gx(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(t,UE(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),t.appendChild(i)}static \u0275fac=function(i){return new(i||n)(P(H),P(To),P(Nc,8),P($s))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),BE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},jE=/%COMP%/g;var Wx="%COMP%",NH=`_nghost-${Wx}`,PH=`_ngcontent-${Wx}`,FH=!0,LH=new w("",{factory:()=>FH});function BH(n){return PH.replace(jE,n)}function UH(n){return NH.replace(jE,n)}function Kx(n,e){return e.map(t=>t.replace(jE,n))}var zE=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,i,r,o,s,a,c=null,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new Pu(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(t,i);return r instanceof Jm?r.applyToHost(t):r instanceof Fu&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer,p=this.tracingService;switch(i.encapsulation){case vi.Emulated:o=new Jm(c,l,i,this.appId,d,s,a,u,p);break;case vi.ShadowDom:return new Zm(c,t,i,s,a,this.nonce,u,p,l);case vi.ExperimentalIsolatedShadowDom:return new Zm(c,t,i,s,a,this.nonce,u,p);default:o=new Fu(c,l,i,d,s,a,u,p);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||n)(P(HE),P(VE),P(To),P(LH),P(H),P(U),P(Nc),P(Zi,8))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),Pu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,i,r,o){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(BE[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(qx(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(qx(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new k(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=BE[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=BE[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Wi.DashCase|Wi.Important)?e.style.setProperty(t,i,r&Wi.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Wi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i,r){if(typeof e=="string"&&(e=ii().getGlobalEventTarget(this.doc,e),!e))throw new k(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,r)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function qx(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Zm=class extends Pu{hostEl;sharedStylesHost;shadowRoot;constructor(e,t,i,r,o,s,a,c,l){super(e,r,o,a,c),this.hostEl=t,this.sharedStylesHost=l,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=Kx(i.id,d);for(let p of d){let m=document.createElement("style");s&&m.setAttribute("nonce",s),m.textContent=p,this.shadowRoot.appendChild(m)}let u=i.getExternalStyles?.();if(u)for(let p of u){let m=UE(p,r);s&&m.setAttribute("nonce",s),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Fu=class extends Pu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,i,r,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r;let d=i.styles;this.styles=l?Kx(l,d):d,this.styleUrls=i.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Vs.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Jm=class extends Fu{contentAttr;hostAttr;constructor(e,t,i,r,o,s,a,c,l){let d=r+"-"+i.id;super(e,t,i,o,s,a,c,l,d),this.contentAttr=BH(d),this.hostAttr=UH(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}};var eg=class n extends Au{supportsDOMEvents=!0;static makeCurrent(){AE(new n)}onAndCancel(e,t,i,r){return e.addEventListener(t,i,r),()=>{e.removeEventListener(t,i,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=HH();return t==null?null:VH(t)}resetBaseElement(){Lu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ou(document.cookie,e)}},Lu=null;function HH(){return Lu=Lu||document.head.querySelector("base"),Lu?Lu.getAttribute("href"):null}function VH(n){return new URL(n,document.baseURI).pathname}var jH=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),Yx=["alt","control","meta","shift"],zH={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$H={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Qx=(()=>{class n extends Nu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r,o){let s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ii().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),Yx.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),s+=l+".")}),s+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=zH[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Yx.forEach(s=>{if(s!==r){let a=$H[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||n)(P(H))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})();function $E(n,e,t){let i=g({rootComponent:n,platformRef:t?.platformRef},GH(e));return yx(i)}function GH(n){return{appProviders:[...QH,...n?.providers??[]],platformProviders:YH}}function qH(){eg.makeCurrent()}function WH(){return new bn}function KH(){return PC(document),document}var YH=[{provide:$s,useValue:PE},{provide:Tm,useValue:qH,multi:!0},{provide:H,useFactory:KH}];var QH=[{provide:Wd,useValue:"root"},{provide:bn,useFactory:WH},{provide:Xm,useClass:Qm,multi:!0},{provide:Xm,useClass:Qx,multi:!0},zE,VE,HE,{provide:St,useExisting:zE},{provide:Qs,useClass:jH},[]];var Ro=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=t.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.addHeaderEntry(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let i=e.toLowerCase();this.maybeSetNormalizedName(e,i),this.headers.has(i)?this.headers.get(i).push(t):this.headers.set(i,[t])}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var ng=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}},ig=class{encodeKey(e){return Zx(e)}encodeValue(e){return Zx(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function ZH(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var JH=/%(\d[a-f0-9])/gi,XH={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Zx(n){return encodeURIComponent(n).replace(JH,(e,t)=>XH[t]??e)}function tg(n){return`${n}`}var Or=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new ig,e.fromString){if(e.fromObject)throw new k(2805,!1);this.map=ZH(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(tg):[tg(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(tg(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(tg(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};function eV(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Jx(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Xx(n){return typeof Blob<"u"&&n instanceof Blob}function eM(n){return typeof FormData<"u"&&n instanceof FormData}function tV(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var tM="Content-Type",nM="Accept",iM="text/plain",rM="application/json",nV=`${rM}, ${iM}, */*`,Vc=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,i,r){this.url=t,this.method=e.toUpperCase();let o;if(eV(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new k(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new Ro,this.context??=new ng,!this.params)this.params=new Or,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Jx(this.body)||Xx(this.body)||eM(this.body)||tV(this.body)?this.body:this.body instanceof Or?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||eM(this.body)?null:Xx(this.body)?this.body.type||null:Jx(this.body)?null:typeof this.body=="string"?iM:this.body instanceof Or?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?rM:null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,c=e.mode||this.mode,l=e.redirect||this.redirect,d=e.credentials||this.credentials,u=e.referrer||this.referrer,p=e.integrity||this.integrity,m=e.referrerPolicy||this.referrerPolicy,C=e.transferCache??this.transferCache,I=e.timeout??this.timeout,D=e.body!==void 0?e.body:this.body,R=e.withCredentials??this.withCredentials,q=e.reportProgress??this.reportProgress,ke=e.headers||this.headers,ze=e.params||this.params,Dn=e.context??this.context;return e.setHeaders!==void 0&&(ke=Object.keys(e.setHeaders).reduce((_r,ms)=>_r.set(ms,e.setHeaders[ms]),ke)),e.setParams&&(ze=Object.keys(e.setParams).reduce((_r,ms)=>_r.set(ms,e.setParams[ms]),ze)),new n(t,i,D,{params:ze,headers:ke,context:Dn,reportProgress:q,responseType:r,withCredentials:R,transferCache:C,keepalive:o,cache:a,priority:s,timeout:I,mode:c,redirect:l,credentials:d,referrer:u,integrity:p,referrerPolicy:m})}},Zs=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Zs||{}),zc=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(e,t=200,i="OK"){this.headers=e.headers||new Ro,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.redirected=e.redirected,this.responseType=e.responseType,this.ok=this.status>=200&&this.status<300}},rg=class n extends zc{constructor(e={}){super(e)}type=Zs.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Bu=class n extends zc{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Zs.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected,responseType:e.responseType??this.responseType})}},jc=class extends zc{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},iV=200,rV=204;var oV=new w("");var sV=/^\)\]\}',?\n/;var qE=(()=>{class n{xhrFactory;tracingService=h(Zi,{optional:!0});constructor(t){this.xhrFactory=t}maybePropagateTrace(t){return this.tracingService?.propagate?this.tracingService.propagate(t):t}handle(t){if(t.method==="JSONP")throw new k(-2800,!1);let i=this.xhrFactory;return B(null).pipe($t(()=>new le(o=>{let s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((D,R)=>s.setRequestHeader(D,R.join(","))),t.headers.has(nM)||s.setRequestHeader(nM,nV),!t.headers.has(tM)){let D=t.detectContentTypeHeader();D!==null&&s.setRequestHeader(tM,D)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let D=t.responseType.toLowerCase();s.responseType=D!=="json"?D:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let D=s.statusText||"OK",R=new Ro(s.getAllResponseHeaders()),q=s.responseURL||t.url;return c=new rg({headers:R,status:s.status,statusText:D,url:q}),c},d=this.maybePropagateTrace(()=>{let{headers:D,status:R,statusText:q,url:ke}=l(),ze=null;R!==rV&&(ze=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=ze?iV:0);let Dn=R>=200&&R<300;if(t.responseType==="json"&&typeof ze=="string"){let _r=ze;ze=ze.replace(sV,"");try{ze=ze!==""?JSON.parse(ze):null}catch(ms){ze=_r,Dn&&(Dn=!1,ze={error:ms,text:ze})}}Dn?(o.next(new Bu({body:ze,headers:D,status:R,statusText:q,url:ke||void 0})),o.complete()):o.error(new jc({error:ze,headers:D,status:R,statusText:q,url:ke||void 0}))}),u=this.maybePropagateTrace(D=>{let{url:R}=l(),q=new jc({error:D,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(q)}),p=u;t.timeout&&(p=this.maybePropagateTrace(D=>{let{url:R}=l(),q=new jc({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:R||void 0});o.error(q)}));let m=!1,C=this.maybePropagateTrace(D=>{m||(o.next(l()),m=!0);let R={type:Zs.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(R.total=D.total),t.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)}),I=this.maybePropagateTrace(D=>{let R={type:Zs.UploadProgress,loaded:D.loaded};D.lengthComputable&&(R.total=D.total),o.next(R)});return s.addEventListener("load",d),s.addEventListener("error",u),s.addEventListener("timeout",p),s.addEventListener("abort",u),t.reportProgress&&(s.addEventListener("progress",C),a!==null&&s.upload&&s.upload.addEventListener("progress",I)),s.send(a),o.next({type:Zs.Sent}),()=>{s.removeEventListener("error",u),s.removeEventListener("abort",u),s.removeEventListener("load",d),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",C),a!==null&&s.upload&&s.upload.removeEventListener("progress",I)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||n)(P(Qs))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function aV(n,e){return e(n)}function cV(n,e,t){return(i,r)=>qt(t,()=>e(i,o=>n(o,r)))}var WE=new w("",{factory:()=>[]}),oM=new w(""),sM=new w("",{providedIn:"root",factory:()=>!0});var KE=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=P(qE),r},providedIn:"root"})}return n})();var og=(()=>{class n{backend;injector;chain=null;pendingTasks=h(Jp);contributeToStability=h(sM);constructor(t,i){this.backend=t,this.injector=i}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(WE),...this.injector.get(oM,[])]));this.chain=i.reduceRight((r,o)=>cV(r,o,this.injector),aV)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Is(i))}else return this.chain(t,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(P(KE),P($e))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YE=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=P(og),r},providedIn:"root"})}return n})();function GE(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer,referrerPolicy:n.referrerPolicy}}var sg=(()=>{class n{handler;constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof Vc)o=t;else{let c;r.headers instanceof Ro?c=r.headers:c=new Ro(r.headers);let l;r.params&&(r.params instanceof Or?l=r.params:l=new Or({fromObject:r.params})),o=new Vc(t,i,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,credentials:r.credentials,referrer:r.referrer,referrerPolicy:r.referrerPolicy,integrity:r.integrity,timeout:r.timeout})}let s=B(o).pipe(Li(c=>this.handler.handle(c)));if(t instanceof Vc||r.observe==="events")return s;let a=s.pipe(Ie(c=>c instanceof Bu));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(X(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new k(2806,!1);return c.body}));case"blob":return a.pipe(X(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new k(2807,!1);return c.body}));case"text":return a.pipe(X(c=>{if(c.body!==null&&typeof c.body!="string")throw new k(2808,!1);return c.body}));case"json":default:return a.pipe(X(c=>c.body))}case"response":return a;default:throw new k(2809,!1)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new Or().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,GE(r,i))}post(t,i,r={}){return this.request("POST",t,GE(r,i))}put(t,i,r={}){return this.request("PUT",t,GE(r,i))}static \u0275fac=function(i){return new(i||n)(P(YE))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var lV=new w("",{factory:()=>!0}),dV="XSRF-TOKEN",uV=new w("",{providedIn:"root",factory:()=>dV}),hV="X-XSRF-TOKEN",fV=new w("",{providedIn:"root",factory:()=>hV}),pV=(()=>{class n{cookieName=h(uV);doc=h(H);lastCookieString="";lastToken=null;parseCount=0;getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ou(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),aM=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=P(pV),r},providedIn:"root"})}return n})();function mV(n,e){let t=n.url.toLowerCase();if(!h(lV)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=h(aM).getToken(),r=h(fV);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var QE=(function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n})(QE||{});function gV(n,e){return{\u0275kind:n,\u0275providers:e}}function ZE(...n){let e=[sg,og,{provide:YE,useExisting:og},{provide:KE,useFactory:()=>h(oV,{optional:!0})??h(qE)},{provide:WE,useValue:mV,multi:!0}];for(let t of n)e.push(...t.\u0275providers);return Hi(e)}function JE(n){return gV(QE.Interceptors,n.map(e=>({provide:WE,useValue:e,multi:!0})))}var cM=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(i){return new(i||n)(P(H))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Uu=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=P(yV),r},providedIn:"root"})}return n})(),yV=(()=>{class n extends Uu{_doc;constructor(t){super(),this._doc=t}sanitize(t,i){if(i==null)return null;switch(t){case Ht.NONE:return i;case Ht.HTML:return Qi(i,"HTML")?ti(i):Dm(this._doc,String(i)).toString();case Ht.STYLE:return Qi(i,"Style")?ti(i):i;case Ht.SCRIPT:if(Qi(i,"Script"))return ti(i);throw new k(5200,!1);case Ht.URL:return Qi(i,"URL")?ti(i):pu(String(i));case Ht.RESOURCE_URL:if(Qi(i,"ResourceURL"))return ti(i);throw new k(5201,!1);default:throw new k(5202,!1)}}bypassSecurityTrustHtml(t){return BC(t)}bypassSecurityTrustStyle(t){return UC(t)}bypassSecurityTrustScript(t){return HC(t)}bypassSecurityTrustUrl(t){return VC(t)}bypassSecurityTrustResourceUrl(t){return jC(t)}static \u0275fac=function(i){return new(i||n)(P(H))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var oe="primary",Ju=Symbol("RouteTitle"),iw=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ta(n){return new iw(n)}function yM(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=n[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function hg(n){return new Promise((e,t)=>{n.pipe(Cr()).subscribe({next:i=>e(i),error:i=>t(i)})})}function _V(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Xi(n[t],e[t]))return!1;return!0}function Xi(n,e){let t=n?rw(n):void 0,i=e?rw(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!_M(n[r],e[r]))return!1;return!0}function rw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function _M(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function bM(n){return n.length>0?n[n.length-1]:null}function ia(n){return Rd(n)?n:Ao(n)?we(Promise.resolve(n)):B(n)}function CM(n){return Rd(n)?hg(n):Promise.resolve(n)}var bV={exact:wM,subset:IM},EM={exact:CV,subset:EV,ignored:()=>!0};function dM(n,e,t){return bV[t.paths](n.root,e.root,t.matrixParams)&&EM[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function CV(n,e){return Xi(n,e)}function wM(n,e,t){if(!Xs(n.segments,e.segments)||!lg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!wM(n.children[i],e.children[i],t))return!1;return!0}function EV(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>_M(n[t],e[t]))}function IM(n,e,t){return TM(n,e,e.segments,t)}function TM(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!Xs(r,t)||e.hasChildren()||!lg(r,t,i))}else if(n.segments.length===t.length){if(!Xs(n.segments,t)||!lg(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!IM(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Xs(n.segments,r)||!lg(n.segments,r,i)||!n.children[oe]?!1:TM(n.children[oe],e,o,i)}}function lg(n,e,t){return e.every((i,r)=>EM[t](n[r].parameters,i.parameters))}var Ii=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Oe([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=ta(this.queryParams),this._queryParamMap}toString(){return TV.serialize(this)}},Oe=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dg(this)}},ko=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ta(this.parameters),this._parameterMap}toString(){return AM(this)}};function wV(n,e){return Xs(n,e)&&n.every((t,i)=>Xi(t.parameters,e[i].parameters))}function Xs(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function IV(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===oe&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==oe&&(t=t.concat(e(r,i)))}),t}var Xu=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:()=>new Oo,providedIn:"root"})}return n})(),Oo=class{parse(e){let t=new sw(e);return new Ii(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Hu(e.root,!0)}`,i=DV(e.queryParams),r=typeof e.fragment=="string"?`#${SV(e.fragment)}`:"";return`${t}${i}${r}`}},TV=new Oo;function dg(n){return n.segments.map(e=>AM(e)).join("/")}function Hu(n,e){if(!n.hasChildren())return dg(n);if(e){let t=n.children[oe]?Hu(n.children[oe],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==oe&&i.push(`${r}:${Hu(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=IV(n,(i,r)=>r===oe?[Hu(n.children[oe],!1)]:[`${r}:${Hu(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[oe]!=null?`${dg(n)}/${t[0]}`:`${dg(n)}/(${t.join("//")})`}}function SM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ag(n){return SM(n).replace(/%3B/gi,";")}function SV(n){return encodeURI(n)}function ow(n){return SM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ug(n){return decodeURIComponent(n)}function uM(n){return ug(n.replace(/\+/g,"%20"))}function AM(n){return`${ow(n.path)}${AV(n.parameters)}`}function AV(n){return Object.entries(n).map(([e,t])=>`;${ow(e)}=${ow(t)}`).join("")}function DV(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${ag(t)}=${ag(r)}`).join("&"):`${ag(t)}=${ag(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var xV=/^[^\/()?;#]+/;function XE(n){let e=n.match(xV);return e?e[0]:""}var MV=/^[^\/()?;=#]+/;function RV(n){let e=n.match(MV);return e?e[0]:""}var kV=/^[^=?&#]+/;function OV(n){let e=n.match(kV);return e?e[0]:""}var NV=/^[^&#]+/;function PV(n){let e=n.match(NV);return e?e[0]:""}var sw=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Oe([],{}):new Oe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[oe]=new Oe(e,t)),i}parseSegment(){let e=XE(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new k(4009,!1);return this.capture(e),new ko(ug(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=RV(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=XE(this.remaining);r&&(i=r,this.capture(i))}e[ug(t)]=ug(i)}parseQueryParam(e){let t=OV(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=PV(this.remaining);s&&(i=s,this.capture(i))}let r=uM(t),o=uM(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=XE(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new k(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=oe);let s=this.parseChildren();t[o??oe]=Object.keys(s).length===1&&s[oe]?s[oe]:new Oe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new k(4011,!1)}};function DM(n){return n.segments.length>0?new Oe([],{[oe]:n}):n}function xM(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=xM(r);if(i===oe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new Oe(n.segments,e);return FV(t)}function FV(n){if(n.numberOfChildren===1&&n.children[oe]){let e=n.children[oe];return new Oe(n.segments.concat(e.segments),e.children)}return n}function No(n){return n instanceof Ii}function MM(n,e,t=null,i=null,r=new Oo){let o=RM(n);return kM(o,e,t,i,r)}function RM(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new Oe(o.url,s);return o===n&&(e=a),a}let i=t(n.root),r=DM(i);return e??r}function kM(n,e,t,i,r){let o=n;for(;o.parent;)o=o.parent;if(e.length===0)return ew(o,o,o,t,i,r);let s=LV(e);if(s.toRoot())return ew(o,o,new Oe([],{}),t,i,r);let a=BV(s,o,n),c=a.processChildren?ju(a.segmentGroup,a.index,s.commands):NM(a.segmentGroup,a.index,s.commands);return ew(o,a.segmentGroup,c,t,i,r)}function fg(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Gu(n){return typeof n=="object"&&n!=null&&n.outlets}function hM(n,e,t){n||="\u0275";let i=new Ii;return i.queryParams={[n]:e},t.parse(t.serialize(i)).queryParams[n]}function ew(n,e,t,i,r,o){let s={};for(let[l,d]of Object.entries(i??{}))s[l]=Array.isArray(d)?d.map(u=>hM(l,u,o)):hM(l,d,o);let a;n===e?a=t:a=OM(n,e,t);let c=DM(xM(a));return new Ii(c,s,r)}function OM(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=OM(o,e,t)}),new Oe(n.segments,i)}var pg=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&fg(i[0]))throw new k(4003,!1);let r=i.find(Gu);if(r&&r!==bM(i))throw new k(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function LV(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new pg(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new pg(t,e,i)}var Gc=class{segmentGroup;processChildren;index;constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function BV(n,e,t){if(n.isAbsolute)return new Gc(e,!0,0);if(!t)return new Gc(e,!1,NaN);if(t.parent===null)return new Gc(t,!0,0);let i=fg(n.commands[0])?0:1,r=t.segments.length-1+i;return UV(t,r,n.numberOfDoubleDots)}function UV(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new k(4005,!1);r=i.segments.length}return new Gc(i,!1,r-o)}function HV(n){return Gu(n[0])?n[0].outlets:{[oe]:n}}function NM(n,e,t){if(n??=new Oe([],{}),n.segments.length===0&&n.hasChildren())return ju(n,e,t);let i=VV(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new Oe(n.segments.slice(0,i.pathIndex),{});return o.children[oe]=new Oe(n.segments.slice(i.pathIndex),n.children),ju(o,0,r)}else return i.match&&r.length===0?new Oe(n.segments,{}):i.match&&!n.hasChildren()?aw(n,e,t):i.match?ju(n,0,r):aw(n,e,t)}function ju(n,e,t){if(t.length===0)return new Oe(n.segments,{});{let i=HV(t),r={};if(Object.keys(i).some(o=>o!==oe)&&n.children[oe]&&n.numberOfChildren===1&&n.children[oe].segments.length===0){let o=ju(n.children[oe],e,t);return new Oe(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=NM(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Oe(n.segments,r)}}function VV(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let s=n.segments[r],a=t[i];if(Gu(a))break;let c=`${a}`,l=i<t.length-1?t[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!pM(c,l,s))return o;i+=2}else{if(!pM(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function aw(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(Gu(o)){let c=jV(o.outlets);return new Oe(i,c)}if(r===0&&fg(t[0])){let c=n.segments[e];i.push(new ko(c.path,fM(t[0]))),r++;continue}let s=Gu(o)?o.outlets[oe]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&fg(a)?(i.push(new ko(s,fM(a))),r+=2):(i.push(new ko(s,{})),r++)}return new Oe(i,{})}function jV(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=aw(new Oe([],{}),0,i))}),e}function fM(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function pM(n,e,t){return n==t.path&&Xi(e,t.parameters)}var zu="imperative",Vt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Vt||{}),Vn=class{id;url;constructor(e,t){this.id=e,this.url=t}},na=class extends Vn{type=Vt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ti=class extends Vn{urlAfterRedirects;type=Vt.NavigationEnd;constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ln=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(ln||{}),qu=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(qu||{}),er=class extends Vn{reason;code;type=Vt.NavigationCancel;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Nr=class extends Vn{reason;code;type=Vt.NavigationSkipped;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}},Wc=class extends Vn{error;target;type=Vt.NavigationError;constructor(e,t,i,r){super(e,t),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Wu=class extends Vn{urlAfterRedirects;state;type=Vt.RoutesRecognized;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mg=class extends Vn{urlAfterRedirects;state;type=Vt.GuardsCheckStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gg=class extends Vn{urlAfterRedirects;state;shouldActivate;type=Vt.GuardsCheckEnd;constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},vg=class extends Vn{urlAfterRedirects;state;type=Vt.ResolveStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yg=class extends Vn{urlAfterRedirects;state;type=Vt.ResolveEnd;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_g=class{route;type=Vt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},bg=class{route;type=Vt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Cg=class{snapshot;type=Vt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Eg=class{snapshot;type=Vt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wg=class{snapshot;type=Vt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ig=class{snapshot;type=Vt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ku=class{},Kc=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function zV(n){return!(n instanceof Ku)&&!(n instanceof Kc)}function $V(n,e){return n.providers&&!n._injector&&(n._injector=bu(n.providers,e,`Route: ${n.path}`)),n._injector??e}function wi(n){return n.outlet||oe}function GV(n,e){let t=n.filter(i=>wi(i)===e);return t.push(...n.filter(i=>wi(i)!==e)),t}function Zc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Tg=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Zc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Jc(this.rootInjector)}},Jc=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Tg(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(i){return new(i||n)(P($e))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sg=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=cw(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=cw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=lw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return lw(e,this._root).map(t=>t.value)}};function cw(n,e){if(n===e.value)return e;for(let t of e.children){let i=cw(n,t);if(i)return i}return null}function lw(n,e){if(n===e.value)return[e];for(let t of e.children){let i=lw(n,t);if(i.length)return i.unshift(e),i}return[]}var Hn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function $c(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Yu=class extends Sg{snapshot;constructor(e,t){super(e),this.snapshot=t,mw(this,e)}toString(){return this.snapshot.toString()}};function PM(n){let e=qV(n),t=new ft([new ko("",{})]),i=new ft({}),r=new ft({}),o=new ft({}),s=new ft(""),a=new Pr(t,i,o,s,r,oe,n,e.root);return a.snapshot=e.root,new Yu(new Hn(a,[]),e)}function qV(n){let e={},t={},i={},o=new ea([],e,i,"",t,oe,n,null,{});return new Qu("",new Hn(o,[]))}var Pr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(X(l=>l[Ju]))??B(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>ta(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>ta(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ag(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:g(g({},e.params),n.params),data:g(g({},e.data),n.data),resolve:g(g(g(g({},n.data),e.data),r?.data),n._resolvedData)}:i={params:g({},n.params),data:g({},n.data),resolve:g(g({},n.data),n._resolvedData??{})},r&&LM(r)&&(i.resolve[Ju]=r.title),i}var ea=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ju]}constructor(e,t,i,r,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ta(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ta(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Qu=class extends Sg{url;constructor(e,t){super(t),this.url=e,mw(this,t)}toString(){return FM(this._root)}};function mw(n,e){e.value._routerState=n,e.children.forEach(t=>mw(n,t))}function FM(n){let e=n.children.length>0?` { ${n.children.map(FM).join(", ")} } `:"";return`${n.value}${e}`}function tw(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Xi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Xi(e.params,t.params)||n.paramsSubject.next(t.params),_V(e.url,t.url)||n.urlSubject.next(t.url),Xi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function dw(n,e){let t=Xi(n.params,e.params)&&wV(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||dw(n.parent,e.parent))}function LM(n){return typeof n.title=="string"||n.title===null}var BM=new w(""),eh=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=oe;activateEvents=new ve;deactivateEvents=new ve;attachEvents=new ve;detachEvents=new ve;routerOutletData=gx();parentContexts=h(Jc);location=h(Jt);changeDetector=h(Nt);inputBinder=h(Rg,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new k(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new k(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new k(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new k(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new uw(t,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=F({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[dt]})}return n})(),uw=class{route;childContexts;parent;outletData;constructor(e,t,i,r){this.route=e,this.childContexts=t,this.parent=i,this.outletData=r}get(e,t){return e===Pr?this.route:e===Jc?this.childContexts:e===BM?this.outletData:this.parent.get(e,t)}},Rg=new w("");var gw=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&De(0,"router-outlet")},dependencies:[eh],encapsulation:2})}return n})();function vw(n){let e=n.children&&n.children.map(vw),t=e?M(g({},n),{children:e}):g({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==oe&&(t.component=gw),t}function WV(n,e,t){let i=Zu(n,e._root,t?t._root:void 0);return new Yu(i,e)}function Zu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=KV(n,e,t);return new Hn(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Zu(n,a)),s}}let i=YV(e.value),r=e.children.map(o=>Zu(n,o));return new Hn(i,r)}}function KV(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Zu(n,i,r);return Zu(n,i)})}function YV(n){return new Pr(new ft(n.url),new ft(n.params),new ft(n.queryParams),new ft(n.fragment),new ft(n.data),n.outlet,n.component,n)}var Yc=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},UM="ngNavigationCancelingError";function Dg(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=No(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=HM(!1,ln.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function HM(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[UM]=!0,t.cancellationCode=e,t}function QV(n){return VM(n)&&No(n.url)}function VM(n){return!!n&&n[UM]}var ZV=(n,e,t,i)=>X(r=>(new hw(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),hw=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),tw(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=$c(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=$c(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=$c(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=$c(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Ig(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Eg(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(tw(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),tw(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},xg=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},qc=class{component;route;constructor(e,t){this.component=e,this.route=t}};function JV(n,e,t){let i=n._root,r=e?e._root:null;return Vu(i,r,t,[i.value])}function XV(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Xc(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!G_(n)?n:e.get(n):i}function Vu(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=$c(e);return n.children.forEach(s=>{ej(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>$u(a,t.getContext(s),r)),r}function ej(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=tj(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new xg(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Vu(n,e,a?a.children:null,i,r):Vu(n,e,t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new qc(a.outlet.component,s))}else s&&$u(e,a,r),r.canActivateChecks.push(new xg(i)),o.component?Vu(n,null,a?a.children:null,i,r):Vu(n,null,t,i,r);return r}function tj(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Xs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Xs(n.url,e.url)||!Xi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dw(n,e)||!Xi(n.queryParams,e.queryParams);case"paramsChange":default:return!dw(n,e)}}function $u(n,e,t){let i=$c(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?e?$u(s,e.children.getContext(o),t):$u(s,null,t):$u(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new qc(e.outlet.component,r)):t.canDeactivateChecks.push(new qc(null,r)):t.canDeactivateChecks.push(new qc(null,r))}function th(n){return typeof n=="function"}function nj(n){return typeof n=="boolean"}function ij(n){return n&&th(n.canLoad)}function rj(n){return n&&th(n.canActivate)}function oj(n){return n&&th(n.canActivateChild)}function sj(n){return n&&th(n.canDeactivate)}function aj(n){return n&&th(n.canMatch)}function jM(n){return n instanceof Es||n?.name==="EmptyError"}var cg=Symbol("INITIAL_VALUE");function Qc(){return $t(n=>kd(n.map(e=>e.pipe(kt(1),ui(cg)))).pipe(X(e=>{for(let t of e)if(t!==!0){if(t===cg)return cg;if(t===!1||cj(t))return t}return!0}),Ie(e=>e!==cg),kt(1)))}function cj(n){return No(n)||n instanceof Yc}function zM(n){return n.aborted?B(void 0).pipe(kt(1)):new le(e=>{let t=()=>{e.next(),e.complete()};return n.addEventListener("abort",t),()=>n.removeEventListener("abort",t)})}function $M(n){return Ze(zM(n))}function lj(n,e){return Yt(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?B(M(g({},t),{guardsResult:!0})):dj(s,i,r,n).pipe(Yt(a=>a&&nj(a)?uj(i,o,n,e):B(a)),X(a=>M(g({},t),{guardsResult:a})))})}function dj(n,e,t,i){return we(n).pipe(Yt(r=>gj(r.component,r.route,t,e,i)),Cr(r=>r!==!0,!0))}function uj(n,e,t,i){return we(e).pipe(Li(r=>ho(fj(r.route.parent,i),hj(r.route,i),mj(n,r.path,t),pj(n,r.route,t))),Cr(r=>r!==!0,!0))}function hj(n,e){return n!==null&&e&&e(new wg(n)),B(!0)}function fj(n,e){return n!==null&&e&&e(new Cg(n)),B(!0)}function pj(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return B(!0);let r=i.map(o=>Od(()=>{let s=Zc(e)??t,a=Xc(o,s),c=rj(a)?a.canActivate(e,n):qt(s,()=>a(e,n));return ia(c).pipe(Cr())}));return B(r).pipe(Qc())}function mj(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>XV(s)).filter(s=>s!==null).map(s=>Od(()=>{let a=s.guards.map(c=>{let l=Zc(s.node)??t,d=Xc(c,l),u=oj(d)?d.canActivateChild(i,n):qt(l,()=>d(i,n));return ia(u).pipe(Cr())});return B(a).pipe(Qc())}));return B(o).pipe(Qc())}function gj(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return B(!0);let s=o.map(a=>{let c=Zc(e)??r,l=Xc(a,c),d=sj(l)?l.canDeactivate(n,e,t,i):qt(c,()=>l(n,e,t,i));return ia(d).pipe(Cr())});return B(s).pipe(Qc())}function vj(n,e,t,i,r){let o=e.canLoad;if(o===void 0||o.length===0)return B(!0);let s=o.map(a=>{let c=Xc(a,n),l=ij(c)?c.canLoad(e,t):qt(n,()=>c(e,t)),d=ia(l);return r?d.pipe($M(r)):d});return B(s).pipe(Qc(),GM(i))}function GM(n){return T_(mt(e=>{if(typeof e!="boolean")throw Dg(n,e)}),X(e=>e===!0))}function yj(n,e,t,i,r){let o=e.canMatch;if(!o||o.length===0)return B(!0);let s=o.map(a=>{let c=Xc(a,n),l=aj(c)?c.canMatch(e,t):qt(n,()=>c(e,t)),d=ia(l);return r?d.pipe($M(r)):d});return B(s).pipe(Qc(),GM(i))}var Js=class qM extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,qM.prototype)}},fw=class WM extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,WM.prototype)}};function _j(n){throw new k(4e3,!1)}function bj(n){throw HM(!1,ln.GuardRejected)}var Cj=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}async lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return i;if(r.numberOfChildren>1||!r.children[oe])throw _j(`${e.redirectTo}`);r=r.children[oe]}}async applyRedirectCommands(e,t,i,r,o){let s=await Ej(t,r,o);if(s instanceof Ii)throw new fw(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,i);if(s[0]==="/")throw new fw(a);return a}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new Ii(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new Oe(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new k(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}};function Ej(n,e,t){if(typeof n=="string")return Promise.resolve(n);let i=n,{queryParams:r,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:d,title:u}=e;return hg(ia(qt(t,()=>i({params:l,data:d,queryParams:r,fragment:o,routeConfig:s,url:a,outlet:c,title:u}))))}var pw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wj(n,e,t,i,r,o){let s=KM(n,e,t);return s.matched?(i=$V(e,i),yj(i,e,t,r,o).pipe(X(a=>a===!0?s:g({},pw)))):B(s)}function KM(n,e,t){if(e.path==="**")return Ij(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?g({},pw):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||yM)(t,n,e);if(!r)return g({},pw);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?g(g({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Ij(n){return{matched:!0,parameters:n.length>0?bM(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function mM(n,e,t,i){return t.length>0&&Aj(n,t,i)?{segmentGroup:new Oe(e,Sj(i,new Oe(t,n.children))),slicedSegments:[]}:t.length===0&&Dj(n,t,i)?{segmentGroup:new Oe(n.segments,Tj(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Oe(n.segments,n.children),slicedSegments:t}}function Tj(n,e,t,i){let r={};for(let o of t)if(kg(n,e,o)&&!i[wi(o)]){let s=new Oe([],{});r[wi(o)]=s}return g(g({},i),r)}function Sj(n,e){let t={};t[oe]=e;for(let i of n)if(i.path===""&&wi(i)!==oe){let r=new Oe([],{});t[wi(i)]=r}return t}function Aj(n,e,t){return t.some(i=>kg(n,e,i)&&wi(i)!==oe)}function Dj(n,e,t){return t.some(i=>kg(n,e,i))}function kg(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function xj(n,e,t){return e.length===0&&!n.children[t]}var Mj=class{};async function Rj(n,e,t,i,r,o,s="emptyOnly",a){return new Oj(n,e,t,i,r,s,o,a).recognize()}var kj=31,Oj=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,i,r,o,s,a,c){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new Cj(this.urlSerializer,this.urlTree)}noMatchError(e){return new k(4002,`'${e.segmentGroup}'`)}async recognize(){let e=mM(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:i}=await this.match(e),r=new Hn(i,t),o=new Qu("",r),s=MM(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(e){let t=new ea([],Object.freeze({}),Object.freeze(g({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,oe,t),rootSnapshot:t}}catch(i){if(i instanceof fw)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Js?this.noMatchError(i):i}}async processSegmentGroup(e,t,i,r,o){if(i.segments.length===0&&i.hasChildren())return this.processChildren(e,t,i,o);let s=await this.processSegment(e,t,i,i.segments,r,!0,o);return s instanceof Hn?[s]:[]}async processChildren(e,t,i,r){let o=[];for(let c of Object.keys(i.children))c==="primary"?o.unshift(c):o.push(c);let s=[];for(let c of o){let l=i.children[c],d=GV(t,c),u=await this.processSegmentGroup(e,d,l,c,r);s.push(...u)}let a=YM(s);return Nj(a),a}async processSegment(e,t,i,r,o,s,a){for(let c of t)try{return await this.processSegmentAgainstRoute(c._injector??e,t,c,i,r,o,s,a)}catch(l){if(l instanceof Js||jM(l))continue;throw l}if(xj(i,r,o))return new Mj;throw new Js(i)}async processSegmentAgainstRoute(e,t,i,r,o,s,a,c){if(wi(i)!==s&&(s===oe||!kg(r,o,i)))throw new Js(r);if(i.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,r,i,o,s,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s,c);throw new Js(r)}async expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s,a){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:u,remainingSegments:p}=KM(t,r,o);if(!c)throw new Js(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>kj&&(this.allowRedirects=!1));let m=new ea(o,l,Object.freeze(g({},this.urlTree.queryParams)),this.urlTree.fragment,gM(r),wi(r),r.component??r._loadedComponent??null,r,vM(r)),C=Ag(m,a,this.paramsInheritanceStrategy);if(m.params=Object.freeze(C.params),m.data=Object.freeze(C.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let I=await this.applyRedirects.applyRedirectCommands(d,r.redirectTo,u,m,e),D=await this.applyRedirects.lineralizeSegments(r,I);return this.processSegment(e,i,t,D.concat(p),s,!1,a)}async matchSegmentAgainstRoute(e,t,i,r,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await hg(wj(t,i,r,e,this.urlSerializer,this.abortSignal));if(i.path==="**"&&(t.children={}),!a?.matched)throw new Js(t);e=i._injector??e;let{routes:c}=await this.getChildConfig(e,i,r),l=i._loadedInjector??e,{parameters:d,consumedSegments:u,remainingSegments:p}=a,m=new ea(u,d,Object.freeze(g({},this.urlTree.queryParams)),this.urlTree.fragment,gM(i),wi(i),i.component??i._loadedComponent??null,i,vM(i)),C=Ag(m,s,this.paramsInheritanceStrategy);m.params=Object.freeze(C.params),m.data=Object.freeze(C.data);let{segmentGroup:I,slicedSegments:D}=mM(t,u,p,c);if(D.length===0&&I.hasChildren()){let ke=await this.processChildren(l,c,I,m);return new Hn(m,ke)}if(c.length===0&&D.length===0)return new Hn(m,[]);let R=wi(i)===o,q=await this.processSegment(l,c,I,D,R?oe:o,!0,m);return new Hn(m,q instanceof Hn?[q]:[])}async getChildConfig(e,t,i){if(t.children)return{routes:t.children,injector:e};if(t.loadChildren){if(t._loadedRoutes!==void 0)return{routes:t._loadedRoutes,injector:t._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await hg(vj(e,t,i,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,t);return t._loadedRoutes=o.routes,t._loadedInjector=o.injector,o}throw bj(t)}return{routes:[],injector:e}}};function Nj(n){n.sort((e,t)=>e.value.outlet===oe?-1:t.value.outlet===oe?1:e.value.outlet.localeCompare(t.value.outlet))}function Pj(n){let e=n.value.routeConfig;return e&&e.path===""}function YM(n){let e=[],t=new Set;for(let i of n){if(!Pj(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=YM(i.children);e.push(new Hn(i.value,r))}return e.filter(i=>!t.has(i))}function gM(n){return n.data||{}}function vM(n){return n.resolve||{}}var Fj=new w("",{factory:()=>Rj});function Lj(n,e,t,i,r,o,s){let a=n.get(Fj);return Yt(c=>B(c).pipe($t(l=>a(n,e,t,i,l.extractedUrl,r,o,s)),X(({state:l,tree:d})=>M(g({},c),{targetSnapshot:l,urlAfterRedirects:d}))))}function Bj(n,e){return Yt(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return B(t);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of QM(c))s.add(l);let a=0;return we(s).pipe(Li(c=>o.has(c)?Uj(c,i,n,e):(c.data=Ag(c,c.parent,n).resolve,B(void 0))),mt(()=>a++),Tp(1),Yt(c=>a===s.size?B(t):pt))})}function QM(n){let e=n.children.map(t=>QM(t)).flat();return[n,...e]}function Uj(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!LM(r)&&(o[Ju]=r.title),Od(()=>(n.data=Ag(n,n.parent,t).resolve,Hj(o,n,e,i).pipe(X(s=>(n._resolvedData=s,n.data=g(g({},n.data),s),null)))))}function Hj(n,e,t,i){let r=rw(n);if(r.length===0)return B({});let o={};return we(r).pipe(Yt(s=>Vj(n[s],e,t,i).pipe(Cr(),mt(a=>{if(a instanceof Yc)throw Dg(new Oo,a);o[s]=a}))),Tp(1),X(()=>o),Mn(s=>jM(s)?pt:Md(s)))}function Vj(n,e,t,i){let r=Zc(e)??i,o=Xc(n,r),s=o.resolve?o.resolve(e,t):qt(r,()=>o(e,t));return ia(s)}function nw(n){return $t(e=>{let t=n(e);return t?we(t).pipe(X(()=>e)):B(e)})}var yw=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===oe);return i}getResolvedTitleForRoute(t){return t.data[Ju]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:()=>h(ZM),providedIn:"root"})}return n})(),ZM=(()=>{class n extends yw{title;constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(P(cM))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),el=new w("",{factory:()=>({})}),nh=new w(""),JM=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=h(wE);async loadComponent(t,i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Promise.resolve(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=(async()=>{try{let o=await CM(qt(t,()=>i.loadComponent())),s=await tR(eR(o));return this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s,s}finally{this.componentLoaders.delete(i)}})();return this.componentLoaders.set(i,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Promise.resolve({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let r=(async()=>{try{let o=await XM(i,this.compiler,t,this.onLoadEndListener);return i._loadedRoutes=o.routes,i._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(i)}})();return this.childrenLoaders.set(i,r),r}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function XM(n,e,t,i){let r=await CM(qt(t,()=>n.loadChildren())),o=await tR(eR(r)),s;o instanceof Lm||Array.isArray(o)?s=o:s=await e.compileModuleAsync(o),i&&i(n);let a,c,l=!1;return Array.isArray(s)?(c=s,l=!0):(a=s.create(t).injector,c=a.get(nh,[],{optional:!0,self:!0}).flat()),{routes:c.map(vw),injector:a}}function jj(n){return n&&typeof n=="object"&&"default"in n}function eR(n){return jj(n)?n.default:n}async function tR(n){return n}var Og=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:()=>h(zj),providedIn:"root"})}return n})(),zj=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nR=new w("");var $j=()=>{},iR=new w(""),rR=(()=>{class n{currentNavigation=ye(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=ye(null);events=new O;transitionAbortWithErrorSubject=new O;configLoader=h(JM);environmentInjector=h($e);destroyRef=h(Nn);urlSerializer=h(Xu);rootContexts=h(Jc);location=h(Ci);inputBindingEnabled=h(Rg,{optional:!0})!==null;titleStrategy=h(yw);options=h(el,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=h(Og);createViewTransition=h(nR,{optional:!0});navigationErrorHandler=h(iR,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>B(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=r=>this.events.next(new _g(r)),i=r=>this.events.next(new bg(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;vt(()=>{this.transitions?.next(M(g({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))})}setupNavigations(t){return this.transitions=new ft(null),this.transitions.pipe(Ie(i=>i!==null),$t(i=>{let r=!1,o=new AbortController;return B(i).pipe($t(s=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",ln.SupersededByNewNavigation),pt;this.currentTransition=i;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?M(g({},a),{previousNavigation:null}):null,abort:()=>o.abort()});let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&l!=="reload")return this.events.next(new Nr(s.id,this.urlSerializer.serialize(s.rawUrl),"",qu.IgnoredSameUrlNavigation)),s.resolve(!1),pt;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return B(s).pipe($t(d=>(this.events.next(new na(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),d.id!==this.navigationId?pt:Promise.resolve(d))),Lj(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),mt(d=>{i.targetSnapshot=d.targetSnapshot,i.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation.update(p=>(p.finalUrl=d.urlAfterRedirects,p));let u=new Wu(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:d,extractedUrl:u,source:p,restoredState:m,extras:C}=s,I=new na(d,this.urlSerializer.serialize(u),p,m);this.events.next(I);let D=PM(this.rootComponentType).snapshot;return this.currentTransition=i=M(g({},s),{targetSnapshot:D,urlAfterRedirects:u,extras:M(g({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(R=>(R.finalUrl=u,R)),B(i)}else return this.events.next(new Nr(s.id,this.urlSerializer.serialize(s.extractedUrl),"",qu.IgnoredByUrlHandlingStrategy)),s.resolve(!1),pt}),mt(s=>{let a=new mg(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),X(s=>(this.currentTransition=i=M(g({},s),{guards:JV(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),i)),lj(this.environmentInjector,s=>this.events.next(s)),mt(s=>{if(i.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Dg(this.urlSerializer,s.guardsResult);let a=new gg(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ie(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",ln.GuardRejected),!1)),nw(s=>{if(s.guards.canActivateChecks.length!==0)return B(s).pipe(mt(a=>{let c=new vg(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),$t(a=>{let c=!1;return B(a).pipe(Bj(this.paramsInheritanceStrategy,this.environmentInjector),mt({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",ln.NoDataFromResolver)}}))}),mt(a=>{let c=new yg(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),nw(s=>{let a=l=>{let d=[];if(l.routeConfig?._loadedComponent)l.component=l.routeConfig?._loadedComponent;else if(l.routeConfig?.loadComponent){let u=Zc(l)??this.environmentInjector;d.push(this.configLoader.loadComponent(u,l.routeConfig).then(p=>{l.component=p}))}for(let u of l.children)d.push(...a(u));return d},c=a(s.targetSnapshot.root);return c.length===0?B(s):we(Promise.all(c).then(()=>s))}),nw(()=>this.afterPreactivation()),$t(()=>{let{currentSnapshot:s,targetSnapshot:a}=i,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?we(c).pipe(X(()=>i)):B(i)}),X(s=>{let a=WV(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=i=M(g({},s),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),i}),mt(()=>{this.events.next(new Ku)}),ZV(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),kt(1),Ze(zM(o.signal).pipe(Ie(()=>!r&&!i.targetRouterState),mt(()=>{this.cancelNavigationTransition(i,o.signal.reason+"",ln.Aborted)}))),mt({next:s=>{r=!0,this.currentNavigation.update(a=>(a.abort=$j,a)),this.lastSuccessfulNavigation.set(vt(this.currentNavigation)),this.events.next(new Ti(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),Ze(this.transitionAbortWithErrorSubject.pipe(mt(s=>{throw s}))),Is(()=>{o.abort(),r||this.cancelNavigationTransition(i,"",ln.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Mn(s=>{if(this.destroyed)return i.resolve(!1),pt;if(r=!0,VM(s))this.events.next(new er(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode)),QV(s)?this.events.next(new Kc(s.url,s.navigationBehaviorOptions)):i.resolve(!1);else{let a=new Wc(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);try{let c=qt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Yc){let{message:l,cancellationCode:d}=Dg(this.urlSerializer,c);this.events.next(new er(i.id,this.urlSerializer.serialize(i.extractedUrl),l,d)),this.events.next(new Kc(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(c)}}return pt}))}))}cancelNavigationTransition(t,i,r){let o=new er(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=vt(this.currentNavigation),r=i?.targetBrowserUrl??i?.extractedUrl;return t.toString()!==r?.toString()&&!i?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Gj(n){return n!==zu}var oR=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:()=>h(qj),providedIn:"root"})}return n})(),Mg=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},qj=(()=>{class n extends Mg{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Zt(n)))(r||n)}})();static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_w=(()=>{class n{urlSerializer=h(Xu);options=h(el,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=h(Ci);urlHandlingStrategy=h(Og);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ii;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:i,targetBrowserUrl:r}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,i):i,s=r??o;return s instanceof Ii?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:i,initialUrl:r}){i&&t?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=t):this.rawUrlTree=r}routerState=PM(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:()=>h(sR),providedIn:"root"})}return n})(),sR=(()=>{class n extends _w{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{t(i.url,i.state,"popstate")})})}handleRouterEvent(t,i){t instanceof na?this.updateStateMemento():t instanceof Nr?this.commitTransition(i):t instanceof Wu?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof Ku?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof er&&t.code!==ln.SupersededByNewNavigation&&t.code!==ln.Redirect?this.restoreHistory(i):t instanceof Wc?this.restoreHistory(i,!0):t instanceof Ti&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:i,id:r}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=g(g({},s),this.generateNgRouterState(r,a));this.location.replaceState(t,"",c)}else{let a=g(g({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Zt(n)))(r||n)}})();static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bw(n,e){n.events.pipe(Ie(t=>t instanceof Ti||t instanceof er||t instanceof Wc||t instanceof Nr),X(t=>t instanceof Ti||t instanceof Nr?0:(t instanceof er?t.code===ln.Redirect||t.code===ln.SupersededByNewNavigation:!1)?2:1),Ie(t=>t!==2),kt(1)).subscribe(()=>{e()})}var Wj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Kj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},jn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=h(Bm);stateManager=h(_w);options=h(el,{optional:!0})||{};pendingTasks=h(Ar);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=h(rR);urlSerializer=h(Xu);location=h(Ci);urlHandlingStrategy=h(Og);injector=h($e);_events=new O;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=h(oR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=h(nh,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!h(Rg,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ae;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=vt(this.navigationTransitions.currentNavigation);if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof er&&i.code!==ln.Redirect&&i.code!==ln.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ti)this.navigated=!0;else if(i instanceof Kc){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c=g({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Gj(r.source)},s);this.scheduleNavigation(a,zu,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}zV(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),zu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i,r)=>{this.navigateToSyncWithBrowser(t,r,i)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=g({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o).catch(c=>{this.disposed||this.injector.get(Pn)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return vt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(vw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=g(g({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let p=r?r.snapshot:this.routerState.snapshot.root;u=RM(p)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),u=this.currentUrlTree.root}return kM(u,t,d,l??null,this.urlSerializer)}navigateByUrl(t,i={skipLocationChange:!1}){let r=No(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,zu,null,i)}navigate(t,i={skipLocationChange:!1}){return Yj(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(go(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=g({},Wj):i===!1?r=g({},Kj):r=i,No(t))return dM(this.currentUrlTree,t,r);let o=this.parseUrl(t);return dM(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((u,p)=>{a=u,c=p});let d=this.pendingTasks.add();return bw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(u=>Promise.reject(u))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yj(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new k(4008,!1)}var tl=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=ye(null);get href(){return vt(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new O;applicationErrorHandler=h(Pn);options=h(el,{optional:!0});constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(h(new Do("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,i=r=>r==="merge"||r==="preserve";t||=i(this.queryParamsHandling),t||=!this.queryParamsHandling&&!i(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(r=>{r instanceof Ti&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(No(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:No(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(he(jn),he(Pr),hu("tabindex"),he(yt),he(W),he(Hc))};static \u0275dir=F({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(i,r){i&1&&xe("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&Te("href",r.reactiveHref(),$C)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Me],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Me],replaceUrl:[2,"replaceUrl","replaceUrl",Me],routerLink:"routerLink"},features:[dt]})}return n})(),Cw=(()=>{class n{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new ve;link=h(tl,{optional:!0});constructor(t,i,r,o){this.router=t,this.element=i,this.renderer=r,this.cdr=o,this.routerEventsSubscription=t.events.subscribe(s=>{s instanceof Ti&&this.update()})}ngAfterContentInit(){B(this.links.changes,B(null)).pipe(uo()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=we(t).pipe(uo()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){let i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let i=Zj(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?t.isActive(o,i):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(i){return new(i||n)(he(jn),he(W),he(yt),he(Nt))};static \u0275dir=F({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&tt(o,tl,5),i&2){let s;de(s=ue())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[dt]})}return n})();function Zj(n){return!!n.paths}var Jj=new w("");function Ew(n,...e){return Hi([{provide:nh,multi:!0,useValue:n},[],{provide:Pr,useFactory:Xj},{provide:Hm,multi:!0,useFactory:e2},e.map(t=>t.\u0275providers)])}function Xj(){return h(jn).routerState.root}function e2(){let n=h(me);return e=>{let t=n.get(Bn);if(e!==t.components[0])return;let i=n.get(jn),r=n.get(t2);n.get(n2)===1&&i.initialNavigation(),n.get(i2,null,{optional:!0})?.setUpPreloading(),n.get(Jj,null,{optional:!0})?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var t2=new w("",{factory:()=>new O}),n2=new w("",{factory:()=>1});var i2=new w("");var Tv={};yn(Tv,{addClientCapabilitiesToClaims:()=>hz,blockAPICallsBeforeInitialize:()=>wv,blockAcquireTokenInPopups:()=>YR,blockNonBrowserEnvironment:()=>Ev,blockRedirectInIframe:()=>KR,blockReloadInHiddenIframes:()=>WR,clearHash:()=>hf,createGuid:()=>eT,getCurrentUri:()=>gn,getHomepage:()=>XI,invoke:()=>rt,invokeAsync:()=>b,isInIframe:()=>ff,isInPopup:()=>qR,preconnect:()=>mf,preflightCheck:()=>pf,redirectPreflightCheck:()=>Iv,replaceHash:()=>JI});var E={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},Si={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,GONE:410,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},oi={GET:"GET",POST:"POST"},zn=[E.OPENID_SCOPE,E.PROFILE_SCOPE,E.OFFLINE_ACCESS_SCOPE],ww=[...zn,E.EMAIL_SCOPE],Ct={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},Ng={ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},Ai={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},nl={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},nt={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"};var ih={CODE:"code",IDTOKEN_TOKEN:"id_token token",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"},tr={QUERY:"query",FRAGMENT:"fragment"},Iw={QUERY:"query",FRAGMENT:"fragment",FORM_POST:"form_post"},rh={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},il={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},Fr={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},Et={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"};var oh="appmetadata",aR="client_info",ra="1",rl={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},dn={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},Pt={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},fe={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},Lr={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},Pg={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},Fg={username:"username",password:"password"},oa={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},Lg={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},nr={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},Bg={Jwt:"JWT",Jwk:"JWK",Pop:"pop"};var sh=300;var Po={};yn(Po,{postRequestFailed:()=>ch,unexpectedError:()=>ah});var ah="unexpected_error",ch="post_request_failed";var Ug={[ah]:"Unexpected error in authentication.",[ch]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."},cR={unexpectedError:{code:ah,desc:Ug[ah]},postRequestFailed:{code:ch,desc:Ug[ch]}},Z=class n extends Error{constructor(e,t,i){let r=t?`${e}: ${t}`:e;super(r),Object.setPrototypeOf(this,n.prototype),this.errorCode=e||E.EMPTY_STRING,this.errorMessage=t||E.EMPTY_STRING,this.subError=i||E.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}};function ol(n,e){return new Z(n,e?`${Ug[n]} ${e}`:Ug[n])}var Ft={};yn(Ft,{authTimeNotFound:()=>Br,authorizationCodeMissingFromServerResponse:()=>ba,bindingKeyNotRemoved:()=>_h,cannotAppendScopeSet:()=>va,cannotRemoveEmptyScope:()=>ga,clientInfoDecodingError:()=>Fo,clientInfoEmptyError:()=>sa,deviceCodeExpired:()=>hh,deviceCodePollingCancelled:()=>uh,deviceCodeUnknownError:()=>fh,emptyInputScopeSet:()=>Uo,endSessionEndpointNotSupported:()=>Ca,endpointResolutionError:()=>un,hashNotDeserialized:()=>da,invalidAssertion:()=>gh,invalidCacheEnvironment:()=>Hr,invalidCacheRecord:()=>ya,invalidClientCredential:()=>vh,invalidState:()=>Di,keyIdMissing:()=>Ea,maxAgeTranspired:()=>fa,methodNotImplemented:()=>se,missingTenantIdError:()=>Eh,multipleMatchingAccounts:()=>dh,multipleMatchingAppMetadata:()=>pa,multipleMatchingTokens:()=>lh,nestedAppAuthBridgeDisabled:()=>wh,networkError:()=>ca,noAccountFound:()=>ph,noAccountInSilentRequest:()=>Ur,noCryptoObject:()=>Ho,noNetworkConnectivity:()=>bh,nonceMismatch:()=>ha,nullOrEmptyToken:()=>aa,openIdConfigError:()=>la,platformBrokerError:()=>Ih,requestCannotBeMade:()=>ma,stateMismatch:()=>ua,stateNotFound:()=>Bo,tokenClaimsCnfRequiredForSignedJwt:()=>_a,tokenParsingError:()=>Lo,tokenRefreshRequired:()=>Vr,unexpectedCredentialType:()=>mh,userCanceled:()=>Ch,userTimeoutReached:()=>yh});var Fo="client_info_decoding_error",sa="client_info_empty_error",Lo="token_parsing_error",aa="null_or_empty_token",un="endpoints_resolution_error",ca="network_error",la="openid_config_error",da="hash_not_deserialized",Di="invalid_state",ua="state_mismatch",Bo="state_not_found",ha="nonce_mismatch",Br="auth_time_not_found",fa="max_age_transpired",lh="multiple_matching_tokens",dh="multiple_matching_accounts",pa="multiple_matching_appMetadata",ma="request_cannot_be_made",ga="cannot_remove_empty_scope",va="cannot_append_scopeset",Uo="empty_input_scopeset",uh="device_code_polling_cancelled",hh="device_code_expired",fh="device_code_unknown_error",Ur="no_account_in_silent_request",ya="invalid_cache_record",Hr="invalid_cache_environment",ph="no_account_found",Ho="no_crypto_object",mh="unexpected_credential_type",gh="invalid_assertion",vh="invalid_client_credential",Vr="token_refresh_required",yh="user_timeout_reached",_a="token_claims_cnf_required_for_signedjwt",ba="authorization_code_missing_from_server_response",_h="binding_key_not_removed",Ca="end_session_endpoint_not_supported",Ea="key_id_missing",bh="no_network_connectivity",Ch="user_canceled",Eh="missing_tenant_id_error",se="method_not_implemented",wh="nested_app_auth_bridge_disabled",Ih="platform_broker_error";var te={[Fo]:"The client info could not be parsed/decoded correctly",[sa]:"The client info was empty",[Lo]:"Token cannot be parsed",[aa]:"The token is null or empty",[un]:"Endpoints cannot be resolved",[ca]:"Network request failed",[la]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[da]:"The hash parameters could not be deserialized",[Di]:"State was not the expected format",[ua]:"State mismatch error",[Bo]:"State not found",[ha]:"Nonce mismatch error",[Br]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[fa]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[lh]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[dh]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[pa]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[ma]:"Token request cannot be made without authorization code or refresh token.",[ga]:"Cannot remove null or empty scope from ScopeSet",[va]:"Cannot append ScopeSet",[Uo]:"Empty input ScopeSet cannot be processed",[uh]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[hh]:"Device code is expired.",[fh]:"Device code stopped polling for unknown reasons.",[Ur]:"Please pass an account object, silent flow is not supported without account information",[ya]:"Cache record object was null or undefined.",[Hr]:"Invalid environment when attempting to create cache entry",[ph]:"No account found in cache for given key.",[Ho]:"No crypto object detected.",[mh]:"Unexpected credential type.",[gh]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[vh]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[Vr]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[yh]:"User defined timeout for device code polling reached",[_a]:"Cannot generate a POP jwt if the token_claims are not populated",[ba]:"Server response does not contain an authorization code to proceed",[_h]:"Could not remove the credential's binding key from storage.",[Ca]:"The provided authority does not support logout",[Ea]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[bh]:"No network connectivity. Check your internet connection.",[Ch]:"User cancelled the flow.",[Eh]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[se]:"This method has not been implemented",[wh]:"The nested app auth bridge is disabled",[Ih]:"An error occurred in the native broker. See the platformBrokerError property for details."},lR={clientInfoDecodingError:{code:Fo,desc:te[Fo]},clientInfoEmptyError:{code:sa,desc:te[sa]},tokenParsingError:{code:Lo,desc:te[Lo]},nullOrEmptyToken:{code:aa,desc:te[aa]},endpointResolutionError:{code:un,desc:te[un]},networkError:{code:ca,desc:te[ca]},unableToGetOpenidConfigError:{code:la,desc:te[la]},hashNotDeserialized:{code:da,desc:te[da]},invalidStateError:{code:Di,desc:te[Di]},stateMismatchError:{code:ua,desc:te[ua]},stateNotFoundError:{code:Bo,desc:te[Bo]},nonceMismatchError:{code:ha,desc:te[ha]},authTimeNotFoundError:{code:Br,desc:te[Br]},maxAgeTranspired:{code:fa,desc:te[fa]},multipleMatchingTokens:{code:lh,desc:te[lh]},multipleMatchingAccounts:{code:dh,desc:te[dh]},multipleMatchingAppMetadata:{code:pa,desc:te[pa]},tokenRequestCannotBeMade:{code:ma,desc:te[ma]},removeEmptyScopeError:{code:ga,desc:te[ga]},appendScopeSetError:{code:va,desc:te[va]},emptyInputScopeSetError:{code:Uo,desc:te[Uo]},DeviceCodePollingCancelled:{code:uh,desc:te[uh]},DeviceCodeExpired:{code:hh,desc:te[hh]},DeviceCodeUnknownError:{code:fh,desc:te[fh]},NoAccountInSilentRequest:{code:Ur,desc:te[Ur]},invalidCacheRecord:{code:ya,desc:te[ya]},invalidCacheEnvironment:{code:Hr,desc:te[Hr]},noAccountFound:{code:ph,desc:te[ph]},noCryptoObj:{code:Ho,desc:te[Ho]},unexpectedCredentialType:{code:mh,desc:te[mh]},invalidAssertion:{code:gh,desc:te[gh]},invalidClientCredential:{code:vh,desc:te[vh]},tokenRefreshRequired:{code:Vr,desc:te[Vr]},userTimeoutReached:{code:yh,desc:te[yh]},tokenClaimsRequired:{code:_a,desc:te[_a]},noAuthorizationCodeFromServer:{code:ba,desc:te[ba]},bindingKeyNotRemovedError:{code:_h,desc:te[_h]},logoutNotSupported:{code:Ca,desc:te[Ca]},keyIdMissing:{code:Ea,desc:te[Ea]},noNetworkConnectivity:{code:bh,desc:te[bh]},userCanceledError:{code:Ch,desc:te[Ch]},missingTenantIdError:{code:Eh,desc:te[Eh]},nestedAppAuthBridgeDisabled:{code:wh,desc:te[wh]},platformBrokerError:{code:Ih,desc:te[Ih]}},Th=class n extends Z{constructor(e,t){super(e,t?`${te[e]}: ${t}`:te[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,n.prototype)}};function T(n,e){return new Th(n,e)}var Vo={createNewGuid:()=>{throw T(se)},base64Decode:()=>{throw T(se)},base64Encode:()=>{throw T(se)},base64UrlEncode:()=>{throw T(se)},encodeKid:()=>{throw T(se)},async getPublicKeyThumbprint(){throw T(se)},async removeTokenBindingKey(){throw T(se)},async clearKeystore(){throw T(se)},async signJwt(){throw T(se)},async hashString(){throw T(se)}};var Ue=(function(n){return n[n.Error=0]="Error",n[n.Warning=1]="Warning",n[n.Info=2]="Info",n[n.Verbose=3]="Verbose",n[n.Trace=4]="Trace",n})(Ue||{}),hn=class n{constructor(e,t,i){this.level=Ue.Info;let r=()=>{},o=e||n.createDefaultLoggerOptions();this.localCallback=o.loggerCallback||r,this.piiLoggingEnabled=o.piiLoggingEnabled||!1,this.level=typeof o.logLevel=="number"?o.logLevel:Ue.Info,this.correlationId=o.correlationId||E.EMPTY_STRING,this.packageName=t||E.EMPTY_STRING,this.packageVersion=i||E.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Ue.Info}}clone(e,t,i){return new n({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:i||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;let o=`${`[${new Date().toUTCString()}] : [${t.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${Ue[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,o,t.containsPii||!1)}executeCallback(e,t,i){this.localCallback&&this.localCallback(e,t,i)}error(e,t){this.logMessage(e,{logLevel:Ue.Error,containsPii:!1,correlationId:t||E.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:Ue.Error,containsPii:!0,correlationId:t||E.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:Ue.Warning,containsPii:!1,correlationId:t||E.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:Ue.Warning,containsPii:!0,correlationId:t||E.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:Ue.Info,containsPii:!1,correlationId:t||E.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:Ue.Info,containsPii:!0,correlationId:t||E.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:Ue.Verbose,containsPii:!1,correlationId:t||E.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:Ue.Verbose,containsPii:!0,correlationId:t||E.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:Ue.Trace,containsPii:!1,correlationId:t||E.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:Ue.Trace,containsPii:!0,correlationId:t||E.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}};var Hg="@azure/msal-common",sl="15.13.2";var jo={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"};var fn={};yn(fn,{authorityMismatch:()=>Oh,authorityUriInsecure:()=>Ia,cannotAllowPlatformBroker:()=>kh,cannotSetOIDCOptions:()=>Rh,claimsRequestParsingError:()=>Sh,emptyInputScopesError:()=>Sa,invalidAuthenticationHeader:()=>Mh,invalidAuthorityMetadata:()=>Ma,invalidAuthorizePostBodyParameters:()=>Ph,invalidClaims:()=>zo,invalidCloudDiscoveryMetadata:()=>$o,invalidCodeChallengeMethod:()=>Ah,invalidRequestMethodForEAR:()=>Nh,logoutRequestEmpty:()=>Da,missingNonceAuthenticationHeader:()=>xh,missingSshJwk:()=>jr,missingSshKid:()=>Dh,pkceParamsMissing:()=>xa,redirectUriEmpty:()=>wa,tokenRequestEmpty:()=>Aa,untrustedAuthority:()=>Ra,urlEmptyError:()=>Ta,urlParseError:()=>ir});var wa="redirect_uri_empty",Sh="claims_request_parsing_error",Ia="authority_uri_insecure",ir="url_parse_error",Ta="empty_url_error",Sa="empty_input_scopes_error",zo="invalid_claims",Aa="token_request_empty",Da="logout_request_empty",Ah="invalid_code_challenge_method",xa="pkce_params_missing",$o="invalid_cloud_discovery_metadata",Ma="invalid_authority_metadata",Ra="untrusted_authority",jr="missing_ssh_jwk",Dh="missing_ssh_kid",xh="missing_nonce_authentication_header",Mh="invalid_authentication_header",Rh="cannot_set_OIDCOptions",kh="cannot_allow_platform_broker",Oh="authority_mismatch",Nh="invalid_request_method_for_EAR",Ph="invalid_authorize_post_body_parameters";var et={[wa]:"A redirect URI is required for all calls, and none has been set.",[Sh]:"Could not parse the given claims request object.",[Ia]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[ir]:"URL could not be parsed into appropriate segments.",[Ta]:"URL was empty or null.",[Sa]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[zo]:"Given claims parameter must be a stringified JSON object.",[Aa]:"Token request was empty and not found in cache.",[Da]:"The logout request was null or undefined.",[Ah]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[xa]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[$o]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[Ma]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[Ra]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[jr]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[Dh]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[xh]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[Mh]:"Invalid authentication header provided",[Rh]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[kh]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[Oh]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority.",[Ph]:"Invalid authorize post body parameters provided. If you are using authorizePostBodyParameters, the request method must be POST. Please check the request method and parameters.",[Nh]:"Invalid request method for EAR protocol mode. The request method cannot be GET when using EAR protocol mode. Please change the request method to POST."},dR={redirectUriNotSet:{code:wa,desc:et[wa]},claimsRequestParsingError:{code:Sh,desc:et[Sh]},authorityUriInsecure:{code:Ia,desc:et[Ia]},urlParseError:{code:ir,desc:et[ir]},urlEmptyError:{code:Ta,desc:et[Ta]},emptyScopesError:{code:Sa,desc:et[Sa]},invalidClaimsRequest:{code:zo,desc:et[zo]},tokenRequestEmptyError:{code:Aa,desc:et[Aa]},logoutRequestEmptyError:{code:Da,desc:et[Da]},invalidCodeChallengeMethod:{code:Ah,desc:et[Ah]},invalidCodeChallengeParams:{code:xa,desc:et[xa]},invalidCloudDiscoveryMetadata:{code:$o,desc:et[$o]},invalidAuthorityMetadata:{code:Ma,desc:et[Ma]},untrustedAuthority:{code:Ra,desc:et[Ra]},missingSshJwk:{code:jr,desc:et[jr]},missingSshKid:{code:Dh,desc:et[Dh]},missingNonceAuthenticationHeader:{code:xh,desc:et[xh]},invalidAuthenticationHeader:{code:Mh,desc:et[Mh]},cannotSetOIDCOptions:{code:Rh,desc:et[Rh]},cannotAllowPlatformBroker:{code:kh,desc:et[kh]},authorityMismatch:{code:Oh,desc:et[Oh]},invalidAuthorizePostBodyParameters:{code:Ph,desc:et[Ph]},invalidRequestMethodForEAR:{code:Nh,desc:et[Nh]}},Fh=class n extends Z{constructor(e){super(e,et[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,n.prototype)}};function Ce(n){return new Fh(n)}var Ke=class{static isEmptyObj(e){if(e)try{let t=JSON.parse(e);return Object.keys(t).length===0}catch{}return!0}static startsWith(e,t){return e.indexOf(t)===0}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){let t={},i=e.split("&"),r=o=>decodeURIComponent(o.replace(/\+/g," "));return i.forEach(o=>{if(o.trim()){let[s,a]=o.split(/=(.+)/g,2);s&&a&&(t[r(s)]=r(a))}}),t}static trimArrayEntries(e){return e.map(t=>t.trim())}static removeEmptyStringsFromArray(e){return e.filter(t=>!!t)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}};var it=class n{constructor(e){let t=e?Ke.trimArrayEntries([...e]):[],i=t?Ke.removeEmptyStringsFromArray(t):[];if(!i||!i.length)throw Ce(Sa);this.scopes=new Set,i.forEach(r=>this.scopes.add(r))}static fromString(e){let i=(e||E.EMPTY_STRING).split(" ");return new n(i)}static createSearchScopes(e){let t=e&&e.length>0?e:[...zn],i=new n(t);return i.containsOnlyOIDCScopes()?i.removeScope(E.OFFLINE_ACCESS_SCOPE):i.removeOIDCScopes(),i}containsScope(e){let t=this.printScopesLowerCase().split(" "),i=new n(t);return e?i.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(t=>this.containsScope(t))}containsOnlyOIDCScopes(){let e=0;return ww.forEach(t=>{this.containsScope(t)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(t=>this.appendScope(t))}catch{throw T(va)}}removeScope(e){if(!e)throw T(ga);this.scopes.delete(e.trim())}removeOIDCScopes(){ww.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw T(Uo);let t=new Set;return e.scopes.forEach(i=>t.add(i.toLowerCase())),this.scopes.forEach(i=>t.add(i.toLowerCase())),t}intersectingScopeSets(e){if(!e)throw T(Uo);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();let t=this.unionScopeSets(e),i=e.getScopeCount(),r=this.getScopeCount();return t.size<r+i}getScopeCount(){return this.scopes.size}asArray(){let e=[];return this.scopes.forEach(t=>e.push(t)),e}printScopes(){return this.scopes?this.asArray().join(" "):E.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}};function al(n,e){if(!n)throw T(sa);try{let t=e(n);return JSON.parse(t)}catch{throw T(Fo)}}function rr(n){if(!n)throw T(Fo);let e=n.split(Fr.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?E.EMPTY_STRING:e[1]}}function Tw(n,e){return!!n&&!!e&&n===e.split(".")[1]}function Go(n,e,t,i){if(i){let{oid:r,sub:o,tid:s,name:a,tfp:c,acr:l,preferred_username:d,upn:u,login_hint:p}=i,m=s||c||l||"";return{tenantId:m,localAccountId:r||o||"",name:a,username:d||u||"",loginHint:p,isHomeTenant:Tw(m,n)}}else return{tenantId:t,localAccountId:e,username:"",isHomeTenant:Tw(t,n)}}function ka(n,e,t,i){let r=n;if(e){let o=e,{isHomeTenant:a}=o,c=Pi(o,["isHomeTenant"]);r=g(g({},n),c)}if(t){let s=Go(n.homeAccountId,n.localAccountId,n.tenantId,t),{isHomeTenant:a}=s,c=Pi(s,["isHomeTenant"]);return r=M(g(g({},r),c),{idTokenClaims:t,idToken:i}),r}return r}var pn={Default:0,Adfs:1,Dsts:2,Ciam:3};function Oa(n){return n&&(n.tid||n.tfp||n.acr)||null}var Qe={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};var He=class n{static getAccountInfo(e){return{homeAccountId:e.homeAccountId,environment:e.environment,tenantId:e.realm,username:e.username,localAccountId:e.localAccountId,loginHint:e.loginHint,name:e.name,nativeAccountId:e.nativeAccountId,authorityType:e.authorityType,tenantProfiles:new Map((e.tenantProfiles||[]).map(t=>[t.tenantId,t])),dataBoundary:e.dataBoundary}}isSingleTenant(){return!this.tenantProfiles}static createAccount(e,t,i){let r=new n;t.authorityType===pn.Adfs?r.authorityType=il.ADFS_ACCOUNT_TYPE:t.protocolMode===Qe.OIDC?r.authorityType=il.GENERIC_ACCOUNT_TYPE:r.authorityType=il.MSSTS_ACCOUNT_TYPE;let o;e.clientInfo&&i&&(o=al(e.clientInfo,i),o.xms_tdbr&&(r.dataBoundary=o.xms_tdbr==="EU"?"EU":"None")),r.clientInfo=e.clientInfo,r.homeAccountId=e.homeAccountId,r.nativeAccountId=e.nativeAccountId;let s=e.environment||t&&t.getPreferredCache();if(!s)throw T(Hr);r.environment=s,r.realm=o?.utid||Oa(e.idTokenClaims)||"",r.localAccountId=o?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";let a=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,c=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(r.username=a||c||"",r.loginHint=e.idTokenClaims?.login_hint,r.name=e.idTokenClaims?.name||"",r.cloudGraphHostName=e.cloudGraphHostName,r.msGraphHost=e.msGraphHost,e.tenantProfiles)r.tenantProfiles=e.tenantProfiles;else{let l=Go(e.homeAccountId,r.localAccountId,r.realm,e.idTokenClaims);r.tenantProfiles=[l]}return r}static createFromAccountInfo(e,t,i){let r=new n;return r.authorityType=e.authorityType||il.GENERIC_ACCOUNT_TYPE,r.homeAccountId=e.homeAccountId,r.localAccountId=e.localAccountId,r.nativeAccountId=e.nativeAccountId,r.realm=e.tenantId,r.environment=e.environment,r.username=e.username,r.name=e.name,r.loginHint=e.loginHint,r.cloudGraphHostName=t,r.msGraphHost=i,r.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),r.dataBoundary=e.dataBoundary,r}static generateHomeAccountId(e,t,i,r,o){if(!(t===pn.Adfs||t===pn.Dsts)){if(e)try{let s=al(e,r.base64Decode);if(s.uid&&s.utid)return`${s.uid}.${s.utid}`}catch{}i.warning("No client info in response")}return o?.sub||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,t,i){if(!e||!t)return!1;let r=!0;if(i){let o=e.idTokenClaims||{},s=t.idTokenClaims||{};r=o.iat===s.iat&&o.nonce===s.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.loginHint===t.loginHint&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&r}};var wt={};yn(wt,{checkMaxAge:()=>Lh,extractTokenClaims:()=>zr,getJWSPayload:()=>uR,isKmsi:()=>Sw});function zr(n,e){let t=uR(n);try{let i=e(t);return JSON.parse(i)}catch{throw T(Lo)}}function Sw(n){if(!n.signin_state)return!1;let e=["kmsi","dvc_dmjd"];return n.signin_state.some(i=>e.includes(i.trim().toLowerCase()))}function uR(n){if(!n)throw T(aa);let t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(n);if(!t||t.length<4)throw T(Lo);return t[2]}function Lh(n,e){if(e===0||Date.now()-3e5>n+e)throw T(fa)}var sr={};yn(sr,{getDeserializedResponse:()=>Aw,mapToQueryString:()=>or,normalizeUrlForComparison:()=>o2,stripLeadingHashOrQuery:()=>fR});function hR(n){if(!n)return n;let e=n.toLowerCase();return Ke.endsWith(e,"?")?e=e.slice(0,-1):Ke.endsWith(e,"?/")&&(e=e.slice(0,-2)),Ke.endsWith(e,"/")||(e+="/"),e}function fR(n){return n.startsWith("#/")?n.substring(2):n.startsWith("#")||n.startsWith("?")?n.substring(1):n}function Aw(n){if(!n||n.indexOf("=")<0)return null;try{let e=fR(n),t=Object.fromEntries(new URLSearchParams(e));if(t.code||t.ear_jwe||t.error||t.error_description||t.state)return t}catch{throw T(da)}return null}function or(n,e=!0,t){let i=new Array;return n.forEach((r,o)=>{!e&&t&&o in t?i.push(`${o}=${r}`):i.push(`${o}=${encodeURIComponent(r)}`)}),i.join("&")}function o2(n){if(!n)return n;let e=n.split("#")[0];try{let t=new URL(e),i=t.origin+t.pathname+t.search;return hR(i)}catch{return hR(e)}}var ae=class n{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw Ce(Ta);e.includes("#")||(this._urlString=n.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return Ke.endsWith(t,"?")?t=t.slice(0,-1):Ke.endsWith(t,"?/")&&(t=t.slice(0,-2)),Ke.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw Ce(ir)}if(!e.HostNameAndPort||!e.PathSegments)throw Ce(ir);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw Ce(Ia)}static appendQueryString(e,t){return t?e.indexOf("?")<0?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return n.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){let t=this.getUrlComponents(),i=t.PathSegments;return e&&i.length!==0&&(i[0]===Ai.COMMON||i[0]===Ai.ORGANIZATIONS)&&(i[0]=e),n.constructAuthorityUriFromObject(t)}getUrlComponents(){let e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw Ce(ir);let i={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]},r=i.AbsolutePath.split("/");return r=r.filter(o=>o&&o.length>0),i.PathSegments=r,i.QueryString&&i.QueryString.endsWith("/")&&(i.QueryString=i.QueryString.substring(0,i.QueryString.length-1)),i}static getDomainFromUrl(e){let t=RegExp("^([^:/?#]+://)?([^/?#]*)"),i=e.match(t);if(!i)throw Ce(ir);return i[2]}static getAbsoluteUrl(e,t){if(e[0]===E.FORWARD_SLASH){let r=new n(t).getUrlComponents();return r.Protocol+"//"+r.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new n(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!Aw(e)}};var mR={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},Dw=mR.endpointMetadata,xw=mR.instanceDiscoveryMetadata,Mw=new Set;xw.metadata.forEach(n=>{n.aliases.forEach(e=>{Mw.add(e)})});function gR(n,e){let t,i=n.canonicalAuthority;if(i){let r=new ae(i).getUrlComponents().HostNameAndPort;t=pR(r,n.cloudDiscoveryMetadata?.metadata,dn.CONFIG,e)||pR(r,xw.metadata,dn.HARDCODED_VALUES,e)||n.knownAuthorities}return t||[]}function pR(n,e,t,i){if(i?.trace(`getAliasesFromMetadata called with source: ${t}`),n&&e){let r=Bh(e,n);if(r)return i?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${t}, returning aliases`),r.aliases;i?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${t}`)}return null}function vR(n){return Bh(xw.metadata,n)}function Bh(n,e){for(let t=0;t<n.length;t++){let i=n[t];if(i.aliases.includes(e))return i}return null}var Hh={};yn(Hh,{cacheErrorUnknown:()=>Uh,cacheQuotaExceeded:()=>Vg});var Vg="cache_quota_exceeded",Uh="cache_error_unknown";var Rw={[Vg]:"Exceeded cache storage capacity.",[Uh]:"Unexpected error occurred when using cache storage."},qo=class n extends Z{constructor(e,t){let i=t||(Rw[e]?Rw[e]:Rw[Uh]);super(`${e}: ${i}`),Object.setPrototypeOf(this,n.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=i}};function cl(n){return n instanceof Error?n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED"||n.message.includes("exceeded the quota")?new qo(Vg):new qo(n.name,n.message):new qo(Uh)}var Na=class{constructor(e,t,i,r,o){this.clientId=e,this.cryptoImpl=t,this.commonLogger=i.clone(Hg,sl),this.staticAuthorityOptions=o,this.performanceClient=r}getAllAccounts(e,t){return this.buildTenantProfiles(this.getAccountsFilteredBy(e,t),t,e)}getAccountInfoFilteredBy(e,t){if(Object.keys(e).length===0||Object.values(e).every(r=>!r))return this.commonLogger.warning("getAccountInfoFilteredBy: Account filter is empty or invalid, returning null"),null;let i=this.getAllAccounts(e,t);return i.length>1?i.sort(o=>o.idTokenClaims?-1:1)[0]:i.length===1?i[0]:null}getBaseAccountInfo(e,t){let i=this.getAccountsFilteredBy(e,t);return i.length>0?He.getAccountInfo(i[0]):null}buildTenantProfiles(e,t,i){return e.flatMap(r=>this.getTenantProfilesFromAccountEntity(r,t,i?.tenantId,i))}getTenantedAccountInfoByFilter(e,t,i,r,o){let s=null,a;if(o&&!this.tenantProfileMatchesFilter(i,o))return null;let c=this.getIdToken(e,r,t,i.tenantId);return c&&(a=zr(c.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(a,o))?null:(s=ka(e,i,a,c?.secret),s)}getTenantProfilesFromAccountEntity(e,t,i,r){let o=He.getAccountInfo(e),s=o.tenantProfiles||new Map,a=this.getTokenKeys();if(i){let l=s.get(i);if(l)s=new Map([[i,l]]);else return[]}let c=[];return s.forEach(l=>{let d=this.getTenantedAccountInfoByFilter(o,a,l,t,r);d&&c.push(d)}),c}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId)||t.name&&e.name!==t.name||t.isHomeTenant!==void 0&&e.isHomeTenant!==t.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,t){return!(t&&(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId)||t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint)||t.username&&!this.matchUsername(e.preferred_username,t.username)||t.name&&!this.matchName(e,t.name)||t.sid&&!this.matchSid(e,t.sid)))}async saveCacheRecord(e,t,i,r){if(!e)throw T(ya);try{e.account&&await this.setAccount(e.account,t,i),e.idToken&&r?.idToken!==!1&&await this.setIdTokenCredential(e.idToken,t,i),e.accessToken&&r?.accessToken!==!1&&await this.saveAccessToken(e.accessToken,t,i),e.refreshToken&&r?.refreshToken!==!1&&await this.setRefreshTokenCredential(e.refreshToken,t,i),e.appMetadata&&this.setAppMetadata(e.appMetadata,t)}catch(o){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),o instanceof Z?o:cl(o)}}async saveAccessToken(e,t,i){let r={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},o=this.getTokenKeys(),s=it.fromString(e.target);o.accessToken.forEach(a=>{if(!this.accessTokenKeyMatchesFilter(a,r,!1))return;let c=this.getAccessTokenCredential(a,t);c&&this.credentialMatchesFilter(c,r)&&it.fromString(c.target).intersectingScopeSets(s)&&this.removeAccessToken(a,t)}),await this.setAccessTokenCredential(e,t,i)}getAccountsFilteredBy(e,t){let i=this.getAccountKeys(),r=[];return i.forEach(o=>{let s=this.getAccount(o,t);if(!s||e.homeAccountId&&!this.matchHomeAccountId(s,e.homeAccountId)||e.username&&!this.matchUsername(s.username,e.username)||e.environment&&!this.matchEnvironment(s,e.environment)||e.realm&&!this.matchRealm(s,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(s,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(s,e.authorityType))return;let a={localAccountId:e?.localAccountId,name:e?.name},c=s.tenantProfiles?.filter(l=>this.tenantProfileMatchesFilter(l,a));c&&c.length===0||r.push(s)}),r}credentialMatchesFilter(e,t){return!(t.clientId&&!this.matchClientId(e,t.clientId)||t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash)||typeof t.homeAccountId=="string"&&!this.matchHomeAccountId(e,t.homeAccountId)||t.environment&&!this.matchEnvironment(e,t.environment)||t.realm&&!this.matchRealm(e,t.realm)||t.credentialType&&!this.matchCredentialType(e,t.credentialType)||t.familyId&&!this.matchFamilyId(e,t.familyId)||t.target&&!this.matchTarget(e,t.target)||(t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash||e.credentialType===Et.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(t.tokenType&&!this.matchTokenType(e,t.tokenType)||t.tokenType===fe.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId)))}getAppMetadataFilteredBy(e){let t=this.getKeys(),i={};return t.forEach(r=>{if(!this.isAppMetadata(r))return;let o=this.getAppMetadata(r);o&&(e.environment&&!this.matchEnvironment(o,e.environment)||e.clientId&&!this.matchClientId(o,e.clientId)||(i[r]=o))}),i}getAuthorityMetadataByAlias(e){let t=this.getAuthorityMetadataKeys(),i=null;return t.forEach(r=>{if(!this.isAuthorityMetadata(r)||r.indexOf(this.clientId)===-1)return;let o=this.getAuthorityMetadata(r);o&&o.aliases.indexOf(e)!==-1&&(i=o)}),i}removeAllAccounts(e){this.getAllAccounts({},e).forEach(i=>{this.removeAccount(i,e)})}removeAccount(e,t){this.removeAccountContext(e,t);let i=this.getAccountKeys(),r=o=>o.includes(e.homeAccountId)&&o.includes(e.environment);i.filter(r).forEach(o=>{this.removeItem(o,t),this.performanceClient.incrementFields({accountsRemoved:1},t)})}removeAccountContext(e,t){let i=this.getTokenKeys(),r=o=>o.includes(e.homeAccountId)&&o.includes(e.environment);i.idToken.filter(r).forEach(o=>{this.removeIdToken(o,t)}),i.accessToken.filter(r).forEach(o=>{this.removeAccessToken(o,t)}),i.refreshToken.filter(r).forEach(o=>{this.removeRefreshToken(o,t)})}removeAccessToken(e,t){let i=this.getAccessTokenCredential(e,t);if(this.removeItem(e,t),this.performanceClient.incrementFields({accessTokensRemoved:1},t),!i||i.credentialType.toLowerCase()!==Et.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||i.tokenType!==fe.POP)return;let r=i.keyId;r&&this.cryptoImpl.removeTokenBindingKey(r).catch(()=>{this.commonLogger.error(`Failed to remove token binding key ${r}`,t),this.performanceClient?.incrementFields({removeTokenBindingKeyFailure:1},t)})}removeAppMetadata(e){return this.getKeys().forEach(i=>{this.isAppMetadata(i)&&this.removeItem(i,e)}),!0}getIdToken(e,t,i,r,o){this.commonLogger.trace("CacheManager - getIdToken called");let s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Et.ID_TOKEN,clientId:this.clientId,realm:r},a=this.getIdTokensByFilter(s,t,i),c=a.size;if(c<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(c>1){let l=a;if(!r){let d=new Map;a.forEach((p,m)=>{p.realm===e.tenantId&&d.set(m,p)});let u=d.size;if(u<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),a.values().next().value;if(u===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),d.values().next().value;l=d}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),l.forEach((d,u)=>{this.removeIdToken(u,t)}),o&&t&&o.addFields({multiMatchedID:a.size},t),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),a.values().next().value}getIdTokensByFilter(e,t,i){let r=i&&i.idToken||this.getTokenKeys().idToken,o=new Map;return r.forEach(s=>{if(!this.idTokenKeyMatchesFilter(s,g({clientId:this.clientId},e)))return;let a=this.getIdTokenCredential(s,t);a&&this.credentialMatchesFilter(a,e)&&o.set(s,a)}),o}idTokenKeyMatchesFilter(e,t){let i=e.toLowerCase();return!(t.clientId&&i.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&i.indexOf(t.homeAccountId.toLowerCase())===-1)}removeIdToken(e,t){this.removeItem(e,t)}removeRefreshToken(e,t){this.removeItem(e,t)}getAccessToken(e,t,i,r){let o=t.correlationId;this.commonLogger.trace("CacheManager - getAccessToken called",o);let s=it.createSearchScopes(t.scopes),a=t.authenticationScheme||fe.BEARER,c=a&&a.toLowerCase()!==fe.BEARER.toLowerCase()?Et.ACCESS_TOKEN_WITH_AUTH_SCHEME:Et.ACCESS_TOKEN,l={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:c,clientId:this.clientId,realm:r||e.tenantId,target:s,tokenType:a,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},d=i&&i.accessToken||this.getTokenKeys().accessToken,u=[];d.forEach(m=>{if(this.accessTokenKeyMatchesFilter(m,l,!0)){let C=this.getAccessTokenCredential(m,o);C&&this.credentialMatchesFilter(C,l)&&u.push(C)}});let p=u.length;return p<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found",o),null):p>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them",o),u.forEach(m=>{this.removeAccessToken(this.generateCredentialKey(m),o)}),this.performanceClient.addFields({multiMatchedAT:u.length},o),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token",o),u[0])}accessTokenKeyMatchesFilter(e,t,i){let r=e.toLowerCase();if(t.clientId&&r.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&r.indexOf(t.homeAccountId.toLowerCase())===-1||t.realm&&r.indexOf(t.realm.toLowerCase())===-1||t.requestedClaimsHash&&r.indexOf(t.requestedClaimsHash.toLowerCase())===-1)return!1;if(t.target){let o=t.target.asArray();for(let s=0;s<o.length;s++){if(i&&!r.includes(o[s].toLowerCase()))return!1;if(!i&&r.includes(o[s].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e,t){let i=this.getTokenKeys(),r=[];return i.accessToken.forEach(o=>{if(!this.accessTokenKeyMatchesFilter(o,e,!0))return;let s=this.getAccessTokenCredential(o,t);s&&this.credentialMatchesFilter(s,e)&&r.push(s)}),r}getRefreshToken(e,t,i,r,o){this.commonLogger.trace("CacheManager - getRefreshToken called");let s=t?ra:void 0,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Et.REFRESH_TOKEN,clientId:this.clientId,familyId:s},c=r&&r.refreshToken||this.getTokenKeys().refreshToken,l=[];c.forEach(u=>{if(this.refreshTokenKeyMatchesFilter(u,a)){let p=this.getRefreshTokenCredential(u,i);p&&this.credentialMatchesFilter(p,a)&&l.push(p)}});let d=l.length;return d<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(d>1&&o&&i&&o.addFields({multiMatchedRT:d},i),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),l[0])}refreshTokenKeyMatchesFilter(e,t){let i=e.toLowerCase();return!(t.familyId&&i.indexOf(t.familyId.toLowerCase())===-1||!t.familyId&&t.clientId&&i.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&i.indexOf(t.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){let t={environment:e,clientId:this.clientId},i=this.getAppMetadataFilteredBy(t),r=Object.keys(i).map(s=>i[s]),o=r.length;if(o<1)return null;if(o>1)throw T(pa);return r[0]}isAppMetadataFOCI(e){let t=this.readAppMetadataFromCache(e);return!!(t&&t.familyId===ra)}matchHomeAccountId(e,t){return typeof e.homeAccountId=="string"&&t===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,t){let i=e.oid||e.sub;return t===i}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){return t.toLowerCase()===e.name?.toLowerCase()}matchUsername(e,t){return!!(e&&typeof e=="string"&&t?.toLowerCase()===e.toLowerCase())}matchUserAssertionHash(e,t){return!!(e.userAssertionHash&&t===e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){let r=gR(this.staticAuthorityOptions,this.commonLogger);if(r.includes(t)&&r.includes(e.environment))return!0}let i=this.getAuthorityMetadataByAlias(t);return!!(i&&i.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!!(e.clientId&&t===e.clientId)}matchFamilyId(e,t){return!!(e.familyId&&t===e.familyId)}matchRealm(e,t){return e.realm?.toLowerCase()===t.toLowerCase()}matchNativeAccountId(e,t){return!!(e.nativeAccountId&&t===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||e.preferred_username===t||e.upn===t}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!!(e.authorityType&&t.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,t){return e.credentialType!==Et.ACCESS_TOKEN&&e.credentialType!==Et.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:it.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!!(e.tokenType&&e.tokenType===t)}matchKeyId(e,t){return!!(e.keyId&&e.keyId===t)}isAppMetadata(e){return e.indexOf(oh)!==-1}isAuthorityMetadata(e){return e.indexOf(rl.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${rl.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,t){for(let i in t)e[i]=t[i];return e}},Vh=class extends Na{async setAccount(){throw T(se)}getAccount(){throw T(se)}async setIdTokenCredential(){throw T(se)}getIdTokenCredential(){throw T(se)}async setAccessTokenCredential(){throw T(se)}getAccessTokenCredential(){throw T(se)}async setRefreshTokenCredential(){throw T(se)}getRefreshTokenCredential(){throw T(se)}setAppMetadata(){throw T(se)}getAppMetadata(){throw T(se)}setServerTelemetry(){throw T(se)}getServerTelemetry(){throw T(se)}setAuthorityMetadata(){throw T(se)}getAuthorityMetadata(){throw T(se)}getAuthorityMetadataKeys(){throw T(se)}setThrottlingCache(){throw T(se)}getThrottlingCache(){throw T(se)}removeItem(){throw T(se)}getKeys(){throw T(se)}getAccountKeys(){throw T(se)}getTokenKeys(){throw T(se)}generateCredentialKey(){throw T(se)}generateAccountKey(){throw T(se)}};var f={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",InitializeCache:"initializeCache",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",GetAuthCodeUrl:"getAuthCodeUrl",GetStandardParams:"getStandardParams",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",HandleResponseEar:"handleResponseEar",HandleResponsePlatformBroker:"handleResponsePlatformBroker",HandleResponseCode:"handleResponseCode",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",ImportExistingCache:"importExistingCache",SetUserData:"setUserData",LocalStorageUpdated:"localStorageUpdated",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues",GenerateHKDF:"generateHKDF",GenerateBaseKey:"generateBaseKey",Base64Decode:"base64Decode",UrlEncodeArr:"urlEncodeArr",Encrypt:"encrypt",Decrypt:"decrypt",GenerateEarKey:"generateEarKey",DecryptEarResponse:"decryptEarResponse"},_oe=new Map([[f.AcquireTokenByCode,"ATByCode"],[f.AcquireTokenByRefreshToken,"ATByRT"],[f.AcquireTokenSilent,"ATS"],[f.AcquireTokenSilentAsync,"ATSAsync"],[f.AcquireTokenPopup,"ATPopup"],[f.AcquireTokenRedirect,"ATRedirect"],[f.CryptoOptsGetPublicKeyThumbprint,"CryptoGetPKThumb"],[f.CryptoOptsSignJwt,"CryptoSignJwt"],[f.SilentCacheClientAcquireToken,"SltCacheClientAT"],[f.SilentIframeClientAcquireToken,"SltIframeClientAT"],[f.SilentRefreshClientAcquireToken,"SltRClientAT"],[f.SsoSilent,"SsoSlt"],[f.StandardInteractionClientGetDiscoveredAuthority,"StdIntClientGetDiscAuth"],[f.FetchAccountIdWithNativeBroker,"FetchAccIdWithNtvBroker"],[f.NativeInteractionClientAcquireToken,"NtvIntClientAT"],[f.BaseClientCreateTokenRequestHeaders,"BaseClientCreateTReqHead"],[f.NetworkClientSendPostRequestAsync,"NetClientSendPost"],[f.RefreshTokenClientExecutePostToTokenEndpoint,"RTClientExecPost"],[f.AuthorizationCodeClientExecutePostToTokenEndpoint,"AuthCodeClientExecPost"],[f.BrokerHandhshake,"BrokerHandshake"],[f.AcquireTokenByRefreshTokenInBroker,"ATByRTInBroker"],[f.AcquireTokenByBroker,"ATByBroker"],[f.RefreshTokenClientExecuteTokenRequest,"RTClientExecTReq"],[f.RefreshTokenClientAcquireToken,"RTClientAT"],[f.RefreshTokenClientAcquireTokenWithCachedRefreshToken,"RTClientATWithCachedRT"],[f.RefreshTokenClientAcquireTokenByRefreshToken,"RTClientATByRT"],[f.RefreshTokenClientCreateTokenRequestBody,"RTClientCreateTReqBody"],[f.AcquireTokenFromCache,"ATFromCache"],[f.SilentFlowClientAcquireCachedToken,"SltFlowClientATCached"],[f.SilentFlowClientGenerateResultFromCacheRecord,"SltFlowClientGenResFromCache"],[f.AcquireTokenBySilentIframe,"ATBySltIframe"],[f.InitializeBaseRequest,"InitBaseReq"],[f.InitializeSilentRequest,"InitSltReq"],[f.InitializeClientApplication,"InitClientApplication"],[f.InitializeCache,"InitCache"],[f.ImportExistingCache,"importCache"],[f.SetUserData,"setUserData"],[f.LocalStorageUpdated,"localStorageUpdated"],[f.SilentIframeClientTokenHelper,"SIClientTHelper"],[f.SilentHandlerInitiateAuthRequest,"SHandlerInitAuthReq"],[f.SilentHandlerMonitorIframeForHash,"SltHandlerMonitorIframeForHash"],[f.SilentHandlerLoadFrame,"SHandlerLoadFrame"],[f.SilentHandlerLoadFrameSync,"SHandlerLoadFrameSync"],[f.StandardInteractionClientCreateAuthCodeClient,"StdIntClientCreateAuthCodeClient"],[f.StandardInteractionClientGetClientConfiguration,"StdIntClientGetClientConf"],[f.StandardInteractionClientInitializeAuthorizationRequest,"StdIntClientInitAuthReq"],[f.GetAuthCodeUrl,"GetAuthCodeUrl"],[f.HandleCodeResponseFromServer,"HandleCodeResFromServer"],[f.HandleCodeResponse,"HandleCodeResp"],[f.HandleResponseEar,"HandleRespEar"],[f.HandleResponseCode,"HandleRespCode"],[f.HandleResponsePlatformBroker,"HandleRespPlatBroker"],[f.UpdateTokenEndpointAuthority,"UpdTEndpointAuth"],[f.AuthClientAcquireToken,"AuthClientAT"],[f.AuthClientExecuteTokenRequest,"AuthClientExecTReq"],[f.AuthClientCreateTokenRequestBody,"AuthClientCreateTReqBody"],[f.PopTokenGenerateCnf,"PopTGenCnf"],[f.PopTokenGenerateKid,"PopTGenKid"],[f.HandleServerTokenResponse,"HandleServerTRes"],[f.DeserializeResponse,"DeserializeRes"],[f.AuthorityFactoryCreateDiscoveredInstance,"AuthFactCreateDiscInst"],[f.AuthorityResolveEndpointsAsync,"AuthResolveEndpointsAsync"],[f.AuthorityResolveEndpointsFromLocalSources,"AuthResolveEndpointsFromLocal"],[f.AuthorityGetCloudDiscoveryMetadataFromNetwork,"AuthGetCDMetaFromNet"],[f.AuthorityUpdateCloudDiscoveryMetadata,"AuthUpdCDMeta"],[f.AuthorityGetEndpointMetadataFromNetwork,"AuthUpdCDMetaFromNet"],[f.AuthorityUpdateEndpointMetadata,"AuthUpdEndpointMeta"],[f.AuthorityUpdateMetadataWithRegionalInformation,"AuthUpdMetaWithRegInfo"],[f.RegionDiscoveryDetectRegion,"RegDiscDetectReg"],[f.RegionDiscoveryGetRegionFromIMDS,"RegDiscGetRegFromIMDS"],[f.RegionDiscoveryGetCurrentVersion,"RegDiscGetCurrentVer"],[f.AcquireTokenByCodeAsync,"ATByCodeAsync"],[f.GetEndpointMetadataFromNetwork,"GetEndpointMetaFromNet"],[f.GetCloudDiscoveryMetadataFromNetworkMeasurement,"GetCDMetaFromNet"],[f.HandleRedirectPromiseMeasurement,"HandleRedirectPromise"],[f.HandleNativeRedirectPromiseMeasurement,"HandleNtvRedirectPromise"],[f.UpdateCloudDiscoveryMetadataMeasurement,"UpdateCDMeta"],[f.UsernamePasswordClientAcquireToken,"UserPassClientAT"],[f.NativeMessageHandlerHandshake,"NtvMsgHandlerHandshake"],[f.NativeGenerateAuthResult,"NtvGenAuthRes"],[f.RemoveHiddenIframe,"RemoveHiddenIframe"],[f.ClearTokensAndKeysWithClaims,"ClearTAndKeysWithClaims"],[f.CacheManagerGetRefreshToken,"CacheManagerGetRT"],[f.GeneratePkceCodes,"GenPkceCodes"],[f.GenerateCodeVerifier,"GenCodeVerifier"],[f.GenerateCodeChallengeFromVerifier,"GenCodeChallengeFromVerifier"],[f.Sha256Digest,"Sha256Digest"],[f.GetRandomValues,"GetRandomValues"],[f.GenerateHKDF,"genHKDF"],[f.GenerateBaseKey,"genBaseKey"],[f.Base64Decode,"b64Decode"],[f.UrlEncodeArr,"urlEncArr"],[f.Encrypt,"encrypt"],[f.Decrypt,"decrypt"],[f.GenerateEarKey,"genEarKey"],[f.DecryptEarResponse,"decryptEarResp"]]),kw={NotStarted:0,InProgress:1,Completed:2};var jg=class{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}},$r=class{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:kw.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new jg}}startPerformanceMeasurement(){return new jg}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}};var zg={tokenRenewalOffsetSeconds:sh,preventCorsPreflight:!1},s2={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Ue.Info,correlationId:E.EMPTY_STRING},a2={claimsBasedCachingEnabled:!1},c2={async sendGetRequestAsync(){throw T(se)},async sendPostRequestAsync(){throw T(se)}},l2={sku:E.SKU,version:sl,cpu:E.EMPTY_STRING,os:E.EMPTY_STRING},d2={clientSecret:E.EMPTY_STRING,clientAssertion:void 0},u2={azureCloudInstance:jo.None,tenant:`${E.DEFAULT_COMMON_TENANT}`},h2={application:{appName:"",appVersion:""}};function yR({authOptions:n,systemOptions:e,loggerOptions:t,cacheOptions:i,storageInterface:r,networkInterface:o,cryptoInterface:s,clientCredentials:a,libraryInfo:c,telemetry:l,serverTelemetryManager:d,persistencePlugin:u,serializableCache:p}){let m=g(g({},s2),t);return{authOptions:f2(n),systemOptions:g(g({},zg),e),loggerOptions:m,cacheOptions:g(g({},a2),i),storageInterface:r||new Vh(n.clientId,Vo,new hn(m),new $r),networkInterface:o||c2,cryptoInterface:s||Vo,clientCredentials:a||d2,libraryInfo:g(g({},l2),c),telemetry:g(g({},h2),l),serverTelemetryManager:d||null,persistencePlugin:u||null,serializableCache:p||null}}function f2(n){return g({clientCapabilities:[],azureCloudOptions:u2,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1},n)}function $g(n){return n.authOptions.authority.options.protocolMode===Qe.OIDC}var en={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};var It={};yn(It,{addApplicationTelemetry:()=>$h,addAuthorizationCode:()=>wI,addBrokerParameters:()=>Kr,addCcsOid:()=>qr,addCcsUpn:()=>Wo,addClaims:()=>Ua,addClientAssertion:()=>Wh,addClientAssertionType:()=>Kh,addClientCapabilitiesToClaims:()=>_R,addClientId:()=>La,addClientInfo:()=>Va,addClientSecret:()=>qh,addCodeChallengeParams:()=>D2,addCodeVerifier:()=>TI,addCorrelationId:()=>Ha,addDeviceCode:()=>x2,addDomainHint:()=>bI,addEARParameters:()=>N2,addExtraQueryParameters:()=>Wr,addGrantType:()=>Yh,addIdTokenHint:()=>_I,addInstanceAware:()=>Qh,addLibraryInfo:()=>zh,addLoginHint:()=>dl,addLogoutHint:()=>SI,addNativeBroker:()=>A2,addNonce:()=>EI,addOboAssertion:()=>M2,addPassword:()=>O2,addPopToken:()=>Zh,addPostBodyParameters:()=>P2,addPostLogoutRedirectUri:()=>yI,addPrompt:()=>CI,addRedirectUri:()=>Ba,addRefreshToken:()=>II,addRequestTokenUse:()=>R2,addResponseMode:()=>vI,addResponseType:()=>S2,addScopes:()=>Fa,addServerTelemetry:()=>Xh,addSid:()=>Qg,addSshJwk:()=>Jh,addState:()=>Gh,addThrottling:()=>ef,addUsername:()=>k2,instrumentBrokerParams:()=>Pa});var Gr={};yn(Gr,{ACCESS_TOKEN:()=>g2,BROKER_CLIENT_ID:()=>jh,BROKER_REDIRECT_URI:()=>Yg,CCS_HEADER:()=>I2,CLAIMS:()=>Fw,CLIENT_ASSERTION:()=>sI,CLIENT_ASSERTION_TYPE:()=>aI,CLIENT_ID:()=>ar,CLIENT_INFO:()=>C2,CLIENT_REQUEST_ID:()=>qw,CLIENT_SECRET:()=>oI,CODE:()=>jw,CODE_CHALLENGE:()=>zw,CODE_CHALLENGE_METHOD:()=>$w,CODE_VERIFIER:()=>Gw,DEVICE_CODE:()=>rI,DOMAIN_HINT:()=>pI,EAR_JWE_CRYPTO:()=>gI,EAR_JWK:()=>mI,ERROR:()=>p2,ERROR_DESCRIPTION:()=>m2,EXPIRES_IN:()=>y2,FOCI:()=>w2,GRANT_TYPE:()=>Pw,ID_TOKEN:()=>v2,ID_TOKEN_HINT:()=>iI,INSTANCE_AWARE:()=>ll,LOGIN_HINT:()=>fI,LOGOUT_HINT:()=>uI,NATIVE_BROKER:()=>dI,NONCE:()=>Hw,OBO_ASSERTION:()=>cI,ON_BEHALF_OF:()=>E2,POST_LOGOUT_URI:()=>nI,PROMPT:()=>Vw,REDIRECT_URI:()=>Gg,REFRESH_TOKEN:()=>Bw,REFRESH_TOKEN_EXPIRES_IN:()=>_2,REQUESTED_TOKEN_USE:()=>lI,REQ_CNF:()=>Wg,RESPONSE_MODE:()=>Nw,RESPONSE_TYPE:()=>Ow,RETURN_SPA_CODE:()=>Kg,SCOPE:()=>Lw,SESSION_STATE:()=>b2,SID:()=>hI,STATE:()=>Uw,TOKEN_TYPE:()=>qg,X_APP_NAME:()=>eI,X_APP_VER:()=>tI,X_CLIENT_CPU:()=>Qw,X_CLIENT_CURR_TELEM:()=>Zw,X_CLIENT_EXTRA_SKU:()=>T2,X_CLIENT_LAST_TELEM:()=>Jw,X_CLIENT_OS:()=>Yw,X_CLIENT_SKU:()=>Ww,X_CLIENT_VER:()=>Kw,X_MS_LIB_CAPABILITY:()=>Xw});var ar="client_id",Gg="redirect_uri",Ow="response_type",Nw="response_mode",Pw="grant_type",Fw="claims",Lw="scope",p2="error",m2="error_description",g2="access_token",v2="id_token",Bw="refresh_token",y2="expires_in",_2="refresh_token_expires_in",Uw="state",Hw="nonce",Vw="prompt",b2="session_state",C2="client_info",jw="code",zw="code_challenge",$w="code_challenge_method",Gw="code_verifier",qw="client-request-id",Ww="x-client-SKU",Kw="x-client-VER",Yw="x-client-OS",Qw="x-client-CPU",Zw="x-client-current-telemetry",Jw="x-client-last-telemetry",Xw="x-ms-lib-capability",eI="x-app-name",tI="x-app-ver",nI="post_logout_redirect_uri",iI="id_token_hint",rI="device_code",oI="client_secret",sI="client_assertion",aI="client_assertion_type",qg="token_type",Wg="req_cnf",cI="assertion",lI="requested_token_use",E2="on_behalf_of",w2="foci",I2="X-AnchorMailbox",Kg="return_spa_code",dI="nativebroker",uI="logout_hint",hI="sid",fI="login_hint",pI="domain_hint",T2="x-client-xtra-sku",jh="brk_client_id",Yg="brk_redirect_uri",ll="instance_aware",mI="ear_jwk",gI="ear_jwe_crypto";function Pa(n,e,t){if(!e)return;let i=n.get(ar);i&&n.has(jh)&&t?.addFields({embeddedClientId:i,embeddedRedirectUri:n.get(Gg)},e)}function S2(n,e){n.set(Ow,e)}function vI(n,e){n.set(Nw,e||Iw.QUERY)}function A2(n){n.set(dI,"1")}function Fa(n,e,t=!0,i=zn){t&&!i.includes("openid")&&!e.includes("openid")&&i.push("openid");let r=t?[...e||[],...i]:e||[],o=new it(r);n.set(Lw,o.printScopes())}function La(n,e){n.set(ar,e)}function Ba(n,e){n.set(Gg,e)}function yI(n,e){n.set(nI,e)}function _I(n,e){n.set(iI,e)}function bI(n,e){n.set(pI,e)}function dl(n,e){n.set(fI,e)}function Wo(n,e){n.set(Ct.CCS_HEADER,`UPN:${e}`)}function qr(n,e){n.set(Ct.CCS_HEADER,`Oid:${e.uid}@${e.utid}`)}function Qg(n,e){n.set("sid",e)}function Ua(n,e,t){let i=_R(e,t);try{JSON.parse(i)}catch{throw Ce(zo)}n.set(Fw,i)}function Ha(n,e){n.set(qw,e)}function zh(n,e){n.set(Ww,e.sku),n.set(Kw,e.version),e.os&&n.set(Yw,e.os),e.cpu&&n.set(Qw,e.cpu)}function $h(n,e){e?.appName&&n.set(eI,e.appName),e?.appVersion&&n.set(tI,e.appVersion)}function CI(n,e){n.set(Vw,e)}function Gh(n,e){e&&n.set(Uw,e)}function EI(n,e){n.set(Hw,e)}function D2(n,e,t){if(e&&t)n.set(zw,e),n.set($w,t);else throw Ce(xa)}function wI(n,e){n.set(jw,e)}function x2(n,e){n.set(rI,e)}function II(n,e){n.set(Bw,e)}function TI(n,e){n.set(Gw,e)}function qh(n,e){n.set(oI,e)}function Wh(n,e){e&&n.set(sI,e)}function Kh(n,e){e&&n.set(aI,e)}function M2(n,e){n.set(cI,e)}function R2(n,e){n.set(lI,e)}function Yh(n,e){n.set(Pw,e)}function Va(n){n.set(aR,"1")}function Qh(n){n.has(ll)||n.set(ll,"true")}function Wr(n,e){Object.entries(e).forEach(([t,i])=>{!n.has(t)&&i&&n.set(t,i)})}function _R(n,e){let t;if(!n)t={};else try{t=JSON.parse(n)}catch{throw Ce(zo)}return e&&e.length>0&&(t.hasOwnProperty(nl.ACCESS_TOKEN)||(t[nl.ACCESS_TOKEN]={}),t[nl.ACCESS_TOKEN][nl.XMS_CC]={values:e}),JSON.stringify(t)}function k2(n,e){n.set(Fg.username,e)}function O2(n,e){n.set(Fg.password,e)}function Zh(n,e){e&&(n.set(qg,fe.POP),n.set(Wg,e))}function Jh(n,e){e&&(n.set(qg,fe.SSH),n.set(Wg,e))}function Xh(n,e){n.set(Zw,e.generateCurrentRequestHeaderValue()),n.set(Jw,e.generateLastRequestHeaderValue())}function ef(n){n.set(Xw,Lr.X_MS_LIB_CAPABILITY_VALUE)}function SI(n,e){n.set(uI,e)}function Kr(n,e,t){n.has(jh)||n.set(jh,e),n.has(Yg)||n.set(Yg,t)}function N2(n,e){n.set(mI,encodeURIComponent(e)),n.set(gI,"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}function P2(n,e){Object.entries(e).forEach(([t,i])=>{i&&n.set(t,i)})}var tv={};yn(tv,{createDiscoveredInstance:()=>kI});function bR(n){return n.hasOwnProperty("authorization_endpoint")&&n.hasOwnProperty("token_endpoint")&&n.hasOwnProperty("issuer")&&n.hasOwnProperty("jwks_uri")}function CR(n){return n.hasOwnProperty("tenant_discovery_endpoint")&&n.hasOwnProperty("metadata")}function ER(n){return n.hasOwnProperty("error")&&n.hasOwnProperty("error_description")}var rt=(n,e,t,i,r)=>(...o)=>{t.trace(`Executing function ${e}`);let s=i?.startMeasurement(e,r);if(r){let a=e+"CallCount";i?.incrementFields({[a]:1},r)}try{let a=n(...o);return s?.end({success:!0}),t.trace(`Returning result from ${e}`),a}catch(a){t.trace(`Error occurred in ${e}`);try{t.trace(JSON.stringify(a))}catch{t.trace("Unable to print error message.")}throw s?.end({success:!1},a),a}},b=(n,e,t,i,r)=>(...o)=>{t.trace(`Executing function ${e}`);let s=i?.startMeasurement(e,r);if(r){let a=e+"CallCount";i?.incrementFields({[a]:1},r)}return i?.setPreQueueTime(e,r),n(...o).then(a=>(t.trace(`Returning result from ${e}`),s?.end({success:!0}),a)).catch(a=>{t.trace(`Error occurred in ${e}`);try{t.trace(JSON.stringify(a))}catch{t.trace("Unable to print error message.")}throw s?.end({success:!1},a),a})};var wR=(()=>{class n{constructor(t,i,r,o){this.networkInterface=t,this.logger=i,this.performanceClient=r,this.correlationId=o}async detectRegion(t,i){this.performanceClient?.addQueueMeasurement(f.RegionDiscoveryDetectRegion,this.correlationId);let r=t;if(r)i.region_source=oa.ENVIRONMENT_VARIABLE;else{let o=n.IMDS_OPTIONS;try{let s=await b(this.getRegionFromIMDS.bind(this),f.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(E.IMDS_VERSION,o);if(s.status===Si.SUCCESS&&(r=s.body,i.region_source=oa.IMDS),s.status===Si.BAD_REQUEST){let a=await b(this.getCurrentVersion.bind(this),f.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(o);if(!a)return i.region_source=oa.FAILED_AUTO_DETECTION,null;let c=await b(this.getRegionFromIMDS.bind(this),f.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(a,o);c.status===Si.SUCCESS&&(r=c.body,i.region_source=oa.IMDS)}}catch{return i.region_source=oa.FAILED_AUTO_DETECTION,null}}return r||(i.region_source=oa.FAILED_AUTO_DETECTION),r||null}async getRegionFromIMDS(t,i){return this.performanceClient?.addQueueMeasurement(f.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${E.IMDS_ENDPOINT}?api-version=${t}&format=text`,i,E.IMDS_TIMEOUT)}async getCurrentVersion(t){this.performanceClient?.addQueueMeasurement(f.RegionDiscoveryGetCurrentVersion,this.correlationId);try{let i=await this.networkInterface.sendGetRequestAsync(`${E.IMDS_ENDPOINT}?format=json`,t);return i.status===Si.BAD_REQUEST&&i.body&&i.body["newest-versions"]&&i.body["newest-versions"].length>0?i.body["newest-versions"][0]:null}catch{return null}}}return n.IMDS_OPTIONS={headers:{Metadata:"true"}},n})();var ot={};yn(ot,{createAccessTokenEntity:()=>xI,createIdTokenEntity:()=>DI,createRefreshTokenEntity:()=>MI,generateAppMetadataKey:()=>$2,generateAuthorityMetadataExpiresAt:()=>Jg,isAccessTokenEntity:()=>U2,isAppMetadataEntity:()=>G2,isAuthorityMetadataEntity:()=>q2,isAuthorityMetadataExpired:()=>Xg,isCredentialEntity:()=>Zg,isIdTokenEntity:()=>H2,isRefreshTokenEntity:()=>V2,isServerTelemetryEntity:()=>j2,isThrottlingEntity:()=>z2,updateAuthorityEndpointMetadata:()=>hl,updateCloudDiscoveryMetadata:()=>nf});var Dt={};yn(Dt,{delay:()=>B2,isCacheExpired:()=>L2,isTokenExpired:()=>ul,nowSeconds:()=>$n,toDateFromSeconds:()=>tf,toSecondsFromDate:()=>F2,wasClockTurnedBack:()=>AI});function $n(){return Math.round(new Date().getTime()/1e3)}function F2(n){return n.getTime()/1e3}function tf(n){return n?new Date(Number(n)*1e3):new Date}function ul(n,e){let t=Number(n)||0;return $n()+e>t}function L2(n,e){let t=Number(n)+e*24*60*60*1e3;return Date.now()>t}function AI(n){return Number(n)>$n()}function B2(n,e){return new Promise(t=>setTimeout(()=>t(e),n))}function DI(n,e,t,i,r){return{credentialType:Et.ID_TOKEN,homeAccountId:n,environment:e,clientId:i,secret:t,realm:r,lastUpdatedAt:Date.now().toString()}}function xI(n,e,t,i,r,o,s,a,c,l,d,u,p,m,C){let I={homeAccountId:n,credentialType:Et.ACCESS_TOKEN,secret:t,cachedAt:$n().toString(),expiresOn:s.toString(),extendedExpiresOn:a.toString(),environment:e,clientId:i,realm:r,target:o,tokenType:d||fe.BEARER,lastUpdatedAt:Date.now().toString()};if(u&&(I.userAssertionHash=u),l&&(I.refreshOn=l.toString()),m&&(I.requestedClaims=m,I.requestedClaimsHash=C),I.tokenType?.toLowerCase()!==fe.BEARER.toLowerCase())switch(I.credentialType=Et.ACCESS_TOKEN_WITH_AUTH_SCHEME,I.tokenType){case fe.POP:let D=zr(t,c);if(!D?.cnf?.kid)throw T(_a);I.keyId=D.cnf.kid;break;case fe.SSH:I.keyId=p}return I}function MI(n,e,t,i,r,o,s){let a={credentialType:Et.REFRESH_TOKEN,homeAccountId:n,environment:e,clientId:i,secret:t,lastUpdatedAt:Date.now().toString()};return o&&(a.userAssertionHash=o),r&&(a.familyId=r),s&&(a.expiresOn=s.toString()),a}function Zg(n){return n.hasOwnProperty("homeAccountId")&&n.hasOwnProperty("environment")&&n.hasOwnProperty("credentialType")&&n.hasOwnProperty("clientId")&&n.hasOwnProperty("secret")}function U2(n){return n?Zg(n)&&n.hasOwnProperty("realm")&&n.hasOwnProperty("target")&&(n.credentialType===Et.ACCESS_TOKEN||n.credentialType===Et.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function H2(n){return n?Zg(n)&&n.hasOwnProperty("realm")&&n.credentialType===Et.ID_TOKEN:!1}function V2(n){return n?Zg(n)&&n.credentialType===Et.REFRESH_TOKEN:!1}function j2(n,e){let t=n.indexOf(Pt.CACHE_KEY)===0,i=!0;return e&&(i=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),t&&i}function z2(n,e){let t=!1;n&&(t=n.indexOf(Lr.THROTTLING_PREFIX)===0);let i=!0;return e&&(i=e.hasOwnProperty("throttleTime")),t&&i}function $2({environment:n,clientId:e}){return[oh,n,e].join(Fr.CACHE_KEY_SEPARATOR).toLowerCase()}function G2(n,e){return e?n.indexOf(oh)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function q2(n,e){return e?n.indexOf(rl.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function Jg(){return $n()+rl.REFRESH_TIME_SECONDS}function hl(n,e,t){n.authorization_endpoint=e.authorization_endpoint,n.token_endpoint=e.token_endpoint,n.end_session_endpoint=e.end_session_endpoint,n.issuer=e.issuer,n.endpointsFromNetwork=t,n.jwks_uri=e.jwks_uri}function nf(n,e,t){n.aliases=e.aliases,n.preferred_cache=e.preferred_cache,n.preferred_network=e.preferred_network,n.aliasesFromNetwork=t}function Xg(n){return n.expiresAt<=$n()}var si=class n{constructor(e,t,i,r,o,s,a,c){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=i,this.authorityOptions=r,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=a,this.correlationId=s,this.managedIdentity=c||!1,this.regionDiscovery=new wR(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(E.CIAM_AUTH_URL))return pn.Ciam;let t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case E.ADFS:return pn.Adfs;case E.DSTS:return pn.Dsts}return pn.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new ae(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw T(un)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw T(un)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw T(un)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw T(Ca);return this.replacePath(this.metadata.end_session_endpoint)}else throw T(un)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw T(un)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw T(un)}canReplaceTenant(e){return e.PathSegments.length===1&&!n.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===pn.Default&&this.protocolMode!==Qe.OIDC}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e,r=new ae(this.metadata.canonical_authority).getUrlComponents(),o=r.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((a,c)=>{let l=o[c];if(c===0&&this.canReplaceTenant(r)){let d=new ae(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];l!==d&&(this.logger.verbose(`Replacing tenant domain name ${l} with id ${d}`),l=d)}a!==l&&(t=t.replace(`/${l}/`,`/${a}/`))}),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){let e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===pn.Adfs||this.protocolMode===Qe.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(f.AuthorityResolveEndpointsAsync,this.correlationId);let e=this.getCurrentMetadataEntity(),t=await b(this.updateCloudDiscoveryMetadata.bind(this),f.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);let i=await b(this.updateEndpointMetadata.bind(this),f.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:i}),this.performanceClient?.addFields({cloudDiscoverySource:t,authorityEndpointSource:i},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:Jg(),jwks_uri:""}),e}updateCachedMetadata(e,t,i){t!==dn.CACHE&&i?.source!==dn.CACHE&&(e.expiresAt=Jg(),e.canonical_authority=this.canonicalAuthority);let r=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(r,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(f.AuthorityUpdateEndpointMetadata,this.correlationId);let t=this.updateEndpointMetadataFromLocalSources(e);if(t){if(t.source===dn.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&t.metadata){let r=await b(this.updateMetadataWithRegionalInformation.bind(this),f.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(t.metadata);hl(e,r,!1),e.canonical_authority=this.canonicalAuthority}return t.source}let i=await b(this.getEndpointMetadataFromNetwork.bind(this),f.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(i)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(i=await b(this.updateMetadataWithRegionalInformation.bind(this),f.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(i)),hl(e,i,!0),dn.NETWORK;throw T(la,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");let t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),hl(e,t,!1),{source:dn.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{let r=this.getEndpointMetadataFromHardcodedValues();if(r)return hl(e,r,!1),{source:dn.HARDCODED_VALUES,metadata:r};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}let i=Xg(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!i?(this.logger.verbose("Found endpoint metadata in the cache."),{source:dn.CACHE}):(i&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new ae(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw Ce(Ma)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(f.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);let e={},t=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${t}`);try{let i=await this.networkInterface.sendGetRequestAsync(t,e);return bR(i.body)?i.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(i){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${i}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in Dw?Dw[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(f.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);let t=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(t){if(t!==E.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=Lg.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=t,n.replaceWithRegionalInformation(e,t);let i=await b(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),f.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(i)return this.regionDiscoveryMetadata.region_outcome=Lg.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=i,n.replaceWithRegionalInformation(e,i);this.regionDiscoveryMetadata.region_outcome=Lg.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(f.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);let t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;let i=await b(this.getCloudDiscoveryMetadataFromNetwork.bind(this),f.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(i)return nf(e,i,!0),dn.NETWORK;throw Ce(Ra)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||E.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||E.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||E.NOT_APPLICABLE}`);let t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),nf(e,t,!1),dn.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{let r=vR(this.hostnameAndPort);if(r)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),nf(e,r,!1),dn.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}let i=Xg(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!i?(this.logger.verbose("Found cloud discovery metadata in the cache."),dn.CACHE):(i&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===pn.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");let e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),t=Bh(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),t)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),t;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),Ce($o)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(f.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);let e=`${E.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t={},i=null;try{let r=await this.networkInterface.sendGetRequestAsync(e,t),o,s;if(CR(r.body))o=r.body,s=o.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${o.tenant_discovery_endpoint}`);else if(ER(r.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${r.status}`),o=r.body,o.error===E.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${o.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${o.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),s=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),i=Bh(s,this.hostnameAndPort)}catch(r){if(r instanceof Z)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${r.errorCode}
Error Description: ${r.errorMessage}`);else{let o=r;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${o.name}
Error Description: ${o.message}`)}return null}return i||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),i=n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),i}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(t=>t&&ae.getDomainFromUrl(t).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,t){let i;if(t&&t.azureCloudInstance!==jo.None){let r=t.tenant?t.tenant:E.DEFAULT_COMMON_TENANT;i=`${t.azureCloudInstance}/${r}/`}return i||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return E.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw T(un)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return Mw.has(e)}static isPublicCloudAuthority(e){return E.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,i){let r=new ae(e);r.validateAsUri();let o=r.getUrlComponents(),s=`${t}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(s=`${t}.${E.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);let a=ae.constructAuthorityUriFromObject(M(g({},r.getUrlComponents()),{HostNameAndPort:s})).urlString;return i?`${a}?${i}`:a}static replaceWithRegionalInformation(e,t){let i=g({},e);return i.authorization_endpoint=n.buildRegionalAuthorityString(i.authorization_endpoint,t),i.token_endpoint=n.buildRegionalAuthorityString(i.token_endpoint,t),i.end_session_endpoint&&(i.end_session_endpoint=n.buildRegionalAuthorityString(i.end_session_endpoint,t)),i}static transformCIAMAuthority(e){let t=e,r=new ae(e).getUrlComponents();if(r.PathSegments.length===0&&r.HostNameAndPort.endsWith(E.CIAM_AUTH_URL)){let o=r.HostNameAndPort.split(".")[0];t=`${t}${o}${E.AAD_TENANT_DOMAIN_SUFFIX}`}return t}};si.reservedTenantDomains=new Set(["{tenant}","{tenantid}",Ai.COMMON,Ai.CONSUMERS,Ai.ORGANIZATIONS]);function IR(n){let i=new ae(n).getUrlComponents().PathSegments.slice(-1)[0]?.toLowerCase();switch(i){case Ai.COMMON:case Ai.ORGANIZATIONS:case Ai.CONSUMERS:return;default:return i}}function ev(n){return n.endsWith(E.FORWARD_SLASH)?n:`${n}${E.FORWARD_SLASH}`}function RI(n){let e=n.cloudDiscoveryMetadata,t;if(e)try{t=JSON.parse(e)}catch{throw Ce($o)}return{canonicalAuthority:n.authority?ev(n.authority):void 0,knownAuthorities:n.knownAuthorities,cloudDiscoveryMetadata:t}}async function kI(n,e,t,i,r,o,s){s?.addQueueMeasurement(f.AuthorityFactoryCreateDiscoveredInstance,o);let a=si.transformCIAMAuthority(ev(n)),c=new si(a,e,t,i,r,o,s);try{return await b(c.resolveEndpointsAsync.bind(c),f.AuthorityResolveEndpointsAsync,r,s,o)(),c}catch{throw T(un)}}var In=class n extends Z{constructor(e,t,i,r,o){super(e,t,i),this.name="ServerError",this.errorNo=r,this.status=o,Object.setPrototypeOf(this,n.prototype)}};function Yr(n,e,t){return{clientId:n,authority:e.authority,scopes:e.scopes,homeAccountIdentifier:t,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,embeddedClientId:e.embeddedClientId||e.tokenBodyParameters?.clientId}}var Qr=class n{static generateThrottlingStorageKey(e){return`${Lr.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,t,i){let r=n.generateThrottlingStorageKey(t),o=e.getThrottlingCache(r);if(o){if(o.throttleTime<Date.now()){e.removeItem(r,i);return}throw new In(o.errorCodes?.join(" ")||E.EMPTY_STRING,o.errorMessage,o.subError)}}static postProcess(e,t,i,r){if(n.checkResponseStatus(i)||n.checkResponseForRetryAfter(i)){let o={throttleTime:n.calculateThrottleTime(parseInt(i.headers[Ct.RETRY_AFTER])),error:i.body.error,errorCodes:i.body.error_codes,errorMessage:i.body.error_description,subError:i.body.suberror};e.setThrottlingCache(n.generateThrottlingStorageKey(t),o,r)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(Ct.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){let t=e<=0?0:e,i=Date.now()/1e3;return Math.floor(Math.min(i+(t||Lr.DEFAULT_THROTTLE_TIME_SECONDS),i+Lr.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,t,i,r){let o=Yr(t,i,r),s=this.generateThrottlingStorageKey(o);e.removeItem(s,i.correlationId)}};var fl=class n extends Z{constructor(e,t,i){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,n.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=i}};function ja(n,e,t,i){return n.errorMessage=`${n.errorMessage}, additionalErrorInfo: error.name:${i?.name}, error.message:${i?.message}`,new fl(n,e,t)}var Ko=class{constructor(e,t){this.config=yR(e),this.logger=new hn(this.config.loggerOptions,Hg,sl),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){let t={};if(t[Ct.CONTENT_TYPE]=E.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case en.HOME_ACCOUNT_ID:try{let i=rr(e.credential);t[Ct.CCS_HEADER]=`Oid:${i.uid}@${i.utid}`}catch(i){this.logger.verbose("Could not parse home account ID for CCS Header: "+i)}break;case en.UPN:t[Ct.CCS_HEADER]=`UPN: ${e.credential}`;break}return t}async executePostToTokenEndpoint(e,t,i,r,o,s){s&&this.performanceClient?.addQueueMeasurement(s,o);let a=await this.sendPostRequest(r,e,{body:t,headers:i},o);return this.config.serverTelemetryManager&&a.status<500&&a.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),a}async sendPostRequest(e,t,i,r){Qr.preProcess(this.cacheManager,e,r);let o;try{o=await b(this.networkClient.sendPostRequestAsync.bind(this.networkClient),f.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,r)(t,i);let s=o.headers||{};this.performanceClient?.addFields({refreshTokenSize:o.body.refresh_token?.length||0,httpVerToken:s[Ct.X_MS_HTTP_VERSION]||"",requestId:s[Ct.X_MS_REQUEST_ID]||""},r)}catch(s){if(s instanceof fl){let a=s.responseHeaders;throw a&&this.performanceClient?.addFields({httpVerToken:a[Ct.X_MS_HTTP_VERSION]||"",requestId:a[Ct.X_MS_REQUEST_ID]||"",contentTypeHeader:a[Ct.CONTENT_TYPE]||void 0,contentLengthHeader:a[Ct.CONTENT_LENGTH]||void 0,httpStatus:s.httpStatus},r),s.error}throw s instanceof Z?s:T(ca)}return Qr.postProcess(this.cacheManager,e,o,r),o}async updateAuthority(e,t){this.performanceClient?.addQueueMeasurement(f.UpdateTokenEndpointAuthority,t);let i=`https://${e}/${this.authority.tenant}/`,r=await kI(i,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=r}createTokenQueryParameters(e){let t=new Map;return e.embeddedClientId&&Kr(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&Wr(t,e.tokenQueryParameters),Ha(t,e.correlationId),Pa(t,e.correlationId,this.performanceClient),or(t)}};var cr={};yn(cr,{badToken:()=>Qo,consentRequired:()=>NI,interactionRequired:()=>OI,loginRequired:()=>PI,nativeAccountUnavailable:()=>rf,noTokensFound:()=>Yo,refreshTokenExpired:()=>of,uxNotAllowed:()=>nv});var Yo="no_tokens_found",rf="native_account_unavailable",of="refresh_token_expired",nv="ux_not_allowed",OI="interaction_required",NI="consent_required",PI="login_required",Qo="bad_token";var TR=[OI,NI,PI,Qo,nv],W2=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],iv={[Yo]:"No refresh token found in the cache. Please sign-in.",[rf]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[of]:"Refresh token has expired.",[Qo]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.",[nv]:"`canShowUI` flag in Edge was set to false. User interaction required on web page. Please invoke an interactive API to resolve."},SR={noTokensFoundError:{code:Yo,desc:iv[Yo]},native_account_unavailable:{code:rf,desc:iv[rf]},bad_token:{code:Qo,desc:iv[Qo]}},jt=class n extends Z{constructor(e,t,i,r,o,s,a,c){super(e,t,i),Object.setPrototypeOf(this,n.prototype),this.timestamp=r||E.EMPTY_STRING,this.traceId=o||E.EMPTY_STRING,this.correlationId=s||E.EMPTY_STRING,this.claims=a||E.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=c}};function rv(n,e,t){let i=!!n&&TR.indexOf(n)>-1,r=!!t&&W2.indexOf(t)>-1,o=!!e&&TR.some(s=>e.indexOf(s)>-1);return i||o||r}function za(n){return new jt(n,iv[n])}var xi=class n{static setRequestState(e,t,i){let r=n.generateLibraryState(e,i);return t?`${r}${E.RESOURCE_DELIM}${t}`:r}static generateLibraryState(e,t){if(!e)throw T(Ho);let i={id:e.createNewGuid()};t&&(i.meta=t);let r=JSON.stringify(i);return e.base64Encode(r)}static parseRequestState(e,t){if(!e)throw T(Ho);if(!t)throw T(Di);try{let i=t.split(E.RESOURCE_DELIM),r=i[0],o=i.length>1?i.slice(1).join(E.RESOURCE_DELIM):E.EMPTY_STRING,s=e.base64Decode(r),a=JSON.parse(s);return{userRequestState:o||E.EMPTY_STRING,libraryState:a}}catch{throw T(Di)}}};var K2={SW:"sw"},Tn=class{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){this.performanceClient?.addQueueMeasurement(f.PopTokenGenerateCnf,e.correlationId);let i=await b(this.generateKid.bind(this),f.PopTokenGenerateCnf,t,this.performanceClient,e.correlationId)(e),r=this.cryptoUtils.base64UrlEncode(JSON.stringify(i));return{kid:i.kid,reqCnfString:r}}async generateKid(e){return this.performanceClient?.addQueueMeasurement(f.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:K2.SW}}async signPopToken(e,t,i){return this.signPayload(e,t,i)}async signPayload(e,t,i,r){let{resourceRequestMethod:o,resourceRequestUri:s,shrClaims:a,shrNonce:c,shrOptions:l}=i,u=(s?new ae(s):void 0)?.getUrlComponents();return this.cryptoUtils.signJwt(g({at:e,ts:$n(),m:o?.toUpperCase(),u:u?.HostNameAndPort,nonce:c||this.cryptoUtils.createNewGuid(),p:u?.AbsolutePath,q:u?.QueryString?[[],u.QueryString]:void 0,client_claims:a||void 0},r),t,l,i.correlationId)}};var ov=class{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}};var Mi=class n{constructor(e,t,i,r,o,s,a){this.clientId=e,this.cacheStorage=t,this.cryptoObj=i,this.logger=r,this.serializableCache=o,this.persistencePlugin=s,this.performanceClient=a}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){let i=`Error(s): ${e.error_codes||E.NOT_AVAILABLE} - Timestamp: ${e.timestamp||E.NOT_AVAILABLE} - Description: ${e.error_description||E.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||E.NOT_AVAILABLE} - Trace ID: ${e.trace_id||E.NOT_AVAILABLE}`,r=e.error_codes?.length?e.error_codes[0]:void 0,o=new In(e.error,i,e.suberror,r,e.status);if(t&&e.status&&e.status>=Si.SERVER_ERROR_RANGE_START&&e.status<=Si.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${o}`);return}else if(t&&e.status&&e.status>=Si.CLIENT_ERROR_RANGE_START&&e.status<=Si.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${o}`);return}throw rv(e.error,e.error_description,e.suberror)?new jt(e.error,e.error_description,e.suberror,e.timestamp||E.EMPTY_STRING,e.trace_id||E.EMPTY_STRING,e.correlation_id||E.EMPTY_STRING,e.claims||E.EMPTY_STRING,r):o}}async handleServerTokenResponse(e,t,i,r,o,s,a,c,l){this.performanceClient?.addQueueMeasurement(f.HandleServerTokenResponse,e.correlation_id);let d;if(e.id_token){if(d=zr(e.id_token||E.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&d.nonce!==o.nonce)throw T(ha);if(r.maxAge||r.maxAge===0){let C=d.auth_time;if(!C)throw T(Br);Lh(C,r.maxAge)}}this.homeAccountIdentifier=He.generateHomeAccountId(e.client_info||E.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,d);let u;o&&o.state&&(u=xi.parseRequestState(this.cryptoObj,o.state)),e.key_id=e.key_id||r.sshKid||void 0;let p=this.generateCacheRecord(e,t,i,r,d,s,o),m;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),m=new ov(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(m)),a&&!c&&p.account){let C=this.cacheStorage.generateAccountKey(He.getAccountInfo(p.account));if(!this.cacheStorage.getAccount(C,r.correlationId))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await n.generateAuthenticationResult(this.cryptoObj,t,p,!1,r,d,u,void 0,l)}await this.cacheStorage.saveCacheRecord(p,r.correlationId,Sw(d||{}),r.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&m&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(m))}return n.generateAuthenticationResult(this.cryptoObj,t,p,!1,r,d,u,e,l)}generateCacheRecord(e,t,i,r,o,s,a){let c=t.getPreferredCache();if(!c)throw T(Hr);let l=Oa(o),d,u;e.id_token&&o&&(d=DI(this.homeAccountIdentifier,c,e.id_token,this.clientId,l||""),u=pl(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,r.correlationId,o,e.client_info,c,l,a,void 0,this.logger));let p=null;if(e.access_token){let I=e.scope?it.fromString(e.scope):new it(r.scopes||[]),D=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,R=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,q=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,ke=i+D,ze=ke+R,Dn=q&&q>0?i+q:void 0;p=xI(this.homeAccountIdentifier,c,e.access_token,this.clientId,l||t.tenant||"",I.printScopes(),ke,ze,this.cryptoObj.base64Decode,Dn,e.token_type,s,e.key_id,r.claims,r.requestedClaimsHash)}let m=null;if(e.refresh_token){let I;if(e.refresh_token_expires_in){let D=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;I=i+D}m=MI(this.homeAccountIdentifier,c,e.refresh_token,this.clientId,e.foci,s,I)}let C=null;return e.foci&&(C={clientId:this.clientId,environment:c,familyId:e.foci}),{account:u,idToken:d,accessToken:p,refreshToken:m,appMetadata:C}}static async generateAuthenticationResult(e,t,i,r,o,s,a,c,l){let d=E.EMPTY_STRING,u=[],p=null,m,C,I=E.EMPTY_STRING;if(i.accessToken){if(i.accessToken.tokenType===fe.POP&&!o.popKid){let ke=new Tn(e),{secret:ze,keyId:Dn}=i.accessToken;if(!Dn)throw T(Ea);d=await ke.signPopToken(ze,Dn,o)}else d=i.accessToken.secret;u=it.fromString(i.accessToken.target).asArray(),p=tf(i.accessToken.expiresOn),m=tf(i.accessToken.extendedExpiresOn),i.accessToken.refreshOn&&(C=tf(i.accessToken.refreshOn))}i.appMetadata&&(I=i.appMetadata.familyId===ra?ra:"");let D=s?.oid||s?.sub||"",R=s?.tid||"";c?.spa_accountid&&i.account&&(i.account.nativeAccountId=c?.spa_accountid);let q=i.account?ka(He.getAccountInfo(i.account),void 0,s,i.idToken?.secret):null;return{authority:t.canonicalAuthority,uniqueId:D,tenantId:R,scopes:u,account:q,idToken:i?.idToken?.secret||"",idTokenClaims:s||{},accessToken:d,fromCache:r,expiresOn:p,extExpiresOn:m,refreshOn:C,correlationId:o.correlationId,requestId:l||E.EMPTY_STRING,familyId:I,tokenType:i.accessToken?.tokenType||E.EMPTY_STRING,state:a?a.userRequestState:E.EMPTY_STRING,cloudGraphHostName:i.account?.cloudGraphHostName||E.EMPTY_STRING,msGraphHost:i.account?.msGraphHost||E.EMPTY_STRING,code:c?.spa_code,fromNativeBroker:!1}}};function pl(n,e,t,i,r,o,s,a,c,l,d,u){u?.verbose("setCachedAccount called");let m=n.getAccountKeys().find(q=>q.startsWith(t)),C=null;m&&(C=n.getAccount(m,r));let I=C||He.createAccount({homeAccountId:t,idTokenClaims:o,clientInfo:s,environment:a,cloudGraphHostName:l?.cloud_graph_host_name,msGraphHost:l?.msgraph_host,nativeAccountId:d},e,i),D=I.tenantProfiles||[],R=c||I.realm;if(R&&!D.find(q=>q.tenantId===R)){let q=Go(t,I.localAccountId,R,o);D.push(q)}return I.tenantProfiles=D,I}async function sv(n,e,t){return typeof n=="string"?n:n({clientId:e,tokenEndpoint:t})}var $a=class extends Ko{constructor(e,t){super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async acquireToken(e,t){if(this.performanceClient?.addQueueMeasurement(f.AuthClientAcquireToken,e.correlationId),!e.code)throw T(ma);let i=$n(),r=await b(this.executeTokenRequest.bind(this),f.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),o=r.headers?.[Ct.X_MS_REQUEST_ID],s=new Mi(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return s.validateTokenResponse(r.body),b(s.handleServerTokenResponse.bind(s),f.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,i,e,t,void 0,void 0,void 0,o)}getLogoutUri(e){if(!e)throw Ce(Da);let t=this.createLogoutUrlQueryString(e);return ae.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(f.AuthClientExecuteTokenRequest,t.correlationId);let i=this.createTokenQueryParameters(t),r=ae.appendQueryString(e.tokenEndpoint,i),o=await b(this.createTokenRequestBody.bind(this),f.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,t.correlationId)(t),s;if(t.clientInfo)try{let l=al(t.clientInfo,this.cryptoUtils.base64Decode);s={credential:`${l.uid}${Fr.CLIENT_INFO_SEPARATOR}${l.utid}`,type:en.HOME_ACCOUNT_ID}}catch(l){this.logger.verbose("Could not parse client info for CCS Header: "+l)}let a=this.createTokenRequestHeaders(s||t.ccsCredential),c=Yr(this.config.authOptions.clientId,t);return b(this.executePostToTokenEndpoint.bind(this),f.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,t.correlationId)(r,o,a,c,t.correlationId,f.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(f.AuthClientCreateTokenRequestBody,e.correlationId);let t=new Map;if(La(t,e.embeddedClientId||e.tokenBodyParameters?.[ar]||this.config.authOptions.clientId),this.includeRedirectUri)Ba(t,e.redirectUri);else if(!e.redirectUri)throw Ce(wa);if(Fa(t,e.scopes,!0,this.oidcDefaultScopes),wI(t,e.code),zh(t,this.config.libraryInfo),$h(t,this.config.telemetry.application),ef(t),this.serverTelemetryManager&&!$g(this.config)&&Xh(t,this.serverTelemetryManager),e.codeVerifier&&TI(t,e.codeVerifier),this.config.clientCredentials.clientSecret&&qh(t,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let r=this.config.clientCredentials.clientAssertion;Wh(t,await sv(r.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),Kh(t,r.assertionType)}if(Yh(t,rh.AUTHORIZATION_CODE_GRANT),Va(t),e.authenticationScheme===fe.POP){let r=new Tn(this.cryptoUtils,this.performanceClient),o;e.popKid?o=this.cryptoUtils.encodeKid(e.popKid):o=(await b(r.generateCnf.bind(r),f.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,Zh(t,o)}else if(e.authenticationScheme===fe.SSH)if(e.sshJwk)Jh(t,e.sshJwk);else throw Ce(jr);(!Ke.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Ua(t,e.claims,this.config.authOptions.clientCapabilities);let i;if(e.clientInfo)try{let r=al(e.clientInfo,this.cryptoUtils.base64Decode);i={credential:`${r.uid}${Fr.CLIENT_INFO_SEPARATOR}${r.utid}`,type:en.HOME_ACCOUNT_ID}}catch(r){this.logger.verbose("Could not parse client info for CCS Header: "+r)}else i=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&i)switch(i.type){case en.HOME_ACCOUNT_ID:try{let r=rr(i.credential);qr(t,r)}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case en.UPN:Wo(t,i.credential);break}return e.embeddedClientId&&Kr(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Wr(t,e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[Kg])&&Wr(t,{[Kg]:"1"}),Pa(t,e.correlationId,this.performanceClient),or(t)}createLogoutUrlQueryString(e){let t=new Map;return e.postLogoutRedirectUri&&yI(t,e.postLogoutRedirectUri),e.correlationId&&Ha(t,e.correlationId),e.idTokenHint&&_I(t,e.idTokenHint),e.state&&Gh(t,e.state),e.logoutHint&&SI(t,e.logoutHint),e.extraQueryParameters&&Wr(t,e.extraQueryParameters),this.config.authOptions.instanceAware&&Qh(t),or(t,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}};var Y2=300,sf=class extends Ko{constructor(e,t){super(e,t)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(f.RefreshTokenClientAcquireToken,e.correlationId);let t=$n(),i=await b(this.executeTokenRequest.bind(this),f.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),r=i.headers?.[Ct.X_MS_REQUEST_ID],o=new Mi(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(i.body),b(o.handleServerTokenResponse.bind(o),f.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(i.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,r)}async acquireTokenByRefreshToken(e){if(!e)throw Ce(Aa);if(this.performanceClient?.addQueueMeasurement(f.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw T(Ur);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await b(this.acquireTokenWithCachedRefreshToken.bind(this),f.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(i){let r=i instanceof jt&&i.errorCode===Yo,o=i instanceof In&&i.errorCode===Pg.INVALID_GRANT_ERROR&&i.subError===Pg.CLIENT_MISMATCH_ERROR;if(r||o)return b(this.acquireTokenWithCachedRefreshToken.bind(this),f.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw i}return b(this.acquireTokenWithCachedRefreshToken.bind(this),f.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){this.performanceClient?.addQueueMeasurement(f.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);let i=rt(this.cacheManager.getRefreshToken.bind(this.cacheManager),f.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,t,e.correlationId,void 0,this.performanceClient);if(!i)throw za(Yo);if(i.expiresOn&&ul(i.expiresOn,e.refreshTokenExpirationOffsetSeconds||Y2))throw this.performanceClient?.addFields({rtExpiresOnMs:Number(i.expiresOn)},e.correlationId),za(of);let r=M(g({},e),{refreshToken:i.secret,authenticationScheme:e.authenticationScheme||fe.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:en.HOME_ACCOUNT_ID}});try{return await b(this.acquireToken.bind(this),f.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(r)}catch(o){if(o instanceof jt&&(this.performanceClient?.addFields({rtExpiresOnMs:Number(i.expiresOn)},e.correlationId),o.subError===Qo)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");let s=this.cacheManager.generateCredentialKey(i);this.cacheManager.removeRefreshToken(s,e.correlationId)}throw o}}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(f.RefreshTokenClientExecuteTokenRequest,e.correlationId);let i=this.createTokenQueryParameters(e),r=ae.appendQueryString(t.tokenEndpoint,i),o=await b(this.createTokenRequestBody.bind(this),f.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),s=this.createTokenRequestHeaders(e.ccsCredential),a=Yr(this.config.authOptions.clientId,e);return b(this.executePostToTokenEndpoint.bind(this),f.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(r,o,s,a,e.correlationId,f.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(f.RefreshTokenClientCreateTokenRequestBody,e.correlationId);let t=new Map;if(La(t,e.embeddedClientId||e.tokenBodyParameters?.[ar]||this.config.authOptions.clientId),e.redirectUri&&Ba(t,e.redirectUri),Fa(t,e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),Yh(t,rh.REFRESH_TOKEN_GRANT),Va(t),zh(t,this.config.libraryInfo),$h(t,this.config.telemetry.application),ef(t),this.serverTelemetryManager&&!$g(this.config)&&Xh(t,this.serverTelemetryManager),II(t,e.refreshToken),this.config.clientCredentials.clientSecret&&qh(t,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let i=this.config.clientCredentials.clientAssertion;Wh(t,await sv(i.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),Kh(t,i.assertionType)}if(e.authenticationScheme===fe.POP){let i=new Tn(this.cryptoUtils,this.performanceClient),r;e.popKid?r=this.cryptoUtils.encodeKid(e.popKid):r=(await b(i.generateCnf.bind(i),f.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,Zh(t,r)}else if(e.authenticationScheme===fe.SSH)if(e.sshJwk)Jh(t,e.sshJwk);else throw Ce(jr);if((!Ke.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Ua(t,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case en.HOME_ACCOUNT_ID:try{let i=rr(e.ccsCredential.credential);qr(t,i)}catch(i){this.logger.verbose("Could not parse home account ID for CCS Header: "+i)}break;case en.UPN:Wo(t,e.ccsCredential.credential);break}return e.embeddedClientId&&Kr(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Wr(t,e.tokenBodyParameters),Pa(t,e.correlationId,this.performanceClient),or(t)}};var af=class extends Ko{constructor(e,t){super(e,t)}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(f.SilentFlowClientAcquireCachedToken,e.correlationId);let t=nr.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!Ke.isEmptyObj(e.claims))throw this.setCacheOutcome(nr.FORCE_REFRESH_OR_CLAIMS,e.correlationId),T(Vr);if(!e.account)throw T(Ur);let i=e.account.tenantId||IR(e.authority),r=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(e.account,e,r,i);if(o){if(AI(o.cachedAt)||ul(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(nr.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),T(Vr);o.refreshOn&&ul(o.refreshOn,0)&&(t=nr.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(nr.NO_CACHED_ACCESS_TOKEN,e.correlationId),T(Vr);let s=e.authority||this.authority.getPreferredCache(),a={account:this.cacheManager.getAccount(this.cacheManager.generateAccountKey(e.account),e.correlationId),accessToken:o,idToken:this.cacheManager.getIdToken(e.account,e.correlationId,r,i,this.performanceClient),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await b(this.generateResultFromCacheRecord.bind(this),f.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(a,e),t]}setCacheOutcome(e,t){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},t),e!==nr.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,t){this.performanceClient?.addQueueMeasurement(f.SilentFlowClientGenerateResultFromCacheRecord,t.correlationId);let i;if(e.idToken&&(i=zr(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||t.maxAge===0){let r=i?.auth_time;if(!r)throw T(Br);Lh(r,t.maxAge)}return Mi.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,i)}};var FI={sendGetRequestAsync:()=>Promise.reject(T(se)),sendPostRequestAsync:()=>Promise.reject(T(se))};var lr={};yn(lr,{getAuthorizationCodePayload:()=>J2,getAuthorizeUrl:()=>Z2,getStandardAuthorizeRequestParameters:()=>Q2,validateAuthorizationResponse:()=>AR});function Q2(n,e,t,i){let r=e.correlationId,o=new Map;La(o,e.embeddedClientId||e.extraQueryParameters?.[ar]||n.clientId);let s=[...e.scopes||[],...e.extraScopesToConsent||[]];if(Fa(o,s,!0,n.authority.options.OIDCOptions?.defaultScopes),Ba(o,e.redirectUri),Ha(o,r),vI(o,e.responseMode),Va(o),e.prompt&&(CI(o,e.prompt),i?.addFields({prompt:e.prompt},r)),e.domainHint&&(bI(o,e.domainHint),i?.addFields({domainHintFromRequest:!0},r)),e.prompt!==nt.SELECT_ACCOUNT)if(e.sid&&e.prompt===nt.NONE)t.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),Qg(o,e.sid),i?.addFields({sidFromRequest:!0},r);else if(e.account){let a=ez(e.account),c=tz(e.account);if(c&&e.domainHint&&(t.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),c=null),c){t.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),dl(o,c),i?.addFields({loginHintFromClaim:!0},r);try{let l=rr(e.account.homeAccountId);qr(o,l)}catch{t.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(a&&e.prompt===nt.NONE){t.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),Qg(o,a),i?.addFields({sidFromClaim:!0},r);try{let l=rr(e.account.homeAccountId);qr(o,l)}catch{t.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)t.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),dl(o,e.loginHint),Wo(o,e.loginHint),i?.addFields({loginHintFromRequest:!0},r);else if(e.account.username){t.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),dl(o,e.account.username),i?.addFields({loginHintFromUpn:!0},r);try{let l=rr(e.account.homeAccountId);qr(o,l)}catch{t.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(t.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),dl(o,e.loginHint),Wo(o,e.loginHint),i?.addFields({loginHintFromRequest:!0},r));else t.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&EI(o,e.nonce),e.state&&Gh(o,e.state),(e.claims||n.clientCapabilities&&n.clientCapabilities.length>0)&&Ua(o,e.claims,n.clientCapabilities),e.embeddedClientId&&Kr(o,n.clientId,n.redirectUri),n.instanceAware&&(!e.extraQueryParameters||!Object.keys(e.extraQueryParameters).includes(ll))&&Qh(o),o}function Z2(n,e,t,i){let r=or(e,t,i);return ae.appendQueryString(n.authorizationEndpoint,r)}function J2(n,e){if(AR(n,e),!n.code)throw T(ba);return n}function AR(n,e){if(!n.state||!e)throw n.state?T(Bo,"Cached State"):T(Bo,"Server State");let t,i;try{t=decodeURIComponent(n.state)}catch{throw T(Di,n.state)}try{i=decodeURIComponent(e)}catch{throw T(Di,n.state)}if(t!==i)throw T(ua);if(n.error||n.error_description||n.suberror){let r=X2(n);throw rv(n.error,n.error_description,n.suberror)?new jt(n.error||"",n.error_description,n.suberror,n.timestamp||"",n.trace_id||"",n.correlation_id||"",n.claims||"",r):new In(n.error||"",n.error_description,n.suberror,r)}}function X2(n){let e="code=",t=n.error_uri?.lastIndexOf(e);return t&&t>=0?n.error_uri?.substring(t+e.length):void 0}function ez(n){return n.idTokenClaims?.sid||null}function tz(n){return n.loginHint||n.idTokenClaims?.login_hint||null}var DR=",",xR="|";function nz(n){let{skus:e,libraryName:t,libraryVersion:i,extensionName:r,extensionVersion:o}=n,s=new Map([[0,[t,i]],[2,[r,o]]]),a=[];if(e?.length){if(a=e.split(DR),a.length<4)return e}else a=Array.from({length:4},()=>xR);return s.forEach((c,l)=>{c.length===2&&c[0]?.length&&c[1]?.length&&iz({skuArr:a,index:l,skuName:c[0],skuVersion:c[1]})}),a.join(DR)}function iz(n){let{skuArr:e,index:t,skuName:i,skuVersion:r}=n;t>=e.length||(e[t]=[i,r].join(xR))}var Ga=class n{constructor(e,t){this.cacheOutcome=nr.NOT_APPLICABLE,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||E.EMPTY_STRING,this.wrapperVer=e.wrapperVer||E.EMPTY_STRING,this.telemetryCacheKey=Pt.CACHE_KEY+Fr.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){let e=`${this.apiId}${Pt.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],i=this.getNativeBrokerErrorCode();i?.length&&t.push(`broker_error=${i}`);let r=t.join(Pt.VALUE_SEPARATOR),o=this.getRegionDiscoveryFields(),s=[e,o].join(Pt.VALUE_SEPARATOR);return[Pt.SCHEMA_VERSION,s,r].join(Pt.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){let e=this.getLastRequests(),t=n.maxErrorsToSend(e),i=e.failedRequests.slice(0,2*t).join(Pt.VALUE_SEPARATOR),r=e.errors.slice(0,t).join(Pt.VALUE_SEPARATOR),o=e.errors.length,s=t<o?Pt.OVERFLOW_TRUE:Pt.OVERFLOW_FALSE,a=[o,s].join(Pt.VALUE_SEPARATOR);return[Pt.SCHEMA_VERSION,e.cacheHits,i,r,a].join(Pt.CATEGORY_SEPARATOR)}cacheFailedRequest(e){let t=this.getLastRequests();t.errors.length>=Pt.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof Z?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(Pt.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId)}incrementCacheHits(){let e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId),e.cacheHits}getLastRequests(){let e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){let e=this.getLastRequests(),t=n.maxErrorsToSend(e),i=e.errors.length;if(t===i)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{let r={failedRequests:e.failedRequests.slice(t*2),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r,this.correlationId)}}static maxErrorsToSend(e){let t,i=0,r=0,o=e.errors.length;for(t=0;t<o;t++){let s=e.failedRequests[2*t]||E.EMPTY_STRING,a=e.failedRequests[2*t+1]||E.EMPTY_STRING,c=e.errors[t]||E.EMPTY_STRING;if(r+=s.toString().length+a.toString().length+c.length+3,r<Pt.MAX_LAST_HEADER_BYTES)i+=1;else break}return i}getRegionDiscoveryFields(){let e=[];return e.push(this.regionUsed||E.EMPTY_STRING),e.push(this.regionSource||E.EMPTY_STRING),e.push(this.regionOutcome||E.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){let t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){let e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}static makeExtraSkuString(e){return nz(e)}};var av="missing_kid_error",cv="missing_alg_error";var rz={[av]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[cv]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."},LI=class n extends Z{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,n.prototype)}};function BI(n){return new LI(n,rz[n])}var cf=class n{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw BI(av);if(!e.alg)throw BI(cv);let t=new n({typ:e.typ||Bg.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(t)}};var qa="pkce_not_created",lf="ear_jwk_empty",lv="ear_jwe_empty",Wa="crypto_nonexistent",dr="empty_navigate_uri",ml="hash_empty_error",Zo="no_state_in_hash",gl="hash_does_not_contain_known_properties",vl="unable_to_parse_state",yl="state_interaction_type_mismatch",_l="interaction_in_progress",bl="popup_window_error",Cl="empty_window_error",Ri="user_cancelled",dv="monitor_popup_timeout",El="monitor_window_timeout",wl="redirect_in_iframe",Il="block_iframe_reload",Tl="block_nested_popups",uv="iframe_closed_prematurely",ur="silent_logout_unsupported",Sl="no_account_error",hv="silent_prompt_value_error",Al="no_token_request_cache_error",Dl="unable_to_parse_token_request_cache_error",fv="auth_request_not_set_error",pv="invalid_cache_type",hr="non_browser_environment",fr="database_not_open",Zr="no_network_connectivity",xl="post_request_failed",Ml="get_request_failed",Ka="failed_to_parse_response",Rl="unable_to_load_token",Jo="crypto_key_not_found",kl="auth_code_required",Ol="auth_code_or_nativeAccountId_required",Nl="spa_code_and_nativeAccountId_present",Xo="database_unavailable",Pl="unable_to_acquire_token_from_native_platform",Fl="native_handshake_timeout",Ll="native_extension_not_installed",es="native_connection_not_established",pr="uninitialized_public_client_application",Bl="native_prompt_not_supported",Ul="invalid_base64_string",Hl="invalid_pop_token_request",mv="failed_to_build_headers",gv="failed_to_parse_headers",Vl="failed_to_decrypt_ear_response",Ya="timed_out";var Jr="For more visit: aka.ms/msaljs/browser-errors",ne={[qa]:"The PKCE code challenge and verifier could not be generated.",[lf]:"No EAR encryption key provided. This is unexpected.",[lv]:"Server response does not contain ear_jwe property. This is unexpected.",[Wa]:"The crypto object or function is not available.",[dr]:"Navigation URI is empty. Please check stack trace for more info.",[ml]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Jr}`,[Zo]:"Hash does not contain state. Please verify that the request originated from msal.",[gl]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Jr}`,[vl]:"Unable to parse state. Please verify that the request originated from msal.",[yl]:"Hash contains state but the interaction type does not match the caller.",[_l]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Jr}`,[bl]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[Cl]:"window.open returned null or undefined window object.",[Ri]:"User cancelled the flow.",[dv]:`Token acquisition in popup failed due to timeout.  ${Jr}`,[El]:`Token acquisition in iframe failed due to timeout.  ${Jr}`,[wl]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[Il]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Jr}`,[Tl]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[uv]:"The iframe being monitored was closed prematurely.",[ur]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[Sl]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[hv]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[Al]:"No token request found in cache.",[Dl]:"The cached token request could not be parsed.",[fv]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[pv]:"Invalid cache type",[hr]:"Login and token requests are not supported in non-browser environments.",[fr]:"Database is not open!",[Zr]:"No network connectivity. Check your internet connection.",[xl]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[Ml]:"Network request failed. Please check the network trace to determine root cause.",[Ka]:"Failed to parse network response. Check network trace.",[Rl]:"Error loading token to cache.",[Jo]:"Cryptographic Key or Keypair not found in browser storage.",[kl]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[Ol]:"An authorization code or nativeAccountId must be provided to this flow.",[Nl]:"Request cannot contain both spa code and native account id.",[Xo]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[Pl]:`Unable to acquire token from native platform.  ${Jr}`,[Fl]:"Timed out while attempting to establish connection to browser extension",[Ll]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[es]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Jr}`,[pr]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Jr}`,[Bl]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[Ul]:"Invalid base64 encoded string.",[Hl]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[mv]:"Failed to build request headers object.",[gv]:"Failed to parse response headers",[Vl]:"Failed to decrypt ear response",[Ya]:"The request timed out."},Jle={pkceNotGenerated:{code:qa,desc:ne[qa]},cryptoDoesNotExist:{code:Wa,desc:ne[Wa]},emptyNavigateUriError:{code:dr,desc:ne[dr]},hashEmptyError:{code:ml,desc:ne[ml]},hashDoesNotContainStateError:{code:Zo,desc:ne[Zo]},hashDoesNotContainKnownPropertiesError:{code:gl,desc:ne[gl]},unableToParseStateError:{code:vl,desc:ne[vl]},stateInteractionTypeMismatchError:{code:yl,desc:ne[yl]},interactionInProgress:{code:_l,desc:ne[_l]},popupWindowError:{code:bl,desc:ne[bl]},emptyWindowError:{code:Cl,desc:ne[Cl]},userCancelledError:{code:Ri,desc:ne[Ri]},monitorPopupTimeoutError:{code:dv,desc:ne[dv]},monitorIframeTimeoutError:{code:El,desc:ne[El]},redirectInIframeError:{code:wl,desc:ne[wl]},blockTokenRequestsInHiddenIframeError:{code:Il,desc:ne[Il]},blockAcquireTokenInPopupsError:{code:Tl,desc:ne[Tl]},iframeClosedPrematurelyError:{code:uv,desc:ne[uv]},silentLogoutUnsupportedError:{code:ur,desc:ne[ur]},noAccountError:{code:Sl,desc:ne[Sl]},silentPromptValueError:{code:hv,desc:ne[hv]},noTokenRequestCacheError:{code:Al,desc:ne[Al]},unableToParseTokenRequestCacheError:{code:Dl,desc:ne[Dl]},authRequestNotSet:{code:fv,desc:ne[fv]},invalidCacheType:{code:pv,desc:ne[pv]},notInBrowserEnvironment:{code:hr,desc:ne[hr]},databaseNotOpen:{code:fr,desc:ne[fr]},noNetworkConnectivity:{code:Zr,desc:ne[Zr]},postRequestFailed:{code:xl,desc:ne[xl]},getRequestFailed:{code:Ml,desc:ne[Ml]},failedToParseNetworkResponse:{code:Ka,desc:ne[Ka]},unableToLoadTokenError:{code:Rl,desc:ne[Rl]},signingKeyNotFoundInStorage:{code:Jo,desc:ne[Jo]},authCodeRequired:{code:kl,desc:ne[kl]},authCodeOrNativeAccountRequired:{code:Ol,desc:ne[Ol]},spaCodeAndNativeAccountPresent:{code:Nl,desc:ne[Nl]},databaseUnavailable:{code:Xo,desc:ne[Xo]},unableToAcquireTokenFromNativePlatform:{code:Pl,desc:ne[Pl]},nativeHandshakeTimeout:{code:Fl,desc:ne[Fl]},nativeExtensionNotInstalled:{code:Ll,desc:ne[Ll]},nativeConnectionNotEstablished:{code:es,desc:ne[es]},uninitializedPublicClientApplication:{code:pr,desc:ne[pr]},nativePromptNotSupported:{code:Bl,desc:ne[Bl]},invalidBase64StringError:{code:Ul,desc:ne[Ul]},invalidPopTokenRequest:{code:Hl,desc:ne[Hl]}},Qa=class n extends Z{constructor(e,t){super(e,ne[e],t),Object.setPrototypeOf(this,n.prototype),this.name="BrowserAuthError"}};function x(n,e){return new Qa(n,e)}var st={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},mn={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS",MICROSOFT_ENTRA_BROKERID:"MicrosoftEntra",DOM_API_NAME:"DOM API",PLATFORM_DOM_APIS:"get-token-and-sign-out",PLATFORM_DOM_PROVIDER:"PlatformAuthDOMHandler",PLATFORM_EXTENSION_PROVIDER:"PlatformAuthExtensionHandler"},jl={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},je={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},UI={GET:"GET",POST:"POST"},ki={SIGNIN:"signin",SIGNOUT:"signout"},at={ORIGIN_URI:"request.origin",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",VERIFIER:"code.verifier",INTERACTION_STATUS_KEY:"interaction.status",NATIVE_REQUEST:"request.native"},df={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},Ee={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962},L=(function(n){return n.Redirect="redirect",n.Popup="popup",n.Silent="silent",n.None="none",n})(L||{}),ht={Startup:"startup",Login:"login",Logout:"logout",AcquireToken:"acquireToken",SsoSilent:"ssoSilent",HandleRedirect:"handleRedirect",None:"none"},HI={scopes:zn},VI="jwk",jI={React:"@azure/msal-react",Angular:"@azure/msal-angular"},vv="msal.db",MR=1,RR=`${vv}.keys`,zt={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},kR=[zt.Default,zt.Skip,zt.RefreshTokenAndNetwork];function uf(n){return encodeURIComponent(ts(n).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function ai(n){return OR(n).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ts(n){return OR(new TextEncoder().encode(n))}function OR(n){let e=Array.from(n,t=>String.fromCodePoint(t)).join("");return btoa(e)}function xt(n){return new TextDecoder().decode(mr(n))}function mr(n){let e=n.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw x(Ul)}let t=atob(e);return Uint8Array.from(t,i=>i.codePointAt(0)||0)}var oz="RSASSA-PKCS1-v1_5",zl="AES-GCM",FR="HKDF",$I="SHA-256",sz=2048,az=new Uint8Array([1,0,1]),NR="0123456789abcdef",PR=new Uint32Array(1),GI="raw",LR="encrypt",qI="decrypt",cz="deriveKey",lz="crypto_subtle_undefined",WI={name:oz,hash:$I,modulusLength:sz,publicExponent:az};function BR(n){if(!window)throw x(hr);if(!window.crypto)throw x(Wa);if(!n&&!window.crypto.subtle)throw x(Wa,lz)}async function KI(n,e,t){e?.addQueueMeasurement(f.Sha256Digest,t);let r=new TextEncoder().encode(n);return window.crypto.subtle.digest($I,r)}function UR(n){return window.crypto.getRandomValues(n)}function zI(){return window.crypto.getRandomValues(PR),PR[0]}function Lt(){let n=Date.now(),e=zI()*1024+(zI()&1023),t=new Uint8Array(16),i=Math.trunc(e/2**30),r=e&2**30-1,o=zI();t[0]=n/2**40,t[1]=n/2**32,t[2]=n/2**24,t[3]=n/2**16,t[4]=n/2**8,t[5]=n,t[6]=112|i>>>8,t[7]=i,t[8]=128|r>>>24,t[9]=r>>>16,t[10]=r>>>8,t[11]=r,t[12]=o>>>24,t[13]=o>>>16,t[14]=o>>>8,t[15]=o;let s="";for(let a=0;a<t.length;a++)s+=NR.charAt(t[a]>>>4),s+=NR.charAt(t[a]&15),(a===3||a===5||a===7||a===9)&&(s+="-");return s}async function HR(n,e){return window.crypto.subtle.generateKey(WI,n,e)}async function yv(n){return window.crypto.subtle.exportKey(VI,n)}async function VR(n,e,t){return window.crypto.subtle.importKey(VI,n,WI,e,t)}async function jR(n,e){return window.crypto.subtle.sign(WI,n,e)}async function $l(){let n=await YI(),t={alg:"dir",kty:"oct",k:ai(new Uint8Array(n))};return ts(JSON.stringify(t))}async function dz(n){let e=xt(n),i=JSON.parse(e).k,r=mr(i);return window.crypto.subtle.importKey(GI,r,zl,!1,[qI])}async function zR(n,e){let t=e.split(".");if(t.length!==5)throw x(Vl,"jwe_length");let i=await dz(n).catch(()=>{throw x(Vl,"import_key")});try{let r=new TextEncoder().encode(t[0]),o=mr(t[2]),s=mr(t[3]),a=mr(t[4]),c=a.byteLength*8,l=new Uint8Array(s.length+a.length);l.set(s),l.set(a,s.length);let d=await window.crypto.subtle.decrypt({name:zl,iv:o,tagLength:c,additionalData:r},i,l);return new TextDecoder().decode(d)}catch{throw x(Vl,"decrypt")}}async function YI(){let n=await window.crypto.subtle.generateKey({name:zl,length:256},!0,[LR,qI]);return window.crypto.subtle.exportKey(GI,n)}async function QI(n){return window.crypto.subtle.importKey(GI,n,FR,!1,[cz])}async function $R(n,e,t){return window.crypto.subtle.deriveKey({name:FR,salt:e,hash:$I,info:new TextEncoder().encode(t)},n,{name:zl,length:256},!1,[LR,qI])}async function GR(n,e,t){let i=new TextEncoder().encode(e),r=window.crypto.getRandomValues(new Uint8Array(16)),o=await $R(n,r,t),s=await window.crypto.subtle.encrypt({name:zl,iv:new Uint8Array(12)},o,i);return{data:ai(new Uint8Array(s)),nonce:ai(r)}}async function ZI(n,e,t,i){let r=mr(i),o=await $R(n,mr(e),t),s=await window.crypto.subtle.decrypt({name:zl,iv:new Uint8Array(12)},o,r);return new TextDecoder().decode(s)}async function _v(n){let e=await KI(n),t=new Uint8Array(e);return ai(t)}var ns="storage_not_supported",bv="stubbed_public_client_application_called",Gl="in_mem_redirect_unavailable";var Cv={[ns]:"Given storage configuration option was not supported.",[bv]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[Gl]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."},uz={storageNotSupportedError:{code:ns,desc:Cv[ns]},stubPcaInstanceCalled:{code:bv,desc:Cv[bv]},inMemRedirectUnavailable:{code:Gl,desc:Cv[Gl]}},ql=class n extends Z{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,n.prototype)}};function Wl(n){return new ql(n,Cv[n])}function hf(n){n.location.hash="",typeof n.history.replaceState=="function"&&n.history.replaceState(null,"",`${n.location.origin}${n.location.pathname}${n.location.search}`)}function JI(n){let e=n.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function ff(){return window.parent!==window}function qR(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${st.POPUP_NAME_PREFIX}.`)===0}function gn(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function XI(){let e=new ae(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function WR(){if(ae.hashContainsKnownProperties(window.location.hash)&&ff())throw x(Il)}function KR(n){if(ff()&&!n)throw x(wl)}function YR(){if(qR())throw x(Tl)}function Ev(){if(typeof window>"u")throw x(hr)}function wv(n){if(!n)throw x(pr)}function pf(n){Ev(),WR(),YR(),wv(n)}function Iv(n,e){if(pf(n),KR(e.system.allowRedirectInIframe),e.cache.cacheLocation===je.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw Wl(Gl)}function mf(n){let e=document.createElement("link");e.rel="preconnect",e.href=new URL(n).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}function eT(){return Lt()}var hz=It.addClientCapabilitiesToClaims;var gf=class n{navigateInternal(e,t){return n.defaultNavigateWindow(e,t)}navigateExternal(e,t){return n.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((i,r)=>{setTimeout(()=>{r(x(Ya,"failed_to_redirect"))},t.timeout)})}};var Sv=class{async sendGetRequestAsync(e,t){let i,r={},o=0,s=QR(t);try{i=await fetch(e,{method:UI.GET,headers:s})}catch(a){throw ja(x(window.navigator.onLine?Ml:Zr),void 0,void 0,a)}r=ZR(i.headers);try{return o=i.status,{headers:r,body:await i.json(),status:o}}catch(a){throw ja(x(Ka),o,r,a)}}async sendPostRequestAsync(e,t){let i=t&&t.body||"",r=QR(t),o,s=0,a={};try{o=await fetch(e,{method:UI.POST,headers:r,body:i})}catch(c){throw ja(x(window.navigator.onLine?xl:Zr),void 0,void 0,c)}a=ZR(o.headers);try{return s=o.status,{headers:a,body:await o.json(),status:s}}catch(c){throw ja(x(Ka),s,a,c)}}};function QR(n){try{let e=new Headers;if(!(n&&n.headers))return e;let t=n.headers;return Object.entries(t).forEach(([i,r])=>{e.append(i,r)}),e}catch(e){throw ja(x(mv),void 0,void 0,e)}}function ZR(n){try{let e={};return n.forEach((t,i)=>{e[i]=t}),e}catch{throw x(gv)}}var fz=6e4,Av=1e4,pz=3e4,tT=2e3;function JR({auth:n,cache:e,system:t,telemetry:i},r){let o={clientId:E.EMPTY_STRING,authority:`${E.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:E.EMPTY_STRING,authorityMetadata:E.EMPTY_STRING,redirectUri:typeof window<"u"?gn():"",postLogoutRedirectUri:E.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:Qe.AAD,OIDCOptions:{serverResponseType:tr.FRAGMENT,defaultScopes:[E.OPENID_SCOPE,E.PROFILE_SCOPE,E.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:jo.None,tenant:E.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},s={cacheLocation:je.SessionStorage,cacheRetentionDays:5,temporaryCacheLocation:je.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===je.LocalStorage),claimsBasedCachingEnabled:!1},a={loggerCallback:()=>{},logLevel:Ue.Info,piiLoggingEnabled:!1},c=M(g({},zg),{loggerOptions:a,networkClient:r?new Sv:FI,navigationClient:new gf,loadFrameTimeout:0,windowHashTimeout:t?.loadFrameTimeout||fz,iframeHashTimeout:t?.loadFrameTimeout||Av,navigateFrameWait:0,redirectNavigationTimeout:pz,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:t?.nativeBrokerHandshakeTimeout||tT,pollIntervalMilliseconds:st.DEFAULT_POLL_INTERVAL_MS}),l=M(g(g({},c),t),{loggerOptions:t?.loggerOptions||a}),d={application:{appName:E.EMPTY_STRING,appVersion:E.EMPTY_STRING},client:new $r};if(n?.protocolMode!==Qe.OIDC&&n?.OIDCOptions&&new hn(l.loggerOptions).warning(JSON.stringify(Ce(fn.cannotSetOIDCOptions))),n?.protocolMode&&n.protocolMode===Qe.OIDC&&l?.allowPlatformBroker)throw Ce(fn.cannotAllowPlatformBroker);return{auth:M(g(g({},o),n),{OIDCOptions:g(g({},o.OIDCOptions),n?.OIDCOptions)}),cache:g(g({},s),e),system:l,telemetry:g(g({},d),i)}}var XR="@azure/msal-browser",Gn="4.26.2";var Mt="msal",Dv="browser";var nk=`${Mt}.${Dv}.log.level`,ik=`${Mt}.${Dv}.log.pii`,Vde=`${Mt}.${Dv}.performance.enabled`,rk=`${Mt}.${Dv}.platform.auth.dom`,nT=`${Mt}.version`,ek="account.keys",tk="token.keys";function Xr(n=2){return n<1?`${Mt}.${ek}`:`${Mt}.${n}.${ek}`}function eo(n,e=2){return e<1?`${Mt}.${tk}.${n}`:`${Mt}.${e}.${tk}.${n}`}var xv=class n{static loggerCallback(e,t){switch(e){case Ue.Error:console.error(t);return;case Ue.Info:console.info(t);return;case Ue.Verbose:console.debug(t);return;case Ue.Warning:console.warn(t);return;default:console.log(t);return}}constructor(e){this.browserEnvironment=typeof window<"u",this.config=JR(e,this.browserEnvironment);let t;try{t=window[je.SessionStorage]}catch{}let i=t?.getItem(nk),r=t?.getItem(ik)?.toLowerCase(),o=r==="true"?!0:r==="false"?!1:void 0,s=g({},this.config.system.loggerOptions),a=i&&Object.keys(Ue).includes(i)?Ue[i]:void 0;a&&(s.loggerCallback=n.loggerCallback,s.logLevel=a),o!==void 0&&(s.piiLoggingEnabled=o),this.logger=new hn(s,XR,Gn),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}};var Mv=(()=>{class n extends xv{getModuleName(){return n.MODULE_NAME}getId(){return n.ID}async initialize(){return this.available=typeof window<"u",this.available}}return n.MODULE_NAME="",n.ID="StandardOperatingContext",n})();var Rv=class{constructor(){this.dbName=vv,this.version=MR,this.tableName=RR,this.dbOpen=!1}async open(){return new Promise((e,t)=>{let i=window.indexedDB.open(this.dbName,this.version);i.addEventListener("upgradeneeded",r=>{r.target.result.createObjectStore(this.tableName)}),i.addEventListener("success",r=>{let o=r;this.db=o.target.result,this.dbOpen=!0,e()}),i.addEventListener("error",()=>t(x(Xo)))})}closeConnection(){let e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((t,i)=>{if(!this.db)return i(x(fr));let s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);s.addEventListener("success",a=>{let c=a;this.closeConnection(),t(c.target.result)}),s.addEventListener("error",a=>{this.closeConnection(),i(a)})})}async setItem(e,t){return await this.validateDbIsOpen(),new Promise((i,r)=>{if(!this.db)return r(x(fr));let a=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);a.addEventListener("success",()=>{this.closeConnection(),i()}),a.addEventListener("error",c=>{this.closeConnection(),r(c)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((t,i)=>{if(!this.db)return i(x(fr));let s=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);s.addEventListener("success",()=>{this.closeConnection(),t()}),s.addEventListener("error",a=>{this.closeConnection(),i(a)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,t)=>{if(!this.db)return t(x(fr));let o=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();o.addEventListener("success",s=>{let a=s;this.closeConnection(),e(a.target.result)}),o.addEventListener("error",s=>{this.closeConnection(),t(s)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((t,i)=>{if(!this.db)return i(x(fr));let s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);s.addEventListener("success",a=>{let c=a;this.closeConnection(),t(c.target.result===1)}),s.addEventListener("error",a=>{this.closeConnection(),i(a)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,t)=>{let i=window.indexedDB.deleteDatabase(vv),r=setTimeout(()=>t(!1),200);i.addEventListener("success",()=>(clearTimeout(r),e(!0))),i.addEventListener("blocked",()=>(clearTimeout(r),e(!0))),i.addEventListener("error",()=>(clearTimeout(r),t(!1)))})}};var to=class{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,t){this.cache.set(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){let e=[];return this.cache.forEach((t,i)=>{e.push(i)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}decryptData(){return Promise.resolve(null)}};var kv=class{constructor(e){this.inMemoryCache=new to,this.indexedDBCache=new Rv,this.logger=e}handleDatabaseAccessError(e){if(e instanceof Qa&&e.errorCode===Xo)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}async getItem(e){let t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(i){this.handleDatabaseAccessError(i)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(i){this.handleDatabaseAccessError(i)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(t){this.handleDatabaseAccessError(t)}}async getKeys(){let e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(t){this.handleDatabaseAccessError(t)}return e}async containsKey(e){let t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(i){this.handleDatabaseAccessError(i)}return t}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");let e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}};var Kl=(()=>{class n{constructor(t,i,r){this.logger=t,BR(r??!1),this.cache=new kv(this.logger),this.performanceClient=i}createNewGuid(){return Lt()}base64Encode(t){return ts(t)}base64Decode(t){return xt(t)}base64UrlEncode(t){return uf(t)}encodeKid(t){return this.base64UrlEncode(JSON.stringify({kid:t}))}async getPublicKeyThumbprint(t){let i=this.performanceClient?.startMeasurement(f.CryptoOptsGetPublicKeyThumbprint,t.correlationId),r=await HR(n.EXTRACTABLE,n.POP_KEY_USAGES),o=await yv(r.publicKey),s={e:o.e,kty:o.kty,n:o.n},a=ok(s),c=await this.hashString(a),l=await yv(r.privateKey),d=await VR(l,!1,["sign"]);return await this.cache.setItem(c,{privateKey:d,publicKey:r.publicKey,requestMethod:t.resourceRequestMethod,requestUri:t.resourceRequestUri}),i&&i.end({success:!0}),c}async removeTokenBindingKey(t){if(await this.cache.removeItem(t),await this.cache.containsKey(t))throw T(Ft.bindingKeyNotRemoved)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(t){return t instanceof Error?this.logger.error(`Clearing keystore failed with error: ${t.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(t,i,r,o){let s=this.performanceClient?.startMeasurement(f.CryptoOptsSignJwt,o),a=await this.cache.getItem(i);if(!a)throw x(Jo);let c=await yv(a.publicKey),l=ok(c),d=uf(JSON.stringify({kid:i})),u=cf.getShrHeaderString(M(g({},r?.header),{alg:c.alg,kid:d})),p=uf(u);t.cnf={jwk:JSON.parse(l)};let m=uf(JSON.stringify(t)),C=`${p}.${m}`,D=new TextEncoder().encode(C),R=await jR(a.privateKey,D),q=ai(new Uint8Array(R)),ke=`${C}.${q}`;return s&&s.end({success:!0}),ke}async hashString(t){return _v(t)}}return n.POP_KEY_USAGES=["sign","verify"],n.EXTRACTABLE=!0,n})();function ok(n){return JSON.stringify(n,Object.keys(n).sort())}var mz=1440*60*1e3,Ov={Lax:"Lax",None:"None"},Yl=class{initialize(){return Promise.resolve()}getItem(e){let t=`${encodeURIComponent(e)}`,i=document.cookie.split(";");for(let r=0;r<i.length;r++){let o=i[r],[s,...a]=decodeURIComponent(o).trim().split("="),c=a.join("=");if(s===t)return c}return""}getUserData(){throw T(Ft.methodNotImplemented)}setItem(e,t,i,r=!0,o=Ov.Lax){let s=`${encodeURIComponent(e)}=${encodeURIComponent(t)};path=/;SameSite=${o};`;if(i){let a=gz(i);s+=`expires=${a};`}(r||o===Ov.None)&&(s+="Secure;"),document.cookie=s}async setUserData(){return Promise.reject(T(Ft.methodNotImplemented))}removeItem(e){this.setItem(e,"",-1)}getKeys(){let e=document.cookie.split(";"),t=[];return e.forEach(i=>{let r=decodeURIComponent(i).trim().split("=");t.push(r[0])}),t}containsKey(e){return this.getKeys().includes(e)}decryptData(){return Promise.resolve(null)}};function gz(n){let e=new Date;return new Date(e.getTime()+n*mz).toUTCString()}function gr(n,e){let t=n.getItem(Xr(e));return t?JSON.parse(t):[]}function qn(n,e,t){let i=e.getItem(eo(n,t));if(i){let r=JSON.parse(i);if(r&&r.hasOwnProperty("idToken")&&r.hasOwnProperty("accessToken")&&r.hasOwnProperty("refreshToken"))return r}return{idToken:[],accessToken:[],refreshToken:[]}}function Ql(n){return n.hasOwnProperty("id")&&n.hasOwnProperty("nonce")&&n.hasOwnProperty("data")}var sk="msal.cache.encryption",vz="msal.broadcast.cache",Nv=class{constructor(e,t,i){if(!window.localStorage)throw Wl(ns);this.memoryStorage=new to,this.initialized=!1,this.clientId=e,this.logger=t,this.performanceClient=i,this.broadcast=new BroadcastChannel(vz)}async initialize(e){let t=new Yl,i=t.getItem(sk),r={key:"",id:""};if(i)try{r=JSON.parse(i)}catch{}if(r.key&&r.id){let o=rt(mr,f.Base64Decode,this.logger,this.performanceClient,e)(r.key);this.encryptionCookie={id:r.id,key:await b(QI,f.GenerateHKDF,this.logger,this.performanceClient,e)(o)}}else{let o=Lt(),s=await b(YI,f.GenerateBaseKey,this.logger,this.performanceClient,e)(),a=rt(ai,f.UrlEncodeArr,this.logger,this.performanceClient,e)(new Uint8Array(s));this.encryptionCookie={id:o,key:await b(QI,f.GenerateHKDF,this.logger,this.performanceClient,e)(s)};let c={id:o,key:a};t.setItem(sk,JSON.stringify(c),0,!0,Ov.None)}await b(this.importExistingCache.bind(this),f.ImportExistingCache,this.logger,this.performanceClient,e)(e),this.broadcast.addEventListener("message",this.updateCache.bind(this)),this.initialized=!0}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw x(pr);return this.memoryStorage.getItem(e)}async decryptData(e,t,i){if(!this.initialized||!this.encryptionCookie)throw x(pr);if(t.id!==this.encryptionCookie.id)return this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},i),null;let r=await b(ZI,f.Decrypt,this.logger,this.performanceClient,i)(this.encryptionCookie.key,t.nonce,this.getContext(e),t.data);if(!r)return null;try{return M(g({},JSON.parse(r)),{lastUpdatedAt:t.lastUpdatedAt})}catch{return this.performanceClient.incrementFields({encryptedCacheCorruptionCount:1},i),null}}setItem(e,t){window.localStorage.setItem(e,t)}async setUserData(e,t,i,r,o){if(!this.initialized||!this.encryptionCookie)throw x(pr);if(o)this.setItem(e,t);else{let{data:s,nonce:a}=await b(GR,f.Encrypt,this.logger,this.performanceClient,i)(this.encryptionCookie.key,t,this.getContext(e)),c={id:this.encryptionCookie.id,nonce:a,data:s,lastUpdatedAt:r};this.setItem(e,JSON.stringify(c))}this.memoryStorage.setItem(e,t),this.broadcast.postMessage({key:e,value:t,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear(),gr(this).forEach(i=>this.removeItem(i));let t=qn(this.clientId,this);t.idToken.forEach(i=>this.removeItem(i)),t.accessToken.forEach(i=>this.removeItem(i)),t.refreshToken.forEach(i=>this.removeItem(i)),this.getKeys().forEach(i=>{(i.startsWith(Mt)||i.indexOf(this.clientId)!==-1)&&this.removeItem(i)})}async importExistingCache(e){if(!this.encryptionCookie)return;let t=gr(this);t=await this.importArray(t,e),t.length?this.setItem(Xr(),JSON.stringify(t)):this.removeItem(Xr());let i=qn(this.clientId,this);i.idToken=await this.importArray(i.idToken,e),i.accessToken=await this.importArray(i.accessToken,e),i.refreshToken=await this.importArray(i.refreshToken,e),i.idToken.length||i.accessToken.length||i.refreshToken.length?this.setItem(eo(this.clientId),JSON.stringify(i)):this.removeItem(eo(this.clientId))}async getItemFromEncryptedCache(e,t){if(!this.encryptionCookie)return null;let i=this.getItem(e);if(!i)return null;let r;try{r=JSON.parse(i)}catch{return null}return Ql(r)?r.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},t),null):(this.performanceClient.incrementFields({encryptedCacheCount:1},t),b(ZI,f.Decrypt,this.logger,this.performanceClient,t)(this.encryptionCookie.key,r.nonce,this.getContext(e),r.data)):(this.performanceClient.incrementFields({unencryptedCacheCount:1},t),i)}async importArray(e,t){let i=[],r=[];return e.forEach(o=>{let s=this.getItemFromEncryptedCache(o,t).then(a=>{a?(this.memoryStorage.setItem(o,a),i.push(o)):this.removeItem(o)});r.push(s)}),await Promise.all(r),i}getContext(e){let t="";return e.includes(this.clientId)&&(t=this.clientId),t}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");let t=this.performanceClient.startMeasurement(f.LocalStorageUpdated);t.add({isBackground:!0});let{key:i,value:r,context:o}=e.data;if(!i){this.logger.error("Broadcast event missing key"),t.end({success:!1,errorCode:"noKey"});return}if(o&&o!==this.clientId){this.logger.trace(`Ignoring broadcast event from clientId: ${o}`),t.end({success:!1,errorCode:"contextMismatch"});return}r?(this.memoryStorage.setItem(i,r),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(i),this.logger.verbose("Removed item from internal cache")),t.end({success:!0})}};var Pv=class{constructor(){if(!window.sessionStorage)throw Wl(ns)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,t){window.sessionStorage.setItem(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}decryptData(){return Promise.resolve(null)}};var N={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache",BROKER_CONNECTION_ESTABLISHED:"msal:brokerConnectionEstablished"};function no(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var Zl=class extends Na{constructor(e,t,i,r,o,s,a){super(e,i,r,o,a),this.cacheConfig=t,this.logger=r,this.internalStorage=new to,this.browserStorage=ck(e,t.cacheLocation,r,o),this.temporaryCacheStorage=ck(e,t.temporaryCacheLocation,r,o),this.cookieStorage=new Yl,this.eventHandler=s}async initialize(e){this.performanceClient.addFields({cacheLocation:this.cacheConfig.cacheLocation,cacheRetentionDays:this.cacheConfig.cacheRetentionDays},e),await this.browserStorage.initialize(e),await this.migrateExistingCache(e),this.trackVersionChanges(e)}async migrateExistingCache(e){let t=gr(this.browserStorage),i=qn(this.clientId,this.browserStorage);this.performanceClient.addFields({preMigrateAcntCount:t.length,preMigrateATCount:i.accessToken.length,preMigrateITCount:i.idToken.length,preMigrateRTCount:i.refreshToken.length},e);for(let o=0;o<2;o++){let s=o;await this.removeStaleAccounts(o,s,e)}for(let o=0;o<2;o++){let s=o;await this.migrateIdTokens(o,s,e)}let r=this.getKMSIValues();for(let o=0;o<2;o++)await this.migrateAccessTokens(o,r,e),await this.migrateRefreshTokens(o,r,e);t=gr(this.browserStorage),i=qn(this.clientId,this.browserStorage),this.performanceClient.addFields({postMigrateAcntCount:t.length,postMigrateATCount:i.accessToken.length,postMigrateITCount:i.idToken.length,postMigrateRTCount:i.refreshToken.length},e)}async updateOldEntry(e,t){let i=this.browserStorage.getItem(e),r=this.validateAndParseJson(i||"");if(!r)return this.browserStorage.removeItem(e),null;if(!r.lastUpdatedAt)r.lastUpdatedAt=Date.now().toString(),this.setItem(e,JSON.stringify(r),t);else if(Dt.isCacheExpired(r.lastUpdatedAt,this.cacheConfig.cacheRetentionDays))return this.browserStorage.removeItem(e),this.performanceClient.incrementFields({expiredCacheRemovedCount:1},t),null;let o=Ql(r)?await this.browserStorage.decryptData(e,r,t):r;return!o||!ot.isCredentialEntity(o)?(this.performanceClient.incrementFields({invalidCacheCount:1},t),null):(ot.isAccessTokenEntity(o)||ot.isRefreshTokenEntity(o))&&o.expiresOn&&Dt.isTokenExpired(o.expiresOn,sh)?(this.browserStorage.removeItem(e),this.performanceClient.incrementFields({expiredCacheRemovedCount:1},t),null):o}async removeStaleAccounts(e,t,i){let r=gr(this.browserStorage,e);if(r.length!==0){for(let o of[...r]){this.performanceClient.incrementFields({oldAcntCount:1},i);let s=this.browserStorage.getItem(o),a=this.validateAndParseJson(s||"");if(!a){no(r,o);continue}if(a.lastUpdatedAt)Dt.isCacheExpired(a.lastUpdatedAt,this.cacheConfig.cacheRetentionDays)&&(await this.removeAccountOldSchema(o,a,t,i),no(r,o));else{a.lastUpdatedAt=Date.now().toString(),this.setItem(o,JSON.stringify(a),i);continue}}this.setAccountKeys(r,i,e)}}async removeAccountOldSchema(e,t,i,r){let s=(Ql(t)?await this.browserStorage.decryptData(e,t,r):t)?.homeAccountId;if(s){let a=this.getTokenKeys(i);[...a.idToken].filter(c=>c.includes(s)).forEach(c=>{this.browserStorage.removeItem(c),no(a.idToken,c)}),[...a.accessToken].filter(c=>c.includes(s)).forEach(c=>{this.browserStorage.removeItem(c),no(a.accessToken,c)}),[...a.refreshToken].filter(c=>c.includes(s)).forEach(c=>{this.browserStorage.removeItem(c),no(a.refreshToken,c)}),this.setTokenKeys(a,r,i)}this.performanceClient.incrementFields({expiredAcntRemovedCount:1},r),this.browserStorage.removeItem(e)}getKMSIValues(){let e={},t=this.getTokenKeys().idToken;for(let i of t){let r=this.browserStorage.getUserData(i);if(r){let o=JSON.parse(r),s=wt.extractTokenClaims(o.secret,xt);s&&(e[o.homeAccountId]=wt.isKmsi(s))}}return e}async migrateIdTokens(e,t,i){let r=qn(this.clientId,this.browserStorage,e);if(r.idToken.length===0)return;let o=qn(this.clientId,this.browserStorage,2),s=gr(this.browserStorage),a=gr(this.browserStorage,t);for(let c of[...r.idToken]){this.performanceClient.incrementFields({oldITCount:1},i);let l=await this.updateOldEntry(c,i);if(!l){no(r.idToken,c);continue}let d=s.find(q=>q.includes(l.homeAccountId)),u=a.find(q=>q.includes(l.homeAccountId)),p=null;if(d)p=this.getAccount(d,i);else if(u){let q=this.browserStorage.getItem(u),ke=this.validateAndParseJson(q||"");p=ke&&Ql(ke)?await this.browserStorage.decryptData(u,ke,i):ke}if(!p){this.performanceClient.incrementFields({skipITMigrateCount:1},i);continue}let m=wt.extractTokenClaims(l.secret,xt),C=this.generateCredentialKey(l),I=this.getIdTokenCredential(C,i),D=Object.keys(m).includes("signin_state"),R=I&&Object.keys(wt.extractTokenClaims(I.secret,xt)||{}).includes("signin_state");if(!I||l.lastUpdatedAt>I.lastUpdatedAt&&(D||!R)){let q=p.tenantProfiles||[],ke=Oa(m)||p.realm;if(ke&&!q.find(_r=>_r.tenantId===ke)){let _r=Go(p.homeAccountId,p.localAccountId,ke,m);q.push(_r)}p.tenantProfiles=q;let ze=this.generateAccountKey(He.getAccountInfo(p)),Dn=wt.isKmsi(m);await this.setUserData(ze,JSON.stringify(p),i,p.lastUpdatedAt,Dn),s.includes(ze)||s.push(ze),await this.setUserData(C,JSON.stringify(l),i,l.lastUpdatedAt,Dn),this.performanceClient.incrementFields({migratedITCount:1},i),o.idToken.push(C)}}this.setTokenKeys(r,i,e),this.setTokenKeys(o,i),this.setAccountKeys(s,i)}async migrateAccessTokens(e,t,i){let r=qn(this.clientId,this.browserStorage,e);if(r.accessToken.length===0)return;let o=qn(this.clientId,this.browserStorage,2);for(let s of[...r.accessToken]){this.performanceClient.incrementFields({oldATCount:1},i);let a=await this.updateOldEntry(s,i);if(!a){no(r.accessToken,s);continue}if(!Object.keys(t).includes(a.homeAccountId)){this.performanceClient.incrementFields({skipATMigrateCount:1},i);continue}let c=this.generateCredentialKey(a),l=t[a.homeAccountId];if(!o.accessToken.includes(c))await this.setUserData(c,JSON.stringify(a),i,a.lastUpdatedAt,l),this.performanceClient.incrementFields({migratedATCount:1},i),o.accessToken.push(c);else{let d=this.getAccessTokenCredential(c,i);(!d||a.lastUpdatedAt>d.lastUpdatedAt)&&(await this.setUserData(c,JSON.stringify(a),i,a.lastUpdatedAt,l),this.performanceClient.incrementFields({migratedATCount:1},i))}}this.setTokenKeys(r,i,e),this.setTokenKeys(o,i)}async migrateRefreshTokens(e,t,i){let r=qn(this.clientId,this.browserStorage,e);if(r.refreshToken.length===0)return;let o=qn(this.clientId,this.browserStorage,2);for(let s of[...r.refreshToken]){this.performanceClient.incrementFields({oldRTCount:1},i);let a=await this.updateOldEntry(s,i);if(!a){no(r.refreshToken,s);continue}if(!Object.keys(t).includes(a.homeAccountId)){this.performanceClient.incrementFields({skipRTMigrateCount:1},i);continue}let c=this.generateCredentialKey(a),l=t[a.homeAccountId];if(!o.refreshToken.includes(c))await this.setUserData(c,JSON.stringify(a),i,a.lastUpdatedAt,l),this.performanceClient.incrementFields({migratedRTCount:1},i),o.refreshToken.push(c);else{let d=this.getRefreshTokenCredential(c,i);(!d||a.lastUpdatedAt>d.lastUpdatedAt)&&(await this.setUserData(c,JSON.stringify(a),i,a.lastUpdatedAt,l),this.performanceClient.incrementFields({migratedRTCount:1},i))}}this.setTokenKeys(r,i,e),this.setTokenKeys(o,i)}trackVersionChanges(e){let t=this.browserStorage.getItem(nT);t&&(this.logger.info(`MSAL.js was last initialized by version: ${t}`),this.performanceClient.addFields({previousLibraryVersion:t},e)),t!==Gn&&this.setItem(nT,Gn,e)}validateAndParseJson(e){if(!e)return null;try{let t=JSON.parse(e);return t&&typeof t=="object"?t:null}catch{return null}}setItem(e,t,i){let r=new Array(3).fill(0),o=[],s=20;for(let a=0;a<=s;a++)try{if(this.browserStorage.setItem(e,t),a>0)for(let c=0;c<=2;c++){let l=r.slice(0,c).reduce((u,p)=>u+p,0);if(l>=a)break;let d=a>l+r[c]?l+r[c]:a;a>l&&r[c]>0&&this.removeAccessTokenKeys(o.slice(l,d),i,c)}break}catch(c){let l=cl(c);if(l.errorCode===Hh.cacheQuotaExceeded&&a<s){if(!o.length)for(let d=0;d<=2;d++)if(e===eo(this.clientId,d)){let u=JSON.parse(t).accessToken;o.push(...u),r[d]=u.length}else{let u=this.getTokenKeys(d).accessToken;o.push(...u),r[d]=u.length}if(o.length<=a)throw l;this.removeAccessToken(o[a],i,!1)}else throw l}}async setUserData(e,t,i,r,o){let s=new Array(3).fill(0),a=[],c=20;for(let l=0;l<=c;l++)try{if(await b(this.browserStorage.setUserData.bind(this.browserStorage),f.SetUserData,this.logger,this.performanceClient)(e,t,i,r,o),l>0)for(let d=0;d<=2;d++){let u=s.slice(0,d).reduce((m,C)=>m+C,0);if(u>=l)break;let p=l>u+s[d]?u+s[d]:l;l>u&&s[d]>0&&this.removeAccessTokenKeys(a.slice(u,p),i,d)}break}catch(d){let u=cl(d);if(u.errorCode===Hh.cacheQuotaExceeded&&l<c){if(!a.length)for(let p=0;p<=2;p++){let m=this.getTokenKeys(p).accessToken;a.push(...m),s[p]=m.length}if(a.length<=l)throw u;this.removeAccessToken(a[l],i,!1)}else throw u}}getAccount(e,t){this.logger.trace("BrowserCacheManager.getAccount called");let i=this.browserStorage.getUserData(e);if(!i)return this.removeAccountKeyFromMap(e,t),null;let r=this.validateAndParseJson(i);return!r||!He.isAccountEntity(r)?null:Na.toObject(new He,r)}async setAccount(e,t,i){this.logger.trace("BrowserCacheManager.setAccount called");let r=this.generateAccountKey(He.getAccountInfo(e)),o=Date.now().toString();e.lastUpdatedAt=o,await this.setUserData(r,JSON.stringify(e),t,o,i);let s=this.addAccountKeyToMap(r,t);this.performanceClient.addFields({kmsi:i},t),this.cacheConfig.cacheLocation===je.LocalStorage&&s&&this.eventHandler.emitEvent(N.ACCOUNT_ADDED,void 0,He.getAccountInfo(e))}getAccountKeys(){return gr(this.browserStorage)}setAccountKeys(e,t,i=2){e.length===0?this.removeItem(Xr(i)):this.setItem(Xr(i),JSON.stringify(e),t)}addAccountKeyToMap(e,t){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);let i=this.getAccountKeys();return i.indexOf(e)===-1?(i.push(e),this.setItem(Xr(),JSON.stringify(i),t),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e,t){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);let i=this.getAccountKeys(),r=i.indexOf(e);r>-1?(i.splice(r,1),this.setAccountKeys(i,t),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(e,t){let i=this.getActiveAccount(t);i?.homeAccountId===e.homeAccountId&&i?.environment===e.environment&&this.setActiveAccount(null,t),super.removeAccount(e,t),this.removeAccountKeyFromMap(this.generateAccountKey(e),t),this.browserStorage.getKeys().forEach(r=>{r.includes(e.homeAccountId)&&r.includes(e.environment)&&this.browserStorage.removeItem(r)}),this.cacheConfig.cacheLocation===je.LocalStorage&&this.eventHandler.emitEvent(N.ACCOUNT_REMOVED,void 0,e)}removeIdToken(e,t){super.removeIdToken(e,t);let i=this.getTokenKeys(),r=i.idToken.indexOf(e);r>-1&&(this.logger.info("idToken removed from tokenKeys map"),i.idToken.splice(r,1),this.setTokenKeys(i,t))}removeAccessToken(e,t,i=!0){super.removeAccessToken(e,t),i&&this.removeAccessTokenKeys([e],t)}removeAccessTokenKeys(e,t,i=2){this.logger.trace("removeAccessTokenKey called");let r=this.getTokenKeys(i),o=0;if(e.forEach(s=>{let a=r.accessToken.indexOf(s);a>-1&&(r.accessToken.splice(a,1),o++)}),o>0){this.logger.info(`removed ${o} accessToken keys from tokenKeys map`),this.setTokenKeys(r,t,i);return}}removeRefreshToken(e,t){super.removeRefreshToken(e,t);let i=this.getTokenKeys(),r=i.refreshToken.indexOf(e);r>-1&&(this.logger.info("refreshToken removed from tokenKeys map"),i.refreshToken.splice(r,1),this.setTokenKeys(i,t))}getTokenKeys(e=2){return qn(this.clientId,this.browserStorage,e)}setTokenKeys(e,t,i=2){if(e.idToken.length===0&&e.accessToken.length===0&&e.refreshToken.length===0){this.removeItem(eo(this.clientId,i));return}else this.setItem(eo(this.clientId,i),JSON.stringify(e),t)}getIdTokenCredential(e,t){let i=this.browserStorage.getUserData(e);if(!i)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeIdToken(e,t),null;let r=this.validateAndParseJson(i);return!r||!ot.isIdTokenEntity(r)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),r)}async setIdTokenCredential(e,t,i){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");let r=this.generateCredentialKey(e),o=Date.now().toString();e.lastUpdatedAt=o,await this.setUserData(r,JSON.stringify(e),t,o,i);let s=this.getTokenKeys();s.idToken.indexOf(r)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),s.idToken.push(r),this.setTokenKeys(s,t))}getAccessTokenCredential(e,t){let i=this.browserStorage.getUserData(e);if(!i)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeAccessTokenKeys([e],t),null;let r=this.validateAndParseJson(i);return!r||!ot.isAccessTokenEntity(r)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),r)}async setAccessTokenCredential(e,t,i){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");let r=this.generateCredentialKey(e),o=Date.now().toString();e.lastUpdatedAt=o,await this.setUserData(r,JSON.stringify(e),t,o,i);let s=this.getTokenKeys(),a=s.accessToken.indexOf(r);a!==-1&&s.accessToken.splice(a,1),this.logger.trace(`access token ${a===-1?"added to":"updated in"} map`),s.accessToken.push(r),this.setTokenKeys(s,t)}getRefreshTokenCredential(e,t){let i=this.browserStorage.getUserData(e);if(!i)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeRefreshToken(e,t),null;let r=this.validateAndParseJson(i);return!r||!ot.isRefreshTokenEntity(r)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),r)}async setRefreshTokenCredential(e,t,i){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");let r=this.generateCredentialKey(e),o=Date.now().toString();e.lastUpdatedAt=o,await this.setUserData(r,JSON.stringify(e),t,o,i);let s=this.getTokenKeys();s.refreshToken.indexOf(r)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),s.refreshToken.push(r),this.setTokenKeys(s,t))}getAppMetadata(e){let t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;let i=this.validateAndParseJson(t);return!i||!ot.isAppMetadataEntity(e,i)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),i)}setAppMetadata(e,t){this.logger.trace("BrowserCacheManager.setAppMetadata called");let i=ot.generateAppMetadataKey(e);this.setItem(i,JSON.stringify(e),t)}getServerTelemetry(e){let t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;let i=this.validateAndParseJson(t);return!i||!ot.isServerTelemetryEntity(e,i)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),i)}setServerTelemetry(e,t,i){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(t),i)}getAuthorityMetadata(e){let t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;let i=this.validateAndParseJson(t);return i&&ot.isAuthorityMetadataEntity(e,i)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),i):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(t=>this.isAuthorityMetadata(t))}setWrapperMetadata(e,t){this.internalStorage.setItem(df.WRAPPER_SKU,e),this.internalStorage.setItem(df.WRAPPER_VER,t)}getWrapperMetadata(){let e=this.internalStorage.getItem(df.WRAPPER_SKU)||E.EMPTY_STRING,t=this.internalStorage.getItem(df.WRAPPER_VER)||E.EMPTY_STRING;return[e,t]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(e){let t=this.generateCacheKey(Ng.ACTIVE_ACCOUNT_FILTERS),i=this.browserStorage.getItem(t);if(!i)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;let r=this.validateAndParseJson(i);return r?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:r.homeAccountId,localAccountId:r.localAccountId,tenantId:r.tenantId},e)):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e,t){let i=this.generateCacheKey(Ng.ACTIVE_ACCOUNT_FILTERS);if(e){this.logger.verbose("setActiveAccount: Active account set");let r={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId,lastUpdatedAt:Dt.nowSeconds().toString()};this.setItem(i,JSON.stringify(r),t)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(i);this.eventHandler.emitEvent(N.ACTIVE_ACCOUNT_CHANGED)}getThrottlingCache(e){let t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;let i=this.validateAndParseJson(t);return!i||!ot.isThrottlingEntity(e,i)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),i)}setThrottlingCache(e,t,i){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(t),i)}getTemporaryCache(e,t){let i=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){let o=this.cookieStorage.getItem(i);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),o}let r=this.temporaryCacheStorage.getItem(i);if(!r){if(this.cacheConfig.cacheLocation===je.LocalStorage){let o=this.browserStorage.getItem(i);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),o}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),r}setTemporaryCache(e,t,i){let r=i?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(r,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(r,t,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}clear(e){this.removeAllAccounts(e),this.removeAppMetadata(e),this.temporaryCacheStorage.getKeys().forEach(t=>{(t.indexOf(Mt)!==-1||t.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(t)}),this.browserStorage.getKeys().forEach(t=>{(t.indexOf(Mt)!==-1||t.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(t)}),this.internalStorage.clear()}clearTokensAndKeysWithClaims(e){this.performanceClient.addQueueMeasurement(f.ClearTokensAndKeysWithClaims,e);let t=this.getTokenKeys(),i=0;t.accessToken.forEach(r=>{let o=this.getAccessTokenCredential(r,e);o?.requestedClaimsHash&&r.includes(o.requestedClaimsHash.toLowerCase())&&(this.removeAccessToken(r,e),i++)}),i>0&&this.logger.warning(`${i} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return Ke.startsWith(e,Mt)?e:`${Mt}.${this.clientId}.${e}`}generateCredentialKey(e){let t=e.credentialType===Et.REFRESH_TOKEN&&e.familyId||e.clientId,i=e.tokenType&&e.tokenType.toLowerCase()!==fe.BEARER.toLowerCase()?e.tokenType.toLowerCase():"";return[`${Mt}.${2}`,e.homeAccountId,e.environment,e.credentialType,t,e.realm||"",e.target||"",e.requestedClaimsHash||"",i].join("|").toLowerCase()}generateAccountKey(e){let t=e.homeAccountId.split(".")[1];return[`${Mt}.${2}`,e.homeAccountId,e.environment,t||e.tenantId||""].join("|").toLowerCase()}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(at.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(at.VERIFIER)),this.removeTemporaryItem(this.generateCacheKey(at.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(at.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(at.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,t){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");let i=ts(JSON.stringify(e));if(this.setTemporaryCache(at.REQUEST_PARAMS,i,!0),t){let r=ts(t);this.setTemporaryCache(at.VERIFIER,r,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");let e=this.getTemporaryCache(at.REQUEST_PARAMS,!0);if(!e)throw x(Al);let t=this.getTemporaryCache(at.VERIFIER,!0),i,r="";try{i=JSON.parse(xt(e)),t&&(r=xt(t))}catch(o){throw this.logger.errorPii(`Attempted to parse: ${e}`),this.logger.error(`Parsing cached token request threw with error: ${o}`),x(Dl)}return[i,r]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");let e=this.getTemporaryCache(at.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;let t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){let t=this.getInteractionInProgress()?.clientId;return e?t===this.clientId:!!t}getInteractionInProgress(){let e=`${Mt}.${at.INTERACTION_STATUS_KEY}`,t=this.getTemporaryCache(e,!1);try{return t?JSON.parse(t):null}catch{return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(e),this.resetRequestCache(),hf(window),null}}setInteractionInProgress(e,t=ki.SIGNIN){let i=`${Mt}.${at.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw x(_l);this.setTemporaryCache(i,JSON.stringify({clientId:this.clientId,type:t}),!1)}else!e&&this.getInteractionInProgress()?.clientId===this.clientId&&this.removeTemporaryItem(i)}async hydrateCache(e,t){let i=ot.createIdTokenEntity(e.account?.homeAccountId,e.account?.environment,e.idToken,this.clientId,e.tenantId),r;t.claims&&(r=await this.cryptoImpl.hashString(t.claims));let o=ot.createAccessTokenEntity(e.account?.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?Dt.toSecondsFromDate(e.expiresOn):0,e.extExpiresOn?Dt.toSecondsFromDate(e.extExpiresOn):0,xt,void 0,e.tokenType,void 0,t.sshKid,t.claims,r),s={idToken:i,accessToken:o};return this.saveCacheRecord(s,e.correlationId,wt.isKmsi(wt.extractTokenClaims(e.idToken,xt)))}async saveCacheRecord(e,t,i,r){try{await super.saveCacheRecord(e,t,i,r)}catch(o){if(o instanceof qo&&this.performanceClient&&t)try{let s=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:s.refreshToken.length,cacheIdCount:s.idToken.length,cacheAtCount:s.accessToken.length},t)}catch{}throw o}}};function ck(n,e,t,i){try{switch(e){case je.LocalStorage:return new Nv(n,t,i);case je.SessionStorage:return new Pv;case je.MemoryStorage:default:break}}catch(r){t.error(r)}return new to}var lk=(n,e,t,i)=>{let r={cacheLocation:je.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:je.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new Zl(n,r,Vo,e,t,i)};function dk(n,e,t,i,r){return n.verbose("getAllAccounts called"),t?e.getAllAccounts(r||{},i):[]}function uk(n,e,t,i){let r=t.getAccountInfoFilteredBy(n,i);return r?(e.verbose("getAccount: Account matching provided filter found, returning"),r):(e.verbose("getAccount: No matching account found, returning null"),null)}function hk(n,e,t,i){if(e.trace("getAccountByUsername called"),!n)return e.warning("getAccountByUsername: No username provided"),null;let r=t.getAccountInfoFilteredBy({username:n},i);return r?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${n}`),r):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}function fk(n,e,t,i){if(e.trace("getAccountByHomeId called"),!n)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;let r=t.getAccountInfoFilteredBy({homeAccountId:n},i);return r?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${n}`),r):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function pk(n,e,t,i){if(e.trace("getAccountByLocalId called"),!n)return e.warning("getAccountByLocalId: No localAccountId provided"),null;let r=t.getAccountInfoFilteredBy({localAccountId:n},i);return r?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${n}`),r):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function mk(n,e,t){e.setActiveAccount(n,t)}function gk(n,e){return n.getActiveAccount(e)}var yz="msal.broadcast.event",Fv=class{constructor(e){this.eventCallbacks=new Map,this.logger=e||new hn({}),typeof BroadcastChannel<"u"&&(this.broadcastChannel=new BroadcastChannel(yz)),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,t,i){if(typeof window<"u"){let r=i||eT();return this.eventCallbacks.has(r)?(this.logger.error(`Event callback with id: ${r} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(r,[e,t||[]]),this.logger.verbose(`Event callback registered with id: ${r}`),r)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,t,i,r){let o={eventType:e,interactionType:t||null,payload:i||null,error:r||null,timestamp:Date.now()};switch(e){case N.ACCOUNT_ADDED:case N.ACCOUNT_REMOVED:case N.ACTIVE_ACCOUNT_CHANGED:this.broadcastChannel?.postMessage(o);break;default:this.invokeCallbacks(o);break}}invokeCallbacks(e){this.eventCallbacks.forEach(([t,i],r)=>{(i.length===0||i.includes(e.eventType))&&(this.logger.verbose(`Emitting event to callback ${r}: ${e.eventType}`),t.apply(null,[e]))})}invokeCrossTabCallbacks(e){let t=e.data;this.invokeCallbacks(t)}subscribeCrossTab(){this.broadcastChannel?.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){this.broadcastChannel?.removeEventListener("message",this.invokeCrossTabCallbacks)}};var Jl=class{constructor(e,t,i,r,o,s,a,c,l){this.config=e,this.browserStorage=t,this.browserCrypto=i,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=s,this.platformAuthProvider=c,this.correlationId=l||Lt(),this.logger=r.clone(st.MSAL_SKU,Gn,this.correlationId),this.performanceClient=a}async clearCacheOnLogout(e,t){if(t)try{this.browserStorage.removeAccount(t,e),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),this.browserStorage.clear(e),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");let t=e||this.config.auth.redirectUri;return ae.getAbsoluteUrl(t,gn())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");let i={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Ga(i,this.browserStorage)}async getDiscoveredAuthority(e){let{account:t}=e,i=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(f.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);let r={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.requestAuthority||this.config.auth.authority,s=i?.length?i==="true":this.config.auth.instanceAware,a=t&&s?this.config.auth.authority.replace(ae.getDomainFromUrl(o),t.environment):o,c=si.generateAuthority(a,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),l=await b(tv.createDiscoveredInstance,f.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(c,this.config.system.networkClient,this.browserStorage,r,this.logger,this.correlationId,this.performanceClient);if(t&&!l.isAlias(t.environment))throw Ce(fn.authorityMismatch);return l}};async function vf(n,e,t,i){t.addQueueMeasurement(f.InitializeBaseRequest,n.correlationId);let r=n.authority||e.auth.authority,o=[...n&&n.scopes||[]],s=M(g({},n),{correlationId:n.correlationId,authority:r,scopes:o});if(!s.authenticationScheme)s.authenticationScheme=fe.BEARER,i.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(s.authenticationScheme===fe.SSH){if(!n.sshJwk)throw Ce(fn.missingSshJwk);if(!n.sshKid)throw Ce(fn.missingSshKid)}i.verbose(`Authentication Scheme set to "${s.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&n.claims&&!Ke.isEmptyObj(n.claims)&&(s.requestedClaimsHash=await _v(n.claims)),s}async function vk(n,e,t,i,r){i.addQueueMeasurement(f.InitializeSilentRequest,n.correlationId);let o=await b(vf,f.InitializeBaseRequest,r,i,n.correlationId)(n,t,i,r);return M(g(g({},n),o),{account:e,forceRefresh:n.forceRefresh||!1})}function Lv(n,e){let t,i=n.httpMethod;if(e===Qe.EAR){if(t=i||oi.POST,t!==oi.POST)throw Ce(fn.invalidRequestMethodForEAR)}else t=i||oi.GET;if(n.authorizePostBodyParameters&&t!==oi.POST)throw Ce(fn.invalidAuthorizePostBodyParameters);return t}var Sn=class extends Jl{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e?.correlationId);let t=g({correlationId:this.correlationId||Lt()},e);if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){let i=this.getLogoutHintFromIdTokenClaims(e.account);i&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=i)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=ae.getAbsoluteUrl(e.postLogoutRedirectUri,gn())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=ae.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,gn())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=ae.getAbsoluteUrl(gn(),gn())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId),t}getLogoutHintFromIdTokenClaims(e){let t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(f.StandardInteractionClientCreateAuthCodeClient,this.correlationId);let t=await b(this.getClientConfiguration.bind(this),f.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e);return new $a(t,this.performanceClient)}async getClientConfiguration(e){let{serverTelemetryManager:t,requestAuthority:i,requestAzureCloudOptions:r,requestExtraQueryParameters:o,account:s}=e;this.performanceClient.addQueueMeasurement(f.StandardInteractionClientGetClientConfiguration,this.correlationId);let a=e.authority||await b(this.getDiscoveredAuthority.bind(this),f.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:i,requestAzureCloudOptions:r,requestExtraQueryParameters:o,account:s}),c=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:c.loggerCallback,piiLoggingEnabled:c.piiLoggingEnabled,logLevel:c.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:st.MSAL_SKU,version:Gn,cpu:E.EMPTY_STRING,os:E.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(f.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);let i=this.getRedirectUri(e.redirectUri),r={interactionType:t},o=xi.setRequestState(this.browserCrypto,e&&e.state||E.EMPTY_STRING,r),s=await b(vf,f.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)(M(g({},e),{correlationId:this.correlationId}),this.config,this.performanceClient,this.logger),a=M(g({},s),{redirectUri:i,state:o,nonce:e.nonce||Lt(),responseMode:this.config.auth.OIDCOptions.serverResponseType}),c=M(g({},a),{httpMethod:Lv(a,this.config.auth.protocolMode)});if(e.loginHint||e.sid)return c;let l=e.account||this.browserStorage.getActiveAccount(this.correlationId);return l&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${l.homeAccountId}`,this.correlationId),c.account=l),c}};function yk(n,e){if(!e)return null;try{return xi.parseRequestState(n,e).libraryState.meta}catch{throw T(Ft.invalidState)}}function Za(n,e,t){let i=sr.getDeserializedResponse(n);if(!i)throw sr.stripLeadingHashOrQuery(n)?(t.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),t.errorPii(`The ${e} detected is: ${n}`),x(gl)):(t.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),x(ml));return i}function _k(n,e,t){if(!n.state)throw x(Zo);let i=yk(e,n.state);if(!i)throw x(vl);if(i.interactionType!==t)throw x(yl)}var Xl=class{constructor(e,t,i,r,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=i,this.logger=r,this.performanceClient=o}async handleCodeResponse(e,t){this.performanceClient.addQueueMeasurement(f.HandleCodeResponse,t.correlationId);let i;try{i=lr.getAuthorizationCodePayload(e,t.state)}catch(r){throw r instanceof In&&r.subError===Ri?x(Ri):r}return b(this.handleCodeResponseFromServer.bind(this),f.HandleCodeResponseFromServer,this.logger,this.performanceClient,t.correlationId)(i,t)}async handleCodeResponseFromServer(e,t,i=!0){if(this.performanceClient.addQueueMeasurement(f.HandleCodeResponseFromServer,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await b(this.authModule.updateAuthority.bind(this.authModule),f.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),i&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{let o=this.createCcsCredentials(t);o&&(this.authCodeRequest.ccsCredential=o)}return await b(this.authModule.acquireToken.bind(this.authModule),f.AuthClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:en.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:en.UPN}:null}};var bk="ContentError",Ck="PageException",Bv="user_switch";var Ek="USER_INTERACTION_REQUIRED",wk="USER_CANCEL",Ik="NO_NETWORK",Tk="DISABLED",Sk="ACCOUNT_UNAVAILABLE",Ak="UX_NOT_ALLOWED";var _z=-2147186943,bz={[Bv]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."},ci=class n extends Z{constructor(e,t,i){super(e,t),Object.setPrototypeOf(this,n.prototype),this.name="NativeAuthError",this.ext=i}};function is(n){if(n.ext&&n.ext.status&&n.ext.status===Tk||n.ext&&n.ext.error&&n.ext.error===_z)return!0;switch(n.errorCode){case bk:case Ck:return!0;default:return!1}}function Ja(n,e,t){if(t&&t.status)switch(t.status){case Sk:return za(cr.nativeAccountUnavailable);case Ek:return new jt(n,e);case wk:return x(Ri);case Ik:return x(Zr);case Ak:return za(cr.uxNotAllowed)}return new ci(n,bz[n]||e,t)}var ed=class extends Sn{async acquireToken(e){this.performanceClient.addQueueMeasurement(f.SilentCacheClientAcquireToken,e.correlationId);let t=this.initializeServerTelemetryManager(Ee.acquireTokenSilent_silentFlow),i=await b(this.getClientConfiguration.bind(this),f.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),r=new af(i,this.performanceClient);this.logger.verbose("Silent auth client created");try{let s=(await b(r.acquireCachedToken.bind(r),f.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),s}catch(o){throw o instanceof Qa&&o.errorCode===Jo&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}}logout(e){this.logger.verbose("logoutRedirect called");let t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t.correlationId,t?.account)}};var rs=class extends Jl{constructor(e,t,i,r,o,s,a,c,l,d,u,p){super(e,t,i,r,o,s,c,l,p),this.apiId=a,this.accountId=d,this.platformAuthProvider=l,this.nativeStorageManager=u,this.silentCacheClient=new ed(e,this.nativeStorageManager,i,r,o,s,c,l,p);let m=this.platformAuthProvider.getExtensionName();this.skus=Ga.makeExtraSkuString({libraryName:st.MSAL_SKU,libraryVersion:Gn,extensionName:m,extensionVersion:this.platformAuthProvider.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters=M(g({},e.extraParameters),{[Gr.X_CLIENT_EXTRA_SKU]:this.skus})}async acquireToken(e,t){this.performanceClient.addQueueMeasurement(f.NativeInteractionClientAcquireToken,this.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");let i=this.performanceClient.startMeasurement(f.NativeInteractionClientAcquireToken,this.correlationId),r=Dt.nowSeconds(),o=this.initializeServerTelemetryManager(this.apiId);try{let s=await this.initializeNativeRequest(e);try{let c=await this.acquireTokensFromCache(this.accountId,s);return i.end({success:!0,isNativeBroker:!1,fromCache:!0}),c}catch(c){if(t===zt.AccessToken)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),i.end({success:!1,brokerErrorCode:"cache_request_failed"}),c;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}let a=await this.platformAuthProvider.sendMessage(s);return await this.handleNativeResponse(a,s,r).then(c=>(i.end({success:!0,isNativeBroker:!0,requestId:c.requestId}),o.clearNativeBrokerErrorCode(),c)).catch(c=>{throw i.end({success:!1,errorCode:c.errorCode,subErrorCode:c.subError}),c})}catch(s){throw s instanceof ci&&o.setNativeBrokerErrorCode(s.errorCode),i.end({success:!1}),s}}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:it.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),T(Ft.noAccountFound);let i=this.browserStorage.getBaseAccountInfo({nativeAccountId:e},this.correlationId);if(!i)throw T(Ft.noAccountFound);try{let r=this.createSilentCacheRequest(t,i),o=await this.silentCacheClient.acquireToken(r),s=M(g({},i),{idTokenClaims:o?.idTokenClaims,idToken:o?.idToken});return M(g({},o),{account:s})}catch(r){throw r}}async acquireTokenRedirect(e,t){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");let i=Pi(e,[]);delete i.onRedirectNavigate;let r=await this.initializeNativeRequest(i);try{await this.platformAuthProvider.sendMessage(r)}catch(a){if(a instanceof ci&&(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(a.errorCode),is(a)))throw a}this.browserStorage.setTemporaryCache(at.NATIVE_REQUEST,JSON.stringify(r),!0);let o={apiId:Ee.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},s=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),await this.navigationClient.navigateExternal(s,o)}async handleRedirectPromise(e,t){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;let i=this.browserStorage.getCachedNativeRequest();if(!i)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&e?.addFields({errorCode:"no_cached_request"},t),null;let a=i,{prompt:r}=a,o=Pi(a,["prompt"]);r&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(at.NATIVE_REQUEST));let s=Dt.nowSeconds();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");let c=await this.platformAuthProvider.sendMessage(o),l=await this.handleNativeResponse(c,o,s);return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),e&&this.correlationId&&this.performanceClient.addFields({isNativeBroker:!0},this.correlationId),l}catch(c){throw c}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,i){this.logger.trace("NativeInteractionClient - handleNativeResponse called.");let r=wt.extractTokenClaims(e.id_token,xt),o=this.createHomeAccountIdentifier(e,r),s=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId},this.correlationId)?.homeAccountId;if(t.extraParameters?.child_client_id&&e.account.id!==t.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(o!==s&&e.account.id!==t.accountId)throw Ja(Bv);let a=await this.getDiscoveredAuthority({requestAuthority:t.authority}),c=pl(this.browserStorage,a,o,xt,this.correlationId,r,e.client_info,void 0,r.tid,void 0,e.account.id,this.logger);e.expires_in=Number(e.expires_in);let l=await this.generateAuthenticationResult(e,t,r,c,a.canonicalAuthority,i);return await this.cacheAccount(c,this.correlationId,wt.isKmsi(r)),await this.cacheNativeTokens(e,t,o,r,e.access_token,l.tenantId,i),l}createHomeAccountIdentifier(e,t){return He.generateHomeAccountId(e.client_info||E.EMPTY_STRING,pn.Default,this.logger,this.browserCrypto,t)}generateScopes(e,t){return t?it.fromString(t):it.fromString(e)}async generatePopAccessToken(e,t){if(t.tokenType===fe.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;let i=new Tn(this.browserCrypto),r={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw T(Ft.keyIdMissing);return i.signPopToken(e.access_token,t.keyId,r)}else return e.access_token}async generateAuthenticationResult(e,t,i,r,o,s){let a=this.addTelemetryFromNativeResponse(e.properties.MATS),c=this.generateScopes(t.scope,e.scope),l=e.account.properties||{},d=l.UID||i.oid||i.sub||E.EMPTY_STRING,u=l.TenantId||i.tid||E.EMPTY_STRING,p=ka(He.getAccountInfo(r),void 0,i,e.id_token);p.nativeAccountId!==e.account.id&&(p.nativeAccountId=e.account.id);let m=await this.generatePopAccessToken(e,t),C=t.tokenType===fe.POP?fe.POP:fe.BEARER;return{authority:o,uniqueId:d,tenantId:u,scopes:c.asArray(),account:p,idToken:e.id_token,idTokenClaims:i,accessToken:m,fromCache:a?this.isResponseFromCache(a):!1,expiresOn:Dt.toDateFromSeconds(s+e.expires_in),tokenType:C,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e,t,i){await this.browserStorage.setAccount(e,this.correlationId,i),this.browserStorage.removeAccountContext(He.getAccountInfo(e),t)}cacheNativeTokens(e,t,i,r,o,s,a){let c=ot.createIdTokenEntity(i,t.authority,e.id_token||"",t.clientId,r.tid||""),l=t.tokenType===fe.POP?E.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,d=a+l,u=this.generateScopes(e.scope,t.scope),p=ot.createAccessTokenEntity(i,t.authority,o,t.clientId,r.tid||s,u.printScopes(),d,0,xt,void 0,t.tokenType,void 0,t.keyId),m={idToken:c,accessToken:p};return this.nativeStorageManager.saveCacheRecord(m,this.correlationId,wt.isKmsi(r),t.storeInCache)}getExpiresInValue(e,t){return e===fe.POP?E.SHR_NONCE_VALIDITY:(typeof t=="string"?parseInt(t,10):t)||0}addTelemetryFromNativeResponse(e){let t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.platformAuthProvider.getExtensionId(),extensionVersion:this.platformAuthProvider.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}getMATSFromResponse(e){if(e)try{return JSON.parse(e)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");let t=await this.getCanonicalAuthority(e),a=e,{scopes:i}=a,r=Pi(a,["scopes"]),o=new it(i||[]);o.appendScopes(zn);let s=M(g({},r),{accountId:this.accountId,clientId:this.config.auth.clientId,authority:t.urlString,scope:o.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:this.getPrompt(e.prompt),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:g(g({},e.extraQueryParameters),e.tokenQueryParameters),extendedExpiryToken:!1,keyId:e.popKid});if(s.signPopToken&&e.popKid)throw x(Hl);if(this.handleExtraBrokerParams(s),s.extraParameters=s.extraParameters||{},s.extraParameters.telemetry=mn.MATS_TELEMETRY,e.authenticationScheme===fe.POP){let c={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},l=new Tn(this.browserCrypto),d;if(s.keyId)d=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:s.keyId})),s.signPopToken=!1;else{let u=await b(l.generateCnf.bind(l),f.PopTokenGenerateCnf,this.logger,this.performanceClient,this.correlationId)(c,this.logger);d=u.reqCnfString,s.keyId=u.kid,s.signPopToken=!0}s.reqCnf=d}return this.addRequestSKUs(s),s}async getCanonicalAuthority(e){let t=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:t,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});let i=new ae(t);return i.validateAsUri(),i}getPrompt(e){switch(this.apiId){case Ee.ssoSilent:case Ee.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),nt.NONE}if(!e){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e){case nt.NONE:case nt.CONSENT:case nt.LOGIN:case nt.SELECT_ACCOUNT:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e} is not compatible with native flow`),x(Bl)}}handleExtraBrokerParams(e){let t=e.extraParameters&&e.extraParameters.hasOwnProperty(Gr.BROKER_CLIENT_ID)&&e.extraParameters.hasOwnProperty(Gr.BROKER_REDIRECT_URI)&&e.extraParameters.hasOwnProperty(Gr.CLIENT_ID);if(!e.embeddedClientId&&!t)return;let i="",r=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,i=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[Gr.BROKER_REDIRECT_URI],i=e.extraParameters[Gr.CLIENT_ID]),e.extraParameters={child_client_id:i,child_redirect_uri:r},this.performanceClient?.addFields({embeddedClientId:i,embeddedRedirectUri:r},this.correlationId)}};async function rT(n,e,t,i,r){let o=lr.getStandardAuthorizeRequestParameters(M(g({},n.auth),{authority:e}),t,i,r);if(It.addLibraryInfo(o,{sku:st.MSAL_SKU,version:Gn,os:"",cpu:""}),n.auth.protocolMode!==Qe.OIDC&&It.addApplicationTelemetry(o,n.telemetry.application),t.platformBroker&&(It.addNativeBroker(o),r.addFields({isPlatformAuthorizeRequest:!0},t.correlationId),t.authenticationScheme===fe.POP)){let s=new Kl(i,r),a=new Tn(s),c;t.popKid?c=s.encodeKid(t.popKid):c=(await b(a.generateCnf.bind(a),f.PopTokenGenerateCnf,i,r,t.correlationId)(t,i)).reqCnfString,It.addPopToken(o,c)}return It.instrumentBrokerParams(o,t.correlationId,r),o}async function td(n,e,t,i,r){if(!t.codeChallenge)throw Ce(fn.pkceParamsMissing);let o=await b(rT,f.GetStandardParams,i,r,t.correlationId)(n,e,t,i,r);return It.addResponseType(o,ih.CODE),It.addCodeChallengeParams(o,t.codeChallenge,E.S256_CODE_CHALLENGE_METHOD),It.addExtraQueryParameters(o,t.extraQueryParameters||{}),lr.getAuthorizeUrl(e,o,n.auth.encodeExtraQueryParams,t.extraQueryParameters)}async function nd(n,e,t,i,r,o){if(!i.earJwk)throw x(lf);let s=await rT(e,t,i,r,o);It.addResponseType(s,ih.IDTOKEN_TOKEN_REFRESHTOKEN),It.addEARParameters(s,i.earJwk),It.addCodeChallengeParams(s,i.codeChallenge,E.S256_CODE_CHALLENGE_METHOD);let a=new Map;It.addExtraQueryParameters(a,i.extraQueryParameters||{});let c=lr.getAuthorizeUrl(t,a,e.auth.encodeExtraQueryParams,i.extraQueryParameters);return Dk(n,c,s)}async function id(n,e,t,i,r,o){let s=await rT(e,t,i,r,o);It.addResponseType(s,ih.CODE),It.addCodeChallengeParams(s,i.codeChallenge,i.codeChallengeMethod||E.S256_CODE_CHALLENGE_METHOD),It.addPostBodyParameters(s,i.authorizePostBodyParameters||{});let a=new Map;It.addExtraQueryParameters(a,i.extraQueryParameters||{});let c=lr.getAuthorizeUrl(t,a,e.auth.encodeExtraQueryParams,i.extraQueryParameters);return Dk(n,c,s)}function Dk(n,e,t){let i=n.createElement("form");return i.method="post",i.action=e,t.forEach((r,o)=>{let s=n.createElement("input");s.hidden=!0,s.name=o,s.value=r,i.appendChild(s)}),n.body.appendChild(i),i}async function xk(n,e,t,i,r,o,s,a,c,l){if(a.verbose("Account id found, calling WAM for token"),!l)throw x(es);let d=new Kl(a,c),u=new rs(i,r,d,a,s,i.system.navigationClient,t,c,l,e,o,n.correlationId),{userRequestState:p}=xi.parseRequestState(d,n.state);return b(u.acquireToken.bind(u),f.NativeInteractionClientAcquireToken,a,c,n.correlationId)(M(g({},n),{state:p,prompt:void 0}))}async function io(n,e,t,i,r,o,s,a,c,l,d,u){if(Qr.removeThrottle(s,r.auth.clientId,n),e.accountId)return b(xk,f.HandleResponsePlatformBroker,l,d,n.correlationId)(n,e.accountId,i,r,s,a,c,l,d,u);let p=M(g({},n),{code:e.code||"",codeVerifier:t}),m=new Xl(o,s,p,l,d);return await b(m.handleCodeResponse.bind(m),f.HandleCodeResponse,l,d,n.correlationId)(e,n)}async function rd(n,e,t,i,r,o,s,a,c,l,d){if(Qr.removeThrottle(o,i.auth.clientId,n),lr.validateAuthorizationResponse(e,n.state),!e.ear_jwe)throw x(lv);if(!n.earJwk)throw x(lf);let u=JSON.parse(await b(zR,f.DecryptEarResponse,c,l,n.correlationId)(n.earJwk,e.ear_jwe));if(u.accountId)return b(xk,f.HandleResponsePlatformBroker,c,l,n.correlationId)(n,u.accountId,t,i,o,s,a,c,l,d);let p=new Mi(i.auth.clientId,o,new Kl(c,l),c,null,null,l);p.validateTokenResponse(u);let m={code:"",state:n.state,nonce:n.nonce,client_info:u.client_info,cloud_graph_host_name:u.cloud_graph_host_name,cloud_instance_host_name:u.cloud_instance_host_name,cloud_instance_name:u.cloud_instance_name,msgraph_host:u.msgraph_host};return await b(p.handleServerTokenResponse.bind(p),f.HandleServerTokenResponse,c,l,n.correlationId)(u,r,Dt.nowSeconds(),n,m,void 0,void 0,void 0,void 0)}var Cz=32;async function Oi(n,e,t){n.addQueueMeasurement(f.GeneratePkceCodes,t);let i=rt(Ez,f.GenerateCodeVerifier,e,n,t)(n,e,t),r=await b(wz,f.GenerateCodeChallengeFromVerifier,e,n,t)(i,n,e,t);return{verifier:i,challenge:r}}function Ez(n,e,t){try{let i=new Uint8Array(Cz);return rt(UR,f.GetRandomValues,e,n,t)(i),ai(i)}catch{throw x(qa)}}async function wz(n,e,t,i){e.addQueueMeasurement(f.GenerateCodeChallengeFromVerifier,i);try{let r=await b(KI,f.Sha256Digest,t,e,i)(n,e,i);return ai(new Uint8Array(r))}catch{throw x(qa)}}var Uv=class n{constructor(e,t,i,r){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=r,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=i,this.handshakeEvent=i.startMeasurement(f.NativeMessageHandlerHandshake),this.platformAuthType=mn.PLATFORM_EXTENSION_PROVIDER}async sendMessage(e){this.logger.trace(this.platformAuthType+" - sendMessage called.");let t={method:jl.GetToken,request:e},i={channel:mn.CHANNEL_ID,extensionId:this.extensionId,responseId:Lt(),body:t};this.logger.trace(this.platformAuthType+" - Sending request to browser extension"),this.logger.tracePii(this.platformAuthType+` - Sending request to browser extension: ${JSON.stringify(i)}`),this.messageChannel.port1.postMessage(i);let r=await new Promise((s,a)=>{this.resolvers.set(i.responseId,{resolve:s,reject:a})});return this.validatePlatformBrokerResponse(r)}static async createProvider(e,t,i){e.trace("PlatformAuthExtensionHandler - createProvider called.");try{let r=new n(e,t,i,mn.PREFERRED_EXTENSION_ID);return await r.sendHandshakeRequest(),r}catch{let o=new n(e,t,i);return await o.sendHandshakeRequest(),o}}async sendHandshakeRequest(){this.logger.trace(this.platformAuthType+" - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);let e={channel:mn.CHANNEL_ID,extensionId:this.extensionId,responseId:Lt(),body:{method:jl.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=t=>{this.onChannelMessage(t)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((t,i)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:i}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),i(x(Fl)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace(this.platformAuthType+" - onWindowMessage called"),e.source!==window)return;let t=e.data;if(!(!t.channel||t.channel!==mn.CHANNEL_ID)&&!(t.extensionId&&t.extensionId!==this.extensionId)&&t.body.method===jl.HandshakeRequest){let i=this.handshakeResolvers.get(t.responseId);if(!i){this.logger.trace(this.platformAuthType+`.onWindowMessage - resolver can't be found for request ${t.responseId}`);return}this.logger.verbose(t.extensionId?`Extension with id: ${t.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),i.reject(x(Ll))}}onChannelMessage(e){this.logger.trace(this.platformAuthType+" - onChannelMessage called.");let t=e.data,i=this.resolvers.get(t.responseId),r=this.handshakeResolvers.get(t.responseId);try{let o=t.body.method;if(o===jl.Response){if(!i)return;let s=t.body.response;if(this.logger.trace(this.platformAuthType+" - Received response from browser extension"),this.logger.tracePii(this.platformAuthType+` - Received response from browser extension: ${JSON.stringify(s)}`),s.status!=="Success")i.reject(Ja(s.code,s.description,s.ext));else if(s.result)s.result.code&&s.result.description?i.reject(Ja(s.result.code,s.result.description,s.result.ext)):i.resolve(s.result);else throw ol(Po.unexpectedError,"Event does not contain result.");this.resolvers.delete(t.responseId)}else if(o===jl.HandshakeResponse){if(!r){this.logger.trace(this.platformAuthType+`.onChannelMessage - resolver can't be found for request ${t.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(this.platformAuthType+` - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),r.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${e}`),i?i.reject(o):r&&r.reject(o)}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw ol(Po.unexpectedError,"Response missing expected properties.")}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}getExtensionName(){return this.getExtensionId()===mn.PREFERRED_EXTENSION_ID?"chrome":this.getExtensionId()?.length?"unknown":void 0}};var Hv=class n{constructor(e,t,i){this.logger=e,this.performanceClient=t,this.correlationId=i,this.platformAuthType=mn.PLATFORM_DOM_PROVIDER}static async createProvider(e,t,i){if(e.trace("PlatformAuthDOMHandler: createProvider called"),window.navigator?.platformAuthentication&&(await window.navigator.platformAuthentication.getSupportedContracts(mn.MICROSOFT_ENTRA_BROKERID))?.includes(mn.PLATFORM_DOM_APIS))return e.trace("Platform auth api available in DOM"),new n(e,t,i)}getExtensionId(){return mn.MICROSOFT_ENTRA_BROKERID}getExtensionVersion(){return""}getExtensionName(){return mn.DOM_API_NAME}async sendMessage(e){this.logger.trace(this.platformAuthType+" - Sending request to browser DOM API");try{let t=this.initializePlatformDOMRequest(e),i=await window.navigator.platformAuthentication.executeGetToken(t);return this.validatePlatformBrokerResponse(i)}catch(t){throw this.logger.error(this.platformAuthType+" - executeGetToken DOM API error"),t}}initializePlatformDOMRequest(e){this.logger.trace(this.platformAuthType+" - initializeNativeDOMRequest called");let I=e,{accountId:t,clientId:i,authority:r,scope:o,redirectUri:s,correlationId:a,state:c,storeInCache:l,embeddedClientId:d,extraParameters:u}=I,p=Pi(I,["accountId","clientId","authority","scope","redirectUri","correlationId","state","storeInCache","embeddedClientId","extraParameters"]),m=this.getDOMExtraParams(p);return{accountId:t,brokerId:this.getExtensionId(),authority:r,clientId:i,correlationId:a||this.correlationId,extraParameters:g(g({},u),m),isSecurityTokenService:!1,redirectUri:s,scope:o,state:c,storeInCache:l,embeddedClientId:d}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("isSuccess")){if(e.hasOwnProperty("accessToken")&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("clientInfo")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scopes")&&e.hasOwnProperty("expiresIn"))return this.logger.trace(this.platformAuthType+" - platform broker returned successful and valid response"),this.convertToPlatformBrokerResponse(e);if(e.hasOwnProperty("error")){let t=e;if(t.isSuccess===!1&&t.error&&t.error.code)throw this.logger.trace(this.platformAuthType+" - platform broker returned error response"),Ja(t.error.code,t.error.description,{error:parseInt(t.error.errorCode),protocol_error:t.error.protocolError,status:t.error.status,properties:t.error.properties})}}throw ol(Po.unexpectedError,"Response missing expected properties.")}convertToPlatformBrokerResponse(e){return this.logger.trace(this.platformAuthType+" - convertToNativeResponse called"),{access_token:e.accessToken,id_token:e.idToken,client_info:e.clientInfo,account:e.account,expires_in:e.expiresIn,scope:e.scopes,state:e.state||"",properties:e.properties||{},extendedLifetimeToken:e.extendedLifetimeToken??!1,shr:e.proofOfPossessionPayload}}getDOMExtraParams(e){let t=Object.entries(e).reduce((r,[o,s])=>(r[o]=String(s),r),{});return g({},t)}};async function Mk(n,e,t,i){n.trace("getPlatformAuthProvider called",t);let r=Iz();n.trace("Has client allowed platform auth via DOM API: "+r);let o;try{r&&(o=await Hv.createProvider(n,e,t)),o||(n.trace("Platform auth via DOM API not available, checking for extension"),o=await Uv.createProvider(n,i||tT,e))}catch(s){n.trace("Platform auth not available",s)}return o}function Iz(){let n;try{return n=window[je.SessionStorage],n?.getItem(rk)==="true"}catch{return!1}}function ro(n,e,t,i){if(e.trace("isPlatformAuthAllowed called"),!n.system.allowPlatformBroker)return e.trace("isPlatformAuthAllowed: allowPlatformBroker is not enabled, returning false"),!1;if(!t)return e.trace("isPlatformAuthAllowed: Platform auth provider is not initialized, returning false"),!1;if(i)switch(i){case fe.BEARER:case fe.POP:return e.trace("isPlatformAuthAllowed: authenticationScheme is supported, returning true"),!0;default:return e.trace("isPlatformAuthAllowed: authenticationScheme is not supported, returning false"),!1}return!0}var Vv=class extends Sn{constructor(e,t,i,r,o,s,a,c,l,d){super(e,t,i,r,o,s,a,l,d),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=c,this.eventHandler=o}acquireToken(e,t){let i;try{if(i={popupName:this.generatePopupName(e.scopes||zn,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window},this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,i,t);{let o=M(g({},e),{httpMethod:Lv(e,this.config.auth.protocolMode)});return this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),i.popup=this.openSizedPopup("about:blank",i),this.acquireTokenPopupAsync(o,i,t)}}catch(r){return Promise.reject(r)}}logout(e){try{this.logger.verbose("logoutPopup called");let t=this.initializeLogoutRequest(e),i={popupName:this.generateLogoutPopupName(t),popupWindowAttributes:e?.popupWindowAttributes||{},popupWindowParent:e?.popupWindowParent??window},r=e&&e.authority,o=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,i,r,o)):(this.logger.verbose("asyncPopup set to false, opening popup"),i.popup=this.openSizedPopup("about:blank",i),this.logoutPopupAsync(t,i,r,o))}catch(t){return Promise.reject(t)}}async acquireTokenPopupAsync(e,t,i){this.logger.verbose("acquireTokenPopupAsync called");let r=await b(this.initializeAuthorizationRequest.bind(this),f.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,L.Popup);t.popup&&mf(r.authority);let o=ro(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);return r.platformBroker=o,this.config.auth.protocolMode===Qe.EAR?this.executeEarFlow(r,t,i):this.executeCodeFlow(r,t,i)}async executeCodeFlow(e,t,i){let r=e.correlationId,o=this.initializeServerTelemetryManager(Ee.acquireTokenPopup),s=i||await b(Oi,f.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),a=M(g({},e),{codeChallenge:s.challenge});try{let c=await b(this.createAuthCodeClient.bind(this),f.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,r)({serverTelemetryManager:o,requestAuthority:a.authority,requestAzureCloudOptions:a.azureCloudOptions,requestExtraQueryParameters:a.extraQueryParameters,account:a.account});if(a.httpMethod===oi.POST)return await this.executeCodeFlowWithPost(a,t,c,s.verifier);{let l=await b(td,f.GetAuthCodeUrl,this.logger,this.performanceClient,r)(this.config,c.authority,a,this.logger,this.performanceClient),d=this.initiateAuthRequest(l,t);this.eventHandler.emitEvent(N.POPUP_OPENED,L.Popup,{popupWindow:d},null);let u=await this.monitorPopupForHash(d,t.popupWindowParent),p=rt(Za,f.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(u,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await b(io,f.HandleResponseCode,this.logger,this.performanceClient,r)(e,p,s.verifier,Ee.acquireTokenPopup,this.config,c,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}catch(c){throw t.popup?.close(),c instanceof Z&&(c.setCorrelationId(this.correlationId),o.cacheFailedRequest(c)),c}}async executeEarFlow(e,t,i){let r=e.correlationId,o=await b(this.getDiscoveredAuthority.bind(this),f.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,r)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),s=await b($l,f.GenerateEarKey,this.logger,this.performanceClient,r)(),a=i||await b(Oi,f.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),c=M(g({},e),{earJwk:s,codeChallenge:a.challenge}),l=t.popup||this.openPopup("about:blank",t);(await nd(l.document,this.config,o,c,this.logger,this.performanceClient)).submit();let u=await b(this.monitorPopupForHash.bind(this),f.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(l,t.popupWindowParent),p=rt(Za,f.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(u,this.config.auth.OIDCOptions.serverResponseType,this.logger);if(!p.ear_jwe&&p.code){let m=await b(this.createAuthCodeClient.bind(this),f.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,r)({serverTelemetryManager:this.initializeServerTelemetryManager(Ee.acquireTokenPopup),requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account,authority:o});return b(io,f.HandleResponseCode,this.logger,this.performanceClient,r)(c,p,a.verifier,Ee.acquireTokenPopup,this.config,m,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}else return b(rd,f.HandleResponseEar,this.logger,this.performanceClient,r)(c,p,Ee.acquireTokenPopup,this.config,o,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async executeCodeFlowWithPost(e,t,i,r){let o=e.correlationId,s=await b(this.getDiscoveredAuthority.bind(this),f.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,o)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),a=t.popup||this.openPopup("about:blank",t);(await id(a.document,this.config,s,e,this.logger,this.performanceClient)).submit();let l=await b(this.monitorPopupForHash.bind(this),f.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,o)(a,t.popupWindowParent),d=rt(Za,f.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(l,this.config.auth.OIDCOptions.serverResponseType,this.logger);return b(io,f.HandleResponseCode,this.logger,this.performanceClient,o)(e,d,r,Ee.acquireTokenPopup,this.config,i,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async logoutPopupAsync(e,t,i,r){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(N.LOGOUT_START,L.Popup,e);let o=this.initializeServerTelemetryManager(Ee.logoutPopup);try{await this.clearCacheOnLogout(this.correlationId,e.account);let s=await b(this.createAuthCodeClient.bind(this),f.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:i,account:e.account||void 0});try{s.authority.endSessionEndpoint}catch{if(e.account?.homeAccountId&&e.postLogoutRedirectUri&&s.authority.protocolMode===Qe.OIDC){if(this.eventHandler.emitEvent(N.LOGOUT_SUCCESS,L.Popup,e),r){let l={apiId:Ee.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},d=ae.getAbsoluteUrl(r,gn());await this.navigationClient.navigateInternal(d,l)}t.popup?.close();return}}let a=s.getLogoutUri(e);this.eventHandler.emitEvent(N.LOGOUT_SUCCESS,L.Popup,e);let c=this.openPopup(a,t);if(this.eventHandler.emitEvent(N.POPUP_OPENED,L.Popup,{popupWindow:c},null),await this.monitorPopupForHash(c,t.popupWindowParent).catch(()=>{}),r){let l={apiId:Ee.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},d=ae.getAbsoluteUrl(r,gn());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${d}`),await this.navigationClient.navigateInternal(d,l)}else this.logger.verbose("No main window navigation requested")}catch(s){throw t.popup?.close(),s instanceof Z&&(s.setCorrelationId(this.correlationId),o.cacheFailedRequest(s)),this.eventHandler.emitEvent(N.LOGOUT_FAILURE,L.Popup,null,s),this.eventHandler.emitEvent(N.LOGOUT_END,L.Popup),s}this.eventHandler.emitEvent(N.LOGOUT_END,L.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),x(dr)}monitorPopupForHash(e,t){return new Promise((i,r)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");let o=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(o),r(x(Ri));return}let s="";try{s=e.location.href}catch{}if(!s||s==="about:blank")return;clearInterval(o);let a="",c=this.config.auth.OIDCOptions.serverResponseType;e&&(c===tr.QUERY?a=e.location.search:a=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),i(a)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,t)})}openPopup(e,t){try{let i;if(t.popup?(i=t.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),i.location.assign(e)):typeof t.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),i=this.openSizedPopup(e,t)),!i)throw x(Cl);return i.focus&&i.focus(),this.currentWindow=i,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),i}catch(i){throw this.logger.error("error opening popup "+i.message),x(bl)}}openSizedPopup(e,{popupName:t,popupWindowAttributes:i,popupWindowParent:r}){let o=r.screenLeft?r.screenLeft:r.screenX,s=r.screenTop?r.screenTop:r.screenY,a=r.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=r.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,l=i.popupSize?.width,d=i.popupSize?.height,u=i.popupPosition?.top,p=i.popupPosition?.left;return(!l||l<0||l>a)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),l=st.POPUP_WIDTH),(!d||d<0||d>c)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),d=st.POPUP_HEIGHT),(!u||u<0||u>c)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),u=Math.max(0,c/2-st.POPUP_HEIGHT/2+s)),(!p||p<0||p>a)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),p=Math.max(0,a/2-st.POPUP_WIDTH/2+o)),r.open(e,t,`width=${l}, height=${d}, top=${u}, left=${p}, scrollbars=yes`)}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,t){return`${st.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${t}.${this.correlationId}`}generateLogoutPopupName(e){let t=e.account&&e.account.homeAccountId;return`${st.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${t}.${this.correlationId}`}};function Tz(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;let n=window.performance.getEntriesByType("navigation");return(n.length?n[0]:void 0)?.type}var jv=class extends Sn{constructor(e,t,i,r,o,s,a,c,l,d){super(e,t,i,r,o,s,a,l,d),this.nativeStorage=c}async acquireToken(e){let t=await b(this.initializeAuthorizationRequest.bind(this),f.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,L.Redirect);t.platformBroker=ro(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);let i=o=>{o.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(N.RESTORE_FROM_BFCACHE,L.Redirect))},r=this.getRedirectStartPage(e.redirectStartPage);this.logger.verbosePii(`Redirect start page: ${r}`),this.browserStorage.setTemporaryCache(at.ORIGIN_URI,r,!0),window.addEventListener("pageshow",i);try{this.config.auth.protocolMode===Qe.EAR?await this.executeEarFlow(t):await this.executeCodeFlow(t,e.onRedirectNavigate)}catch(o){throw o instanceof Z&&o.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",i),o}}async executeCodeFlow(e,t){let i=e.correlationId,r=this.initializeServerTelemetryManager(Ee.acquireTokenRedirect),o=await b(Oi,f.GeneratePkceCodes,this.logger,this.performanceClient,i)(this.performanceClient,this.logger,i),s=M(g({},e),{codeChallenge:o.challenge});this.browserStorage.cacheAuthorizeRequest(s,o.verifier);try{if(s.httpMethod===oi.POST)return await this.executeCodeFlowWithPost(s);{let a=await b(this.createAuthCodeClient.bind(this),f.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:s.authority,requestAzureCloudOptions:s.azureCloudOptions,requestExtraQueryParameters:s.extraQueryParameters,account:s.account}),c=await b(td,f.GetAuthCodeUrl,this.logger,this.performanceClient,e.correlationId)(this.config,a.authority,s,this.logger,this.performanceClient);return await this.initiateAuthRequest(c,t)}}catch(a){throw a instanceof Z&&(a.setCorrelationId(this.correlationId),r.cacheFailedRequest(a)),a}}async executeEarFlow(e){let t=e.correlationId,i=await b(this.getDiscoveredAuthority.bind(this),f.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),r=await b($l,f.GenerateEarKey,this.logger,this.performanceClient,t)(),o=await b(Oi,f.GeneratePkceCodes,this.logger,this.performanceClient,t)(this.performanceClient,this.logger,t),s=M(g({},e),{earJwk:r,codeChallenge:o.challenge});return this.browserStorage.cacheAuthorizeRequest(s,o.verifier),(await nd(document,this.config,i,s,this.logger,this.performanceClient)).submit(),new Promise((c,l)=>{setTimeout(()=>{l(x(Ya,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async executeCodeFlowWithPost(e){let t=e.correlationId,i=await b(this.getDiscoveredAuthority.bind(this),f.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return this.browserStorage.cacheAuthorizeRequest(e),(await id(document,this.config,i,e,this.logger,this.performanceClient)).submit(),new Promise((o,s)=>{setTimeout(()=>{s(x(Ya,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async handleRedirectPromise(e="",t,i,r){let o=this.initializeServerTelemetryManager(Ee.handleRedirectPromise);try{let[s,a]=this.getRedirectResponse(e||"");if(!s)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),Tz()!=="back_forward"?r.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;let c=this.browserStorage.getTemporaryCache(at.ORIGIN_URI,!0)||E.EMPTY_STRING,l=sr.normalizeUrlForComparison(c),d=sr.normalizeUrlForComparison(window.location.href);if(l===d&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),c.indexOf("#")>-1&&JI(c),await this.handleResponse(s,t,i,o);if(this.config.auth.navigateToLoginRequestUrl){if(!ff()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(at.URL_HASH,a,!0);let u={apiId:Ee.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0},p=!0;if(!c||c==="null"){let m=XI();this.browserStorage.setTemporaryCache(at.ORIGIN_URI,m,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),p=await this.navigationClient.navigateInternal(m,u)}else this.logger.verbose(`Navigating to loginRequestUrl: ${c}`),p=await this.navigationClient.navigateInternal(c,u);if(!p)return await this.handleResponse(s,t,i,o)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(s,t,i,o);return null}catch(s){throw s instanceof Z&&(s.setCorrelationId(this.correlationId),o.cacheFailedRequest(s)),s}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(this.config.auth.OIDCOptions.serverResponseType===tr.QUERY?t=window.location.search:t=window.location.hash);let i=sr.getDeserializedResponse(t);if(i){try{_k(i,this.browserCrypto,L.Redirect)}catch(o){return o instanceof Z&&this.logger.error(`Interaction type validation failed due to ${o.errorCode}: ${o.errorMessage}`),[null,""]}return hf(window),this.logger.verbose("Hash contains known properties, returning response hash"),[i,t]}let r=this.browserStorage.getTemporaryCache(at.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(at.URL_HASH)),r&&(i=sr.getDeserializedResponse(r),i)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[i,r]):[null,""]}async handleResponse(e,t,i,r){if(!e.state)throw x(Zo);if(e.ear_jwe){let a=await b(this.getDiscoveredAuthority.bind(this),f.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,t.correlationId)({requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account});return b(rd,f.HandleResponseEar,this.logger,this.performanceClient,t.correlationId)(t,e,Ee.acquireTokenRedirect,this.config,a,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}let s=await b(this.createAuthCodeClient.bind(this),f.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:t.authority});return b(io,f.HandleResponseCode,this.logger,this.performanceClient,t.correlationId)(t,e,i,Ee.acquireTokenRedirect,this.config,s,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);let i={apiId:Ee.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},r=t||this.config.auth.onRedirectNavigate;if(typeof r=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),r(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await this.navigationClient.navigateExternal(e,i);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await this.navigationClient.navigateExternal(e,i);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),x(dr)}async logout(e){this.logger.verbose("logoutRedirect called");let t=this.initializeLogoutRequest(e),i=this.initializeServerTelemetryManager(Ee.logout);try{this.eventHandler.emitEvent(N.LOGOUT_START,L.Redirect,e),await this.clearCacheOnLogout(this.correlationId,t.account);let r={apiId:Ee.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},o=await b(this.createAuthCodeClient.bind(this),f.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:e&&e.authority,requestExtraQueryParameters:e?.extraQueryParameters,account:e&&e.account||void 0});if(o.authority.protocolMode===Qe.OIDC)try{o.authority.endSessionEndpoint}catch{if(t.account?.homeAccountId){this.eventHandler.emitEvent(N.LOGOUT_SUCCESS,L.Redirect,t);return}}let s=o.getLogoutUri(t);if(this.eventHandler.emitEvent(N.LOGOUT_SUCCESS,L.Redirect,t),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(s)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,ki.SIGNOUT),await this.navigationClient.navigateExternal(s,r);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,ki.SIGNOUT),await this.navigationClient.navigateExternal(s,r);return}}catch(r){throw r instanceof Z&&(r.setCorrelationId(this.correlationId),i.cacheFailedRequest(r)),this.eventHandler.emitEvent(N.LOGOUT_FAILURE,L.Redirect,null,r),this.eventHandler.emitEvent(N.LOGOUT_END,L.Redirect),r}this.eventHandler.emitEvent(N.LOGOUT_END,L.Redirect)}getRedirectStartPage(e){let t=e||window.location.href;return ae.getAbsoluteUrl(t,gn())}};async function Rk(n,e,t,i,r){if(e.addQueueMeasurement(f.SilentHandlerInitiateAuthRequest,i),!n)throw t.info("Navigate url is empty"),x(dr);return r?b(Sz,f.SilentHandlerLoadFrame,t,e,i)(n,r,e,i):rt(Az,f.SilentHandlerLoadFrameSync,t,e,i)(n)}async function kk(n,e,t,i,r){let o=zv();if(!o.contentDocument)throw"No document associated with iframe!";return(await id(o.contentDocument,n,e,t,i,r)).submit(),o}async function Ok(n,e,t,i,r){let o=zv();if(!o.contentDocument)throw"No document associated with iframe!";return(await nd(o.contentDocument,n,e,t,i,r)).submit(),o}async function oT(n,e,t,i,r,o,s){return i.addQueueMeasurement(f.SilentHandlerMonitorIframeForHash,o),new Promise((a,c)=>{e<Av&&r.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${Av}ms). This may result in timeouts.`);let l=window.setTimeout(()=>{window.clearInterval(d),c(x(El))},e),d=window.setInterval(()=>{let u="",p=n.contentWindow;try{u=p?p.location.href:""}catch{}if(!u||u==="about:blank")return;let m="";p&&(s===tr.QUERY?m=p.location.search:m=p.location.hash),window.clearTimeout(l),window.clearInterval(d),a(m)},t)}).finally(()=>{rt(Dz,f.RemoveHiddenIframe,r,i,o)(n)})}function Sz(n,e,t,i){return t.addQueueMeasurement(f.SilentHandlerLoadFrame,i),new Promise((r,o)=>{let s=zv();window.setTimeout(()=>{if(!s){o("Unable to load iframe");return}s.src=n,r(s)},e)})}function Az(n){let e=zv();return e.src=n,e}function zv(){let n=document.createElement("iframe");return n.className="msalSilentIframe",n.style.visibility="hidden",n.style.position="absolute",n.style.width=n.style.height="0",n.style.border="0",n.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),n.setAttribute("allow","local-network-access *"),document.body.appendChild(n),n}function Dz(n){document.body===n.parentNode&&document.body.removeChild(n)}var $v=class extends Sn{constructor(e,t,i,r,o,s,a,c,l,d,u){super(e,t,i,r,o,s,c,d,u),this.apiId=a,this.nativeStorage=l}async acquireToken(e){this.performanceClient.addQueueMeasurement(f.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");let t=g({},e);t.prompt?t.prompt!==nt.NONE&&t.prompt!==nt.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${t.prompt} with ${nt.NONE}`),t.prompt=nt.NONE):t.prompt=nt.NONE;let i=await b(this.initializeAuthorizationRequest.bind(this),f.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(t,L.Silent);return i.platformBroker=ro(this.config,this.logger,this.platformAuthProvider,i.authenticationScheme),mf(i.authority),this.config.auth.protocolMode===Qe.EAR?this.executeEarFlow(i):this.executeCodeFlow(i)}async executeCodeFlow(e){let t,i=this.initializeServerTelemetryManager(this.apiId);try{return t=await b(this.createAuthCodeClient.bind(this),f.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:i,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),await b(this.silentTokenHelper.bind(this),f.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(t,e)}catch(r){if(r instanceof Z&&(r.setCorrelationId(this.correlationId),i.cacheFailedRequest(r)),!t||!(r instanceof Z)||r.errorCode!==st.INVALID_GRANT_ERROR)throw r;return this.performanceClient.addFields({retryError:r.errorCode},this.correlationId),await b(this.silentTokenHelper.bind(this),f.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(t,e)}}async executeEarFlow(e){let t=e.correlationId,i=await b(this.getDiscoveredAuthority.bind(this),f.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),r=await b($l,f.GenerateEarKey,this.logger,this.performanceClient,t)(),o=await b(Oi,f.GeneratePkceCodes,this.logger,this.performanceClient,t)(this.performanceClient,this.logger,t),s=M(g({},e),{earJwk:r,codeChallenge:o.challenge}),a=await b(Ok,f.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,t)(this.config,i,s,this.logger,this.performanceClient),c=this.config.auth.OIDCOptions.serverResponseType,l=await b(oT,f.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,t)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,t,c),d=rt(Za,f.DeserializeResponse,this.logger,this.performanceClient,t)(l,c,this.logger);if(!d.ear_jwe&&d.code){let u=await b(this.createAuthCodeClient.bind(this),f.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,t)({serverTelemetryManager:this.initializeServerTelemetryManager(this.apiId),requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account,authority:i});return b(io,f.HandleResponseCode,this.logger,this.performanceClient,t)(s,d,o.verifier,this.apiId,this.config,u,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}else return b(rd,f.HandleResponseEar,this.logger,this.performanceClient,t)(s,d,this.apiId,this.config,i,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}logout(){return Promise.reject(x(ur))}async silentTokenHelper(e,t){let i=t.correlationId;this.performanceClient.addQueueMeasurement(f.SilentIframeClientTokenHelper,i);let r=await b(Oi,f.GeneratePkceCodes,this.logger,this.performanceClient,i)(this.performanceClient,this.logger,i),o=M(g({},t),{codeChallenge:r.challenge}),s;if(t.httpMethod===oi.POST)s=await b(kk,f.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,i)(this.config,e.authority,o,this.logger,this.performanceClient);else{let d=await b(td,f.GetAuthCodeUrl,this.logger,this.performanceClient,i)(this.config,e.authority,o,this.logger,this.performanceClient);s=await b(Rk,f.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,i)(d,this.performanceClient,this.logger,i,this.config.system.navigateFrameWait)}let a=this.config.auth.OIDCOptions.serverResponseType,c=await b(oT,f.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,i)(s,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,i,a),l=rt(Za,f.DeserializeResponse,this.logger,this.performanceClient,i)(c,a,this.logger);return b(io,f.HandleResponseCode,this.logger,this.performanceClient,i)(t,l,r.verifier,this.apiId,this.config,e,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}};var Gv=class extends Sn{async acquireToken(e){this.performanceClient.addQueueMeasurement(f.SilentRefreshClientAcquireToken,e.correlationId);let t=await b(vf,f.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),i=g(g({},e),t);e.redirectUri&&(i.redirectUri=this.getRedirectUri(e.redirectUri));let r=this.initializeServerTelemetryManager(Ee.acquireTokenSilent_silentFlow),o=await this.createRefreshTokenClient({serverTelemetryManager:r,authorityUrl:i.authority,azureCloudOptions:i.azureCloudOptions,account:i.account});return b(o.acquireTokenByRefreshToken.bind(o),f.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(i).catch(s=>{throw s.setCorrelationId(this.correlationId),r.cacheFailedRequest(s),s})}logout(){return Promise.reject(x(ur))}async createRefreshTokenClient(e){let t=await b(this.getClientConfiguration.bind(this),f.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new sf(t,this.performanceClient)}};var qv=class{constructor(e,t,i,r){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=t,this.logger=i,this.cryptoObj=r}async loadExternalTokens(e,t,i){if(!this.isBrowserEnvironment)throw x(hr);let r=e.correlationId||Lt(),o=t.id_token?wt.extractTokenClaims(t.id_token,xt):void 0,s=wt.isKmsi(o||{}),a={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},c=e.authority?new si(si.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,a,this.logger,e.correlationId||Lt()):void 0,l=await this.loadAccount(e,i.clientInfo||t.client_info||"",r,o,c),d=await this.loadIdToken(t,l.homeAccountId,l.environment,l.realm,r,s),u=await this.loadAccessToken(e,t,l.homeAccountId,l.environment,l.realm,i,r,s),p=await this.loadRefreshToken(t,l.homeAccountId,l.environment,r,s);return this.generateAuthenticationResult(e,{account:l,idToken:d,accessToken:u,refreshToken:p},o,c)}async loadAccount(e,t,i,r,o){if(this.logger.verbose("TokenCache - loading account"),e.account){let l=He.createFromAccountInfo(e.account);return await this.storage.setAccount(l,i,wt.isKmsi(r||{})),l}else if(!o||!t&&!r)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),x(Rl);let s=He.generateHomeAccountId(t,o.authorityType,this.logger,this.cryptoObj,r),a=r?.tid,c=pl(this.storage,o,s,xt,i,r,t,o.hostnameAndPort,a,void 0,void 0,this.logger);return await this.storage.setAccount(c,i,wt.isKmsi(r||{})),c}async loadIdToken(e,t,i,r,o,s){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");let a=ot.createIdTokenEntity(t,i,e.id_token,this.config.auth.clientId,r);return await this.storage.setIdTokenCredential(a,o,s),a}async loadAccessToken(e,t,i,r,o,s,a,c){if(t.access_token)if(t.expires_in){if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");let l=t.scope?it.fromString(t.scope):new it(e.scopes),d=s.expiresOn||t.expires_in+Dt.nowSeconds(),u=s.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+Dt.nowSeconds(),p=ot.createAccessTokenEntity(i,r,t.access_token,this.config.auth.clientId,o,l.printScopes(),d,u,xt);return await this.storage.setAccessTokenCredential(p,a,c),p}async loadRefreshToken(e,t,i,r,o){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");let s=ot.createRefreshTokenEntity(t,i,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(s,r,o),s}generateAuthenticationResult(e,t,i,r){let o="",s=[],a=null,c;t?.accessToken&&(o=t.accessToken.secret,s=it.fromString(t.accessToken.target).asArray(),a=Dt.toDateFromSeconds(t.accessToken.expiresOn),c=Dt.toDateFromSeconds(t.accessToken.extendedExpiresOn));let l=t.account;return{authority:r?r.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:s,account:He.getAccountInfo(l),idToken:t.idToken?.secret||"",idTokenClaims:i||{},accessToken:o,fromCache:!0,expiresOn:a,correlationId:e.correlationId||"",requestId:"",extExpiresOn:c,familyId:t.refreshToken?.familyId||"",tokenType:t?.accessToken?.tokenType||"",state:e.state||"",cloudGraphHostName:l.cloudGraphHostName||"",msGraphHost:l.msGraphHost||"",fromNativeBroker:!1}}};var Wv=class extends $a{constructor(e){super(e),this.includeRedirectUri=!1}};var Kv=class extends Sn{constructor(e,t,i,r,o,s,a,c,l,d){super(e,t,i,r,o,s,c,l,d),this.apiId=a}async acquireToken(e){if(!e.code)throw x(kl);let t=await b(this.initializeAuthorizationRequest.bind(this),f.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,L.Silent),i=this.initializeServerTelemetryManager(this.apiId);try{let r=M(g({},t),{code:e.code}),o=await b(this.getClientConfiguration.bind(this),f.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:i,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),s=new Wv(o);this.logger.verbose("Auth code client created");let a=new Xl(s,this.browserStorage,r,this.logger,this.performanceClient);return await b(a.handleCodeResponseFromServer.bind(a),f.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(r){throw r instanceof Z&&(r.setCorrelationId(this.correlationId),i.cacheFailedRequest(r)),r}}logout(){return Promise.reject(x(ur))}};function Nk(n,e,t){let i=window.msal?.clientIds||[],r=i.length,o=i.filter(s=>s===n).length;o>1&&t.warning("There is already an instance of MSAL.js in the window with the same client id."),e.add({msalInstanceCount:r,sameClientIdInstanceCount:o})}function Yv(n,e,t){try{pf(n)}catch(i){throw e.end({success:!1},i,t),i}}var od=class n{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Kl(this.logger,this.performanceClient):Vo,this.eventHandler=new Fv(this.logger),this.browserStorage=this.isBrowserEnvironment?new Zl(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,RI(this.config.auth)):lk(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);let t={cacheLocation:je.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:je.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Zl(this.config.auth.clientId,t,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new qv(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,t){let i=new n(e);return await i.initialize(t),i}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e,t){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(N.INITIALIZE_END);return}let i=e?.correlationId||this.getRequestCorrelationId(),r=this.config.system.allowPlatformBroker,o=this.performanceClient.startMeasurement(f.InitializeClientApplication,i);if(this.eventHandler.emitEvent(N.INITIALIZE_START),!t)try{this.logMultipleInstances(o)}catch{}if(await b(this.browserStorage.initialize.bind(this.browserStorage),f.InitializeCache,this.logger,this.performanceClient,i)(i),r)try{this.platformAuthProvider=await Mk(this.logger,this.performanceClient,i,this.config.system.nativeBrokerHandshakeTimeout)}catch(s){this.logger.verbose(s)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),rt(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),f.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,i)(i)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(i),this.initialized=!0,this.eventHandler.emitEvent(N.INITIALIZE_END),o.end({allowPlatformBroker:r,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),wv(this.initialized),this.isBrowserEnvironment){let t=e||"",i=this.redirectResponse.get(t);return typeof i>"u"?(i=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,i),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),i}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;if(this.browserStorage.getInteractionInProgress()?.type===ki.SIGNOUT)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);let i=this.getAllAccounts(),r=this.browserStorage.getCachedNativeRequest(),o=r&&this.platformAuthProvider&&!e,s;this.eventHandler.emitEvent(N.HANDLE_REDIRECT_START,L.Redirect);let a;try{if(o&&this.platformAuthProvider){s=this.performanceClient.startMeasurement(f.AcquireTokenRedirect,r?.correlationId||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform"),s.add({isPlatformBrokerRequest:!0});let c=new rs(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Ee.handleRedirectPromise,this.performanceClient,this.platformAuthProvider,r.accountId,this.nativeInternalStorage,r.correlationId);a=b(c.handleRedirectPromise.bind(c),f.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(this.performanceClient,s.event.correlationId)}else{let[c,l]=this.browserStorage.getCachedRequest(),d=c.correlationId;s=this.performanceClient.startMeasurement(f.AcquireTokenRedirect,d),this.logger.trace("handleRedirectPromise - acquiring token from web flow");let u=this.createRedirectClient(d);a=b(u.handleRedirectPromise.bind(u),f.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(e,c,l,s)}}catch(c){throw this.browserStorage.resetRequestCache(),c}return a.then(c=>(c?(this.browserStorage.resetRequestCache(),i.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(N.LOGIN_SUCCESS,L.Redirect,c),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(N.ACQUIRE_TOKEN_SUCCESS,L.Redirect,c),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),s.end({success:!0},void 0,c.account)):s.event.errorCode?s.end({success:!1},void 0):s.discard(),this.eventHandler.emitEvent(N.HANDLE_REDIRECT_END,L.Redirect),c)).catch(c=>{this.browserStorage.resetRequestCache();let l=c;throw i.length>0?this.eventHandler.emitEvent(N.ACQUIRE_TOKEN_FAILURE,L.Redirect,null,l):this.eventHandler.emitEvent(N.LOGIN_FAILURE,L.Redirect,null,l),this.eventHandler.emitEvent(N.HANDLE_REDIRECT_END,L.Redirect),s.end({success:!1},l),c})}async acquireTokenRedirect(e){let t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);let i=this.performanceClient.startMeasurement(f.AcquireTokenPreRedirect,t);i.add({scenarioId:e.scenarioId});let r=e.onRedirectNavigate;if(r)e.onRedirectNavigate=s=>{let a=typeof r=="function"?r(s):void 0;return i.add({navigateCallbackResult:a!==!1}),i.event=i.end({success:!0},void 0,e.account)||i.event,a};else{let s=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=a=>{let c=typeof s=="function"?s(a):void 0;return i.add({navigateCallbackResult:c!==!1}),i.event=i.end({success:!0},void 0,e.account)||i.event,c}}let o=this.getAllAccounts().length>0;try{Iv(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,ki.SIGNIN),o?this.eventHandler.emitEvent(N.ACQUIRE_TOKEN_START,L.Redirect,e):this.eventHandler.emitEvent(N.LOGIN_START,L.Redirect,e);let s;return this.platformAuthProvider&&this.canUsePlatformBroker(e)?s=new rs(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Ee.acquireTokenRedirect,this.performanceClient,this.platformAuthProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,i).catch(c=>{if(i.add({brokerErrorName:c.name,brokerErrorCode:c.errorCode}),c instanceof ci&&is(c))return this.platformAuthProvider=void 0,this.createRedirectClient(t).acquireToken(e);if(c instanceof jt)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(t).acquireToken(e);throw c}):s=this.createRedirectClient(t).acquireToken(e),await s}catch(s){throw this.browserStorage.resetRequestCache(),i.event.status===2?this.performanceClient.startMeasurement(f.AcquireTokenRedirect,t).end({success:!1},s,e.account):i.end({success:!1},s,e.account),o?this.eventHandler.emitEvent(N.ACQUIRE_TOKEN_FAILURE,L.Redirect,null,s):this.eventHandler.emitEvent(N.LOGIN_FAILURE,L.Redirect,null,s),s}}acquireTokenPopup(e){let t=this.getRequestCorrelationId(e),i=this.performanceClient.startMeasurement(f.AcquireTokenPopup,t);i.add({scenarioId:e.scenarioId});try{this.logger.verbose("acquireTokenPopup called",t),Yv(this.initialized,i,e.account),this.browserStorage.setInteractionInProgress(!0,ki.SIGNIN)}catch(a){return Promise.reject(a)}let r=this.getAllAccounts();r.length>0?this.eventHandler.emitEvent(N.ACQUIRE_TOKEN_START,L.Popup,e):this.eventHandler.emitEvent(N.LOGIN_START,L.Popup,e);let o,s=this.getPreGeneratedPkceCodes(t);return this.canUsePlatformBroker(e)?(i.add({isPlatformBrokerRequest:!0}),o=this.acquireTokenNative(M(g({},e),{correlationId:t}),Ee.acquireTokenPopup).then(a=>(i.end({success:!0},void 0,a.account),a)).catch(a=>{if(i.add({brokerErrorName:a.name,brokerErrorCode:a.errorCode}),a instanceof ci&&is(a))return this.platformAuthProvider=void 0,this.createPopupClient(t).acquireToken(e,s);if(a instanceof jt)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(t).acquireToken(e,s);throw a})):o=this.createPopupClient(t).acquireToken(e,s),o.then(a=>(r.length<this.getAllAccounts().length?this.eventHandler.emitEvent(N.LOGIN_SUCCESS,L.Popup,a):this.eventHandler.emitEvent(N.ACQUIRE_TOKEN_SUCCESS,L.Popup,a),i.end({success:!0,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length},void 0,a.account),a)).catch(a=>(r.length>0?this.eventHandler.emitEvent(N.ACQUIRE_TOKEN_FAILURE,L.Popup,null,a):this.eventHandler.emitEvent(N.LOGIN_FAILURE,L.Popup,null,a),i.end({success:!1},a,e.account),Promise.reject(a))).finally(async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(t)})}trackPageVisibilityWithMeasurement(){let e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){let t=this.getRequestCorrelationId(e),i=M(g({},e),{prompt:e.prompt,correlationId:t});this.ssoSilentMeasurement=this.performanceClient.startMeasurement(f.SsoSilent,t),this.ssoSilentMeasurement?.add({scenarioId:e.scenarioId}),Yv(this.initialized,this.ssoSilentMeasurement,e.account),this.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent(N.SSO_SILENT_START,L.Silent,i);let r;return this.canUsePlatformBroker(i)?(this.ssoSilentMeasurement?.add({isPlatformBrokerRequest:!0}),r=this.acquireTokenNative(i,Ee.ssoSilent).catch(o=>{if(this.ssoSilentMeasurement?.add({brokerErrorName:o.name,brokerErrorCode:o.errorCode}),o instanceof ci&&is(o))return this.platformAuthProvider=void 0,this.createSilentIframeClient(i.correlationId).acquireToken(i);throw o})):r=this.createSilentIframeClient(i.correlationId).acquireToken(i),r.then(o=>(this.eventHandler.emitEvent(N.SSO_SILENT_SUCCESS,L.Silent,o),this.ssoSilentMeasurement?.end({success:!0,accessTokenSize:o.accessToken.length,idTokenSize:o.idToken.length},void 0,o.account),o)).catch(o=>{throw this.eventHandler.emitEvent(N.SSO_SILENT_FAILURE,L.Silent,null,o),this.ssoSilentMeasurement?.end({success:!1},o,e.account),o}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){let t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);let i=this.performanceClient.startMeasurement(f.AcquireTokenByCode,t);Yv(this.initialized,i),this.eventHandler.emitEvent(N.ACQUIRE_TOKEN_BY_CODE_START,L.Silent,e),i.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw x(Nl);if(e.code){let r=e.code,o=this.hybridAuthCodeResponses.get(r);return o?(this.logger.verbose("Existing acquireTokenByCode request found",t),i.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),o=this.acquireTokenByCodeAsync(M(g({},e),{correlationId:t})).then(s=>(this.eventHandler.emitEvent(N.ACQUIRE_TOKEN_BY_CODE_SUCCESS,L.Silent,s),this.hybridAuthCodeResponses.delete(r),i.end({success:!0,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length},void 0,s.account),s)).catch(s=>{throw this.hybridAuthCodeResponses.delete(r),this.eventHandler.emitEvent(N.ACQUIRE_TOKEN_BY_CODE_FAILURE,L.Silent,null,s),i.end({success:!1},s),s}),this.hybridAuthCodeResponses.set(r,o)),await o}else if(e.nativeAccountId)if(this.canUsePlatformBroker(e,e.nativeAccountId)){i.add({isPlatformBrokerRequest:!0});let r=await this.acquireTokenNative(M(g({},e),{correlationId:t}),Ee.acquireTokenByCode,e.nativeAccountId).catch(o=>{throw o instanceof ci&&is(o)&&(this.platformAuthProvider=void 0),i.add({brokerErrorName:o.name,brokerErrorCode:o.errorCode}),o});return i.end({success:!0},void 0,r.account),r}else throw x(Pl);else throw x(Ol)}catch(r){throw this.eventHandler.emitEvent(N.ACQUIRE_TOKEN_BY_CODE_FAILURE,L.Silent,null,r),i.end({success:!1},r),r}}async acquireTokenByCodeAsync(e){return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(f.AcquireTokenByCodeAsync,e.correlationId),this.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(r=>(this.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:r.fromCache}),r)).catch(r=>{throw this.acquireTokenByCodeAsyncMeasurement?.end({success:!1},r),r}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,t){switch(this.performanceClient.addQueueMeasurement(f.AcquireTokenFromCache,e.correlationId),t){case zt.Default:case zt.AccessToken:case zt.AccessTokenAndRefreshToken:let i=this.createSilentCacheClient(e.correlationId);return b(i.acquireToken.bind(i),f.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw T(Ft.tokenRefreshRequired)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(f.AcquireTokenByRefreshToken,e.correlationId),t){case zt.Default:case zt.AccessTokenAndRefreshToken:case zt.RefreshToken:case zt.RefreshTokenAndNetwork:let i=this.createSilentRefreshClient(e.correlationId);return b(i.acquireToken.bind(i),f.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw T(Ft.tokenRefreshRequired)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(f.AcquireTokenBySilentIframe,e.correlationId);let t=this.createSilentIframeClient(e.correlationId);return b(t.acquireToken.bind(t),f.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){let t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect(g({correlationId:t},e))}async logoutRedirect(e){let t=this.getRequestCorrelationId(e);return Iv(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,ki.SIGNOUT),this.createRedirectClient(t).logout(e)}logoutPopup(e){try{let t=this.getRequestCorrelationId(e);return pf(this.initialized),this.browserStorage.setInteractionInProgress(!0,ki.SIGNOUT),this.createPopupClient(t).logout(e).finally(()=>{this.browserStorage.setInteractionInProgress(!1)})}catch(t){return Promise.reject(t)}}async clearCache(e){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}let t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){let t=this.getRequestCorrelationId();return dk(this.logger,this.browserStorage,this.isBrowserEnvironment,t,e)}getAccount(e){let t=this.getRequestCorrelationId();return uk(e,this.logger,this.browserStorage,t)}getAccountByUsername(e){let t=this.getRequestCorrelationId();return hk(e,this.logger,this.browserStorage,t)}getAccountByHomeId(e){let t=this.getRequestCorrelationId();return fk(e,this.logger,this.browserStorage,t)}getAccountByLocalId(e){let t=this.getRequestCorrelationId();return pk(e,this.logger,this.browserStorage,t)}setActiveAccount(e){let t=this.getRequestCorrelationId();mk(e,this.browserStorage,t)}getActiveAccount(){let e=this.getRequestCorrelationId();return gk(this.browserStorage,e)}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");let i=He.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(i,e.correlationId,wt.isKmsi(e.idTokenClaims)),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}async acquireTokenNative(e,t,i,r){if(this.logger.trace("acquireTokenNative called"),!this.platformAuthProvider)throw x(es);return new rs(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.platformAuthProvider,i||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,r)}canUsePlatformBroker(e,t){if(this.logger.trace("canUsePlatformBroker called"),!this.platformAuthProvider)return this.logger.trace("canUsePlatformBroker: platform broker unavilable, returning false"),!1;if(!ro(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case nt.NONE:case nt.CONSENT:case nt.LOGIN:case nt.SELECT_ACCOUNT:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${e.prompt} is not compatible with platform broker flow, returning false`),!1}return!t&&!this.getNativeAccountId(e)?(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){let t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new Vv(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createRedirectClient(e){return new jv(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentIframeClient(e){return new $v(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Ee.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentCacheClient(e){return new ed(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentRefreshClient(e){return new Gv(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentAuthCodeClient(e){return new Kv(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Ee.acquireTokenByCode,this.performanceClient,this.platformAuthProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return Ev(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){if(this.config.cache.cacheLocation!==je.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.subscribeCrossTab()}disableAccountStorageEvents(){if(this.config.cache.cacheLocation!==je.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.unsubscribeCrossTab()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e?.correlationId?e.correlationId:this.isBrowserEnvironment?Lt():E.EMPTY_STRING}async loginRedirect(e){let t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect(g({correlationId:t},e||HI))}loginPopup(e){let t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup(g({correlationId:t},e||HI))}async acquireTokenSilent(e){let t=this.getRequestCorrelationId(e),i=this.performanceClient.startMeasurement(f.AcquireTokenSilent,t);i.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),Yv(this.initialized,i,e.account),this.logger.verbose("acquireTokenSilent called",t);let r=e.account||this.getActiveAccount();if(!r)throw x(Sl);return this.acquireTokenSilentDeduped(e,r,t).then(o=>(i.end({success:!0,fromCache:o.fromCache,accessTokenSize:o.accessToken.length,idTokenSize:o.idToken.length},void 0,o.account),M(g({},o),{state:e.state,correlationId:t}))).catch(o=>{throw o instanceof Z&&o.setCorrelationId(t),i.end({success:!1},o,r),o})}async acquireTokenSilentDeduped(e,t,i){let r=Yr(this.config.auth.clientId,M(g({},e),{authority:e.authority||this.config.auth.authority,correlationId:i}),t.homeAccountId),o=JSON.stringify(r),s=this.activeSilentTokenRequests.get(o);if(typeof s>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",i),this.performanceClient.addFields({deduped:!1},i);let a=b(this.acquireTokenSilentAsync.bind(this),f.AcquireTokenSilentAsync,this.logger,this.performanceClient,i)(M(g({},e),{correlationId:i}),t);return this.activeSilentTokenRequests.set(o,a),a.finally(()=>{this.activeSilentTokenRequests.delete(o)})}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",i),this.performanceClient.addFields({deduped:!0},i),s}async acquireTokenSilentAsync(e,t){let i=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(f.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(N.ACQUIRE_TOKEN_START,L.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",i);let r=await b(vk,f.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),o=e.cacheLookupPolicy||zt.Default;return this.acquireTokenSilentNoIframe(r,o).catch(async a=>{if(xz(a,o))if(this.activeIframeRequest)if(o!==zt.Skip){let[l,d]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${d}`,r.correlationId);let u=this.performanceClient.startMeasurement(f.AwaitConcurrentIframe,r.correlationId);u.add({awaitIframeCorrelationId:d});let p=await l;if(u.end({success:p}),p)return this.logger.verbose(`Parallel iframe request with correlationId: ${d} succeeded. Retrying cache and/or RT redemption`,r.correlationId),this.acquireTokenSilentNoIframe(r,o);throw this.logger.info(`Iframe request with correlationId: ${d} failed. Interaction is required.`),a}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",r.correlationId),b(this.acquireTokenBySilentIframe.bind(this),f.AcquireTokenBySilentIframe,this.logger,this.performanceClient,r.correlationId)(r);else{let l;return this.activeIframeRequest=[new Promise(d=>{l=d}),r.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",r.correlationId),b(this.acquireTokenBySilentIframe.bind(this),f.AcquireTokenBySilentIframe,this.logger,this.performanceClient,r.correlationId)(r).then(d=>(l(!0),d)).catch(d=>{throw l(!1),d}).finally(()=>{this.activeIframeRequest=void 0})}else throw a}).then(a=>(this.eventHandler.emitEvent(N.ACQUIRE_TOKEN_SUCCESS,L.Silent,a),this.performanceClient.addFields({fromCache:a.fromCache},e.correlationId),a)).catch(a=>{throw this.eventHandler.emitEvent(N.ACQUIRE_TOKEN_FAILURE,L.Silent,null,a),a}).finally(()=>{document.removeEventListener("visibilitychange",i)})}async acquireTokenSilentNoIframe(e,t){return ro(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.performanceClient.addFields({isPlatformBrokerRequest:!0},e.correlationId),this.acquireTokenNative(e,Ee.acquireTokenSilent_silentFlow,e.account.nativeAccountId,t).catch(async i=>{throw this.performanceClient.addFields({brokerErrorName:i.name,brokerErrorCode:i.errorCode},e.correlationId),i instanceof ci&&is(i)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.platformAuthProvider=void 0,T(Ft.tokenRefreshRequired)):i})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),t===zt.AccessToken&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),b(this.acquireTokenFromCache.bind(this),f.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,t).catch(i=>{if(t===zt.AccessToken)throw i;return this.eventHandler.emitEvent(N.ACQUIRE_TOKEN_NETWORK_START,L.Silent,e),b(this.acquireTokenByRefreshToken.bind(this),f.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,t)}))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await b(Oi,f.GeneratePkceCodes,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");let t=this.pkceCode?g({},this.pkceCode):void 0;return this.pkceCode=void 0,this.logger.verbose(`${t?"Found":"Did not find"} pre-generated PKCE codes`),this.performanceClient.addFields({usePreGeneratedPkce:!!t},e),t}logMultipleInstances(e){let t=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[],window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(t),Nk(t,e,this.logger)}};function xz(n,e){let t=!(n instanceof jt&&n.subError!==cr.badToken),i=n.errorCode===st.INVALID_GRANT_ERROR||n.errorCode===Ft.tokenRefreshRequired,r=t&&i||n.errorCode===cr.noTokensFound||n.errorCode===cr.refreshTokenExpired,o=kR.includes(e);return r&&o}async function Pk(n,e){let t=new Mv(n);return await t.initialize(),od.createController(t,e)}var yf=class n{static async createPublicClientApplication(e){let t=await Pk(e);return new n(e,t)}constructor(e,t){this.isBroker=!1,this.controller=t||new od(new Mv(e))}async initialize(e){return this.controller.initialize(e,this.isBroker)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}};var _f=class{static getInteractionStatusFromEvent(e,t){switch(e.eventType){case N.LOGIN_START:return ht.Login;case N.SSO_SILENT_START:return ht.SsoSilent;case N.ACQUIRE_TOKEN_START:if(e.interactionType===L.Redirect||e.interactionType===L.Popup)return ht.AcquireToken;break;case N.HANDLE_REDIRECT_START:return ht.HandleRedirect;case N.LOGOUT_START:return ht.Logout;case N.SSO_SILENT_SUCCESS:case N.SSO_SILENT_FAILURE:if(t&&t!==ht.SsoSilent)break;return ht.None;case N.LOGOUT_END:if(t&&t!==ht.Logout)break;return ht.None;case N.HANDLE_REDIRECT_END:if(t&&t!==ht.HandleRedirect)break;return ht.None;case N.LOGIN_SUCCESS:case N.LOGIN_FAILURE:case N.ACQUIRE_TOKEN_SUCCESS:case N.ACQUIRE_TOKEN_FAILURE:case N.RESTORE_FROM_BFCACHE:if(e.interactionType===L.Redirect||e.interactionType===L.Popup){if(t&&t!==ht.Login&&t!==ht.AcquireToken)break;return ht.None}break}return null}};var Qv="@azure/msal-angular",bf="4.0.22",Cf=new w("MSAL_INSTANCE"),sT=new w("MSAL_GUARD_CONFIG"),Fk=new w("MSAL_INTERCEPTOR_CONFIG"),Mz=new w("MSAL_BROADCAST_CONFIG"),sd=(()=>{class n{constructor(t,i){this.msalInstance=t,this.msalBroadcastConfig=i,this.msalBroadcastConfig&&this.msalBroadcastConfig.eventsToReplay>0?(this.msalInstance.getLogger().clone(Qv,bf).verbose(`BroadcastService - eventsToReplay set on BroadcastConfig, replaying the last ${this.msalBroadcastConfig.eventsToReplay} events`),this._msalSubject=new bs(this.msalBroadcastConfig.eventsToReplay)):this._msalSubject=new O,this.msalSubject$=this._msalSubject.asObservable(),this._inProgress=new ft(ht.Startup),this.inProgress$=this._inProgress.asObservable(),this.msalInstance.addEventCallback(r=>{this._msalSubject.next(r);let o=_f.getInteractionStatusFromEvent(r,this._inProgress.value);o!==null&&(this.msalInstance.getLogger().clone(Qv,bf).verbose(`BroadcastService - ${r.eventType} results in setting inProgress from ${this._inProgress.value} to ${o}`),this._inProgress.next(o))})}resetInProgressEvent(){this._inProgress.value===ht.Startup&&this._inProgress.next(ht.None)}}return n.\u0275fac=function(t){return new(t||n)(P(Cf),P(Mz,8))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})(),oo=(()=>{class n{constructor(t,i,r){this.instance=t,this.location=i,this.injector=r;let o=this.location.path(!0).split("#").pop();o&&(this.redirectHash=`#${o}`),this.instance.initializeWrapperLibrary(jI.Angular,bf)}initialize(){return we(this.instance.initialize())}acquireTokenPopup(t){return we(this.instance.acquireTokenPopup(t))}acquireTokenRedirect(t){return we(this.instance.acquireTokenRedirect(t))}acquireTokenSilent(t){return we(this.instance.acquireTokenSilent(t))}handleRedirectObservable(t){return we(this.instance.initialize().then(()=>this.instance.handleRedirectPromise(t||this.redirectHash)).finally(()=>{this.injector.get(sd).resetInProgressEvent()}))}loginPopup(t){return we(this.instance.loginPopup(t))}loginRedirect(t){return we(this.instance.loginRedirect(t))}logout(t){return we(this.instance.logout(t))}logoutRedirect(t){return we(this.instance.logoutRedirect(t))}logoutPopup(t){return we(this.instance.logoutPopup(t))}ssoSilent(t){return we(this.instance.ssoSilent(t))}getLogger(){return this.logger||(this.logger=this.instance.getLogger().clone(Qv,bf)),this.logger}setLogger(t){this.logger=t.clone(Qv,bf),this.instance.setLogger(t)}}return n.\u0275fac=function(t){return new(t||n)(P(Cf),P(Ci),P(me))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})(),Lk=(()=>{class n{constructor(t,i,r,o,s){this.msalGuardConfig=t,this.msalBroadcastService=i,this.authService=r,this.location=o,this.router=s,this.msalBroadcastService.inProgress$.subscribe()}parseUrl(t){return this.router.parseUrl(t)}getDestinationUrl(t){this.authService.getLogger().verbose("Guard - getting destination url");let i=document.getElementsByTagName("base"),r=this.location.normalize(i.length?i[0].href:window.location.origin),o=this.location.prepareExternalUrl(t);return o.startsWith("#")?(this.authService.getLogger().verbose("Guard - destination by hash routing"),`${r}/${o}`):`${r}${t}`}loginInteractively(t){let i=typeof this.msalGuardConfig.authRequest=="function"?this.msalGuardConfig.authRequest(this.authService,t):g({},this.msalGuardConfig.authRequest);if(this.msalGuardConfig.interactionType===L.Popup)return this.authService.getLogger().verbose("Guard - logging in by popup"),this.authService.loginPopup(i).pipe(X(o=>(this.authService.getLogger().verbose("Guard - login by popup successful, can activate, setting active account"),this.authService.instance.setActiveAccount(o.account),!0)));this.authService.getLogger().verbose("Guard - logging in by redirect");let r=this.getDestinationUrl(t.url);return this.authService.loginRedirect(g({redirectStartPage:r},i)).pipe(X(()=>!1))}activateHelper(t){if(this.msalGuardConfig.interactionType!==L.Popup&&this.msalGuardConfig.interactionType!==L.Redirect)throw new ql("invalid_interaction_type","Invalid interaction type provided to MSAL Guard. InteractionType.Popup or InteractionType.Redirect must be provided in the MsalGuardConfiguration");if(this.authService.getLogger().verbose("MSAL Guard activated"),typeof window<"u"){if(ae.hashContainsKnownProperties(window.location.hash)&&Tv.isInIframe()&&!this.authService.instance.getConfiguration().system.allowRedirectInIframe)return this.authService.getLogger().warning("Guard - redirectUri set to page with MSAL Guard. It is recommended to not set redirectUri to a page that requires authentication."),B(!1)}else return this.authService.getLogger().info("Guard - window is undefined, MSAL does not support server-side token acquisition"),B(!0);this.msalGuardConfig.loginFailedRoute&&(this.loginFailedRoute=this.parseUrl(this.msalGuardConfig.loginFailedRoute));let i=this.location.path(!0);return this.authService.initialize().pipe(Li(()=>this.authService.handleRedirectObservable()),Li(()=>{if(!this.authService.instance.getAllAccounts().length)return t?(this.authService.getLogger().verbose("Guard - no accounts retrieved, log in required to activate"),this.loginInteractively(t)):(this.authService.getLogger().verbose("Guard - no accounts retrieved, no state, cannot load"),B(!1));if(this.authService.getLogger().verbose("Guard - at least 1 account exists, can activate or load"),t){let r=this.includesCode(t.url),o=!!t.root&&!!t.root.fragment&&this.includesCode(`#${t.root.fragment}`),s=this.location.prepareExternalUrl(t.url).indexOf("#")===0;if(r&&(o||s))return this.authService.getLogger().info("Guard - Hash contains known code response, stopping navigation."),i.indexOf("#")>-1?B(this.parseUrl(this.location.path())):B(this.parseUrl(""))}return B(!0)}),Mn(r=>(this.authService.getLogger().error("Guard - error while logging in, unable to activate"),this.authService.getLogger().errorPii(`Guard - error: ${r.message}`),this.loginFailedRoute&&t?(this.authService.getLogger().verbose("Guard - loginFailedRoute set, redirecting"),B(this.loginFailedRoute)):B(!1))))}includesCode(t){return t.lastIndexOf("/code")>-1&&t.lastIndexOf("/code")===t.length-5||t.indexOf("#code=")>-1||t.indexOf("&code=")>-1}canActivate(t,i){return this.authService.getLogger().verbose("Guard - canActivate"),this.activateHelper(i)}canActivateChild(t,i){return this.authService.getLogger().verbose("Guard - canActivateChild"),this.activateHelper(i)}canMatch(){return this.authService.getLogger().verbose("Guard - canLoad"),this.activateHelper()}}return n.\u0275fac=function(t){return new(t||n)(P(sT),P(sd),P(oo),P(Ci),P(jn))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})();var Gk=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||n)(he(yt),he(W))};static \u0275dir=F({type:n})}return n})(),Rz=(()=>{class n extends Gk{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Zt(n)))(r||n)}})();static \u0275dir=F({type:n,features:[Ge]})}return n})(),qk=new w("");var kz={provide:qk,useExisting:Yn(()=>ay),multi:!0};function Oz(){let n=ii()?ii().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Nz=new w(""),ay=(()=>{class n extends Gk{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!Oz())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||n)(he(yt),he(W),he(Nz,8))};static \u0275dir=F({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&xe("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[ut([kz]),Ge]})}return n})();function uT(n){return n==null||hT(n)===0}function hT(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var cy=new w(""),fT=new w(""),Pz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,vr=class{static min(e){return Fz(e)}static max(e){return Lz(e)}static required(e){return Wk(e)}static requiredTrue(e){return Bz(e)}static email(e){return Uz(e)}static minLength(e){return Hz(e)}static maxLength(e){return Vz(e)}static pattern(e){return jz(e)}static nullValidator(e){return Xv()}static compose(e){return Xk(e)}static composeAsync(e){return eO(e)}};function Fz(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Lz(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Wk(n){return uT(n.value)?{required:!0}:null}function Bz(n){return n.value===!0?null:{required:!0}}function Uz(n){return uT(n.value)||Pz.test(n.value)?null:{email:!0}}function Hz(n){return e=>{let t=e.value?.length??hT(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function Vz(n){return e=>{let t=e.value?.length??hT(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function jz(n){if(!n)return Xv;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(uT(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function Xv(n){return null}function Kk(n){return n!=null}function Yk(n){return Ao(n)?we(n):n}function Qk(n){let e={};return n.forEach(t=>{e=t!=null?g(g({},e),t):e}),Object.keys(e).length===0?null:e}function Zk(n,e){return e.map(t=>t(n))}function zz(n){return!n.validate}function Jk(n){return n.map(e=>zz(e)?e:t=>e.validate(t))}function Xk(n){if(!n)return null;let e=n.filter(Kk);return e.length==0?null:function(t){return Qk(Zk(t,e))}}function pT(n){return n!=null?Xk(Jk(n)):null}function eO(n){if(!n)return null;let e=n.filter(Kk);return e.length==0?null:function(t){let i=Zk(t,e).map(Yk);return Nd(i).pipe(X(Qk))}}function mT(n){return n!=null?eO(Jk(n)):null}function Bk(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function tO(n){return n._rawValidators}function nO(n){return n._rawAsyncValidators}function aT(n){return n?Array.isArray(n)?n:[n]:[]}function ey(n,e){return Array.isArray(n)?n.includes(e):n===e}function Uk(n,e){let t=aT(e);return aT(n).forEach(r=>{ey(t,r)||t.push(r)}),t}function Hk(n,e){return aT(e).filter(t=>!ey(n,t))}var ty=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=pT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=mT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},os=class extends ty{name;get formDirective(){return null}get path(){return null}},Xa=class extends ty{_parent=null;name=null;valueAccessor=null},ny=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var iO=(()=>{class n extends ny{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(he(Xa,2))};static \u0275dir=F({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&re("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Ge]})}return n})(),rO=(()=>{class n extends ny{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(he(os,10))};static \u0275dir=F({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&re("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[Ge]})}return n})();var Ef="VALID",Zv="INVALID",ad="PENDING",wf="DISABLED",ss=class{},iy=class extends ss{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Tf=class extends ss{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Sf=class extends ss{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},cd=class extends ss{status;source;constructor(e,t){super(),this.status=e,this.source=t}},ry=class extends ss{source;constructor(e){super(),this.source=e}},Af=class extends ss{source;constructor(e){super(),this.source=e}};function gT(n){return(ly(n)?n.validators:n)||null}function $z(n){return Array.isArray(n)?pT(n):n||null}function vT(n,e){return(ly(e)?e.asyncValidators:n)||null}function Gz(n){return Array.isArray(n)?mT(n):n||null}function ly(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function oO(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new k(1e3,"");if(!i[t])throw new k(1001,"")}function sO(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new k(1002,"")})}var ld=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return vt(this.statusReactive)}set status(e){vt(()=>this.statusReactive.set(e))}_status=qe(()=>this.statusReactive());statusReactive=ye(void 0);get valid(){return this.status===Ef}get invalid(){return this.status===Zv}get pending(){return this.status==ad}get disabled(){return this.status===wf}get enabled(){return this.status!==wf}errors;get pristine(){return vt(this.pristineReactive)}set pristine(e){vt(()=>this.pristineReactive.set(e))}_pristine=qe(()=>this.pristineReactive());pristineReactive=ye(!0);get dirty(){return!this.pristine}get touched(){return vt(this.touchedReactive)}set touched(e){vt(()=>this.touchedReactive.set(e))}_touched=qe(()=>this.touchedReactive());touchedReactive=ye(!1);get untouched(){return!this.touched}_events=new O;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Uk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Uk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Hk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Hk(e,this._rawAsyncValidators))}hasValidator(e){return ey(this._rawValidators,e)}hasAsyncValidator(e){return ey(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(M(g({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Sf(!0,i))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new Sf(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(M(g({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Tf(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new Tf(!0,i))}markAsPending(e={}){this.status=ad;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new cd(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(M(g({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=wf,this.errors=null,this._forEachChild(r=>{r.disable(M(g({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new iy(this.value,i)),this._events.next(new cd(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(M(g({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ef,this._forEachChild(i=>{i.enable(M(g({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(M(g({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ef||this.status===ad)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new iy(this.value,t)),this._events.next(new cd(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(M(g({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wf:Ef}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ad,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let i=Yk(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new cd(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new ve,this.statusChanges=new ve}_calculateStatus(){return this._allControlsDisabled()?wf:this.errors?Zv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ad)?ad:this._anyControlsHaveStatus(Zv)?Zv:Ef}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new Tf(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Sf(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ly(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=$z(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Gz(this._rawAsyncValidators)}},dd=class extends ld{constructor(e,t,i){super(gT(t),vT(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){sO(this,!0,e),Object.keys(e).forEach(i=>{oO(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,M(g({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Af(this))}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var cT=class extends dd{};var yT=new w("",{factory:()=>_T}),_T="always";function qz(n,e){return[...e.path,n]}function lT(n,e,t=_T){bT(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Kz(n,e),Qz(n,e),Yz(n,e),Wz(n,e)}function Vk(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),sy(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function oy(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Wz(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function bT(n,e){let t=tO(n);e.validator!==null?n.setValidators(Bk(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=nO(n);e.asyncValidator!==null?n.setAsyncValidators(Bk(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();oy(e._rawValidators,r),oy(e._rawAsyncValidators,r)}function sy(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=tO(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let r=nO(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}let i=()=>{};return oy(e._rawValidators,i),oy(e._rawAsyncValidators,i),t}function Kz(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&aO(n,e)})}function Yz(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&aO(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function aO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Qz(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function cO(n,e){n==null,bT(n,e)}function Zz(n,e){return sy(n,e)}function Jz(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Xz(n){return Object.getPrototypeOf(n.constructor)===Rz}function lO(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function e$(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===ay?t=o:Xz(o)?i=o:r=o}),r||i||t||null}function t$(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var n$={provide:os,useExisting:Yn(()=>CT)},If=Promise.resolve(),CT=(()=>{class n extends os{callSetDisabledState;get submitted(){return vt(this.submittedReactive)}_submitted=qe(()=>this.submittedReactive());submittedReactive=ye(!1);_directives=new Set;form;ngSubmit=new ve;options;constructor(t,i,r){super(),this.callSetDisabledState=r,this.form=new dd({},pT(t),mT(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){If.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),lT(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){If.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){If.then(()=>{let i=this._findContainer(t.path),r=new dd({});cO(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){If.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){If.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),lO(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new ry(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(i){return new(i||n)(he(cy,10),he(fT,10),he(yT,8))};static \u0275dir=F({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&xe("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ut([n$]),Ge]})}return n})();function jk(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function zk(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Jv=class extends ld{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,i){super(gT(t),vT(i,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ly(t)&&(t.nonNullable||t.initialValueIsDefault)&&(zk(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Af(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){jk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){jk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){zk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var i$=n=>n instanceof Jv;var dO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=F({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var dT=class extends ld{constructor(e,t,i){super(gT(t),vT(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){Array.isArray(e)?e.forEach(i=>{this.controls.push(i),this._registerControl(i)}):(this.controls.push(e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){sO(this,!1,e),e.forEach((i,r)=>{oO(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],M(g({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Af(this))}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};var r$=(()=>{class n extends os{callSetDisabledState;get submitted(){return vt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=qe(()=>this._submittedReactive());_submittedReactive=ye(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(t,i,r){super(),this.callSetDisabledState=r,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this.onChanges(t)}ngOnDestroy(){this.onDestroy()}onChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(sy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(t){let i=this.form.get(t.path);return lT(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Vk(t.control||null,t,!1),t$(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}getFormArray(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}updateModel(t,i){this.form.get(t.path).setValue(i)}onReset(){this.resetForm()}resetForm(t=void 0,i={}){this.form.reset(t,i),this._submittedReactive.set(!1)}onSubmit(t){return this.submitted=!0,lO(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new ry(this.control)),t?.target?.method==="dialog"}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(Vk(i||null,t),i$(r)&&(lT(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);cO(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&Zz(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bT(this.form,this),this._oldForm&&sy(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(i){return new(i||n)(he(cy,10),he(fT,10),he(yT,8))};static \u0275dir=F({type:n,features:[Ge,dt]})}return n})();var uO=new w("");var o$={provide:Xa,useExisting:Yn(()=>ET)},ET=(()=>{class n extends Xa{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new ve;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=e$(this,o)}ngOnChanges(t){this._added||this._setUpControl(),Jz(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return qz(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||n)(he(os,13),he(cy,10),he(fT,10),he(qk,10),he(uO,8))};static \u0275dir=F({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[ut([o$]),Ge,dt]})}return n})();var s$={provide:os,useExisting:Yn(()=>Df)},Df=(()=>{class n extends r${form=null;ngSubmit=new ve;get control(){return this.form}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Zt(n)))(r||n)}})();static \u0275dir=F({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&xe("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ut([s$]),Ge]})}return n})();var a$=(()=>{class n{_validator=Xv;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Xv,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=F({type:n,features:[dt]})}return n})();var c$={provide:cy,useExisting:Yn(()=>wT),multi:!0};var wT=(()=>{class n extends a${required;inputName="required";normalizeInput=Me;createValidator=t=>Wk;enabled(t){return t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Zt(n)))(r||n)}})();static \u0275dir=F({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Te("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ut([c$]),Ge]})}return n})();var l$=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=K({type:n});static \u0275inj=j({})}return n})();function $k(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var hO=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),o={};return $k(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new dd(r,o)}record(t,i=null){let r=this._reduceControls(t);return new cT(r,i)}control(t,i,r){let o={};return this.useNonNullable?($k(i)?o=i:(o.validators=i,o.asyncValidators=r),new Jv(t,M(g({},o),{nonNullable:!0}))):new Jv(t,i,r)}array(t,i,r){let o=t.map(s=>this._createControl(s));return new dT(o,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof Jv)return t;if(t instanceof ld)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(i,r,o)}else return this.control(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fO=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:uO,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:yT,useValue:t.callSetDisabledState??_T}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=K({type:n});static \u0275inj=j({imports:[l$]})}return n})();function xf(n){return n.buttons===0||n.detail===0}function Mf(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var IT;function pO(){if(IT==null){let n=typeof document<"u"?document.head:null;IT=!!(n&&(n.createShadowRoot||n.attachShadow))}return IT}function TT(n){if(pO()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function An(n){return n.composedPath?n.composedPath()[0]:n.target}var ST;try{ST=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ST=!1}var Re=(()=>{class n{_platformId=h($s);isBrowser=this._platformId?zx(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||ST)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Rf;function mO(){if(Rf==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Rf=!0}))}finally{Rf=Rf||!1}return Rf}function as(n){return mO()?n:!!n.capture}function ud(n,e=0){return gO(n)?Number(n):arguments.length===2?e:0}function gO(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Wn(n){return n instanceof W?n.nativeElement:n}var vO=new w("cdk-input-modality-detector-options"),yO={ignoreKeys:[18,17,224,91,16]},_O=650,AT={passive:!0,capture:!0},bO=(()=>{class n{_platform=h(Re);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new ft(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(i=>i===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=An(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<_O||(this._modality.next(xf(t)?"keyboard":"mouse"),this._mostRecentTarget=An(t))};_onTouchstart=t=>{if(Mf(t)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=An(t)};constructor(){let t=h(U),i=h(H),r=h(vO,{optional:!0});if(this._options=g(g({},yO),r),this.modalityDetected=this._modality.pipe(Ld(1)),this.modalityChanged=this.modalityDetected.pipe(Ip()),this._platform.isBrowser){let o=h(St).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[o.listen(i,"keydown",this._onKeydown,AT),o.listen(i,"mousedown",this._onMousedown,AT),o.listen(i,"touchstart",this._onTouchstart,AT)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kf=(function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n})(kf||{}),CO=new w("cdk-focus-monitor-default-options"),dy=as({passive:!0,capture:!0}),so=(()=>{class n{_ngZone=h(U);_platform=h(Re);_inputModalityDetector=h(bO);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=h(H);_stopInputModalityDetector=new O;constructor(){let t=h(CO,{optional:!0});this._detectionMode=t?.detectionMode||kf.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{let i=An(t);for(let r=i;r;r=r.parentElement)t.type==="focus"?this._onFocus(t,r):this._onBlur(t,r)};monitor(t,i=!1){let r=Wn(t);if(!this._platform.isBrowser||r.nodeType!==1)return B();let o=TT(r)||this._document,s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;let a={checkChildren:i,subject:new O,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){let i=Wn(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){let o=Wn(t),s=this._document.activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===kf.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused",i==="touch"),t.classList.toggle("cdk-keyboard-focused",i==="keyboard"),t.classList.toggle("cdk-mouse-focused",i==="mouse"),t.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&i,this._detectionMode===kf.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?_O:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(t,i){let r=this._elementInfo.get(i),o=An(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,dy),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,dy)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ze(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,dy),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,dy),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){let i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var uy=new WeakMap,Wt=(()=>{class n{_appRef;_injector=h(me);_environmentInjector=h($e);load(t){let i=this._appRef=this._appRef||this._injector.get(Bn),r=uy.get(i);r||(r={loaders:new Set,refs:[]},uy.set(i,r),i.onDestroy(()=>{uy.get(i)?.refs.forEach(o=>o.destroy()),uy.delete(i)})),r.loaders.has(t)||(r.loaders.add(t),r.refs.push(zm(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var hy=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return n})();function hd(n){return Array.isArray(n)?n:[n]}var EO=new Set,ec,fy=(()=>{class n{_platform=h(Re);_nonce=h(Nc,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):h$}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&u$(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function u$(n,e){if(!EO.has(n))try{ec||(ec=document.createElement("style"),e&&ec.setAttribute("nonce",e),ec.setAttribute("type","text/css"),document.head.appendChild(ec)),ec.sheet&&(ec.sheet.insertRule(`@media ${n} {body{ }}`,0),EO.add(n))}catch(t){console.error(t)}}function h$(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var Of=(()=>{class n{_mediaMatcher=h(fy);_zone=h(U);_queries=new Map;_destroySubject=new O;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return wO(hd(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let r=wO(hd(t)).map(s=>this._registerQuery(s).observable),o=kd(r);return o=ho(o.pipe(kt(1)),o.pipe(Ld(1),Pd(0))),o.pipe(X(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let i=this._mediaMatcher.matchMedia(t),o={observable:new le(s=>{let a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(ui(i),X(({matches:s})=>({query:t,matches:s})),Ze(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wO(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var f$=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var py=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=K({type:n});static \u0275inj=j({providers:[f$]})}return n})();var SO=new w("liveAnnouncerElement",{providedIn:"root",factory:()=>null}),AO=new w("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),p$=0,xT=(()=>{class n{_ngZone=h(U);_defaultOptions=h(AO,{optional:!0});_liveElement;_document=h(H);_previousTimeout;_currentPromise;_currentResolve;constructor(){let t=h(SO,{optional:!0});this._liveElement=t||this._createLiveElement()}announce(t,...i){let r=this._defaultOptions,o,s;return i.length===1&&typeof i[0]=="number"?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),s==null&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${p$++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let o=i[r],s=o.getAttribute("aria-owns");s?s.indexOf(t)===-1&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var cs=(function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n})(cs||{}),IO="cdk-high-contrast-black-on-white",TO="cdk-high-contrast-white-on-black",DT="cdk-high-contrast-active",DO=(()=>{class n{_platform=h(Re);_hasCheckedHighContrastMode;_document=h(H);_breakpointSubscription;constructor(){this._breakpointSubscription=h(Of).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return cs.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return cs.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return cs.BLACK_ON_WHITE}return cs.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(DT,IO,TO),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===cs.BLACK_ON_WHITE?t.add(DT,IO):i===cs.WHITE_ON_BLACK&&t.add(DT,TO)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MT=(()=>{class n{constructor(){h(DO)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||n)};static \u0275mod=K({type:n});static \u0275inj=j({imports:[py]})}return n})();var RT={},Rt=class n{_appId=h(To);static _infix=`a${Math.floor(Math.random()*1e5).toString()}`;getId(e,t=!1){return this._appId!=="ng"&&(e+=this._appId),RT.hasOwnProperty(e)||(RT[e]=0),`${e}${t?n._infix+"-":""}${RT[e]++}`}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})};var m$=200,my=class{_letterKeyStream=new O;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new O;selectedItem=this._selectedItem;constructor(e,t){let i=typeof t?.debounceInterval=="number"?t.debounceInterval:m$;t?.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),this.setItems(e),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let t=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(mt(t=>this._pressedLetters.push(t)),Pd(e),Ie(()=>this._pressedLetters.length>0),X(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(t=>{for(let i=1;i<this._items.length+1;i++){let r=(this._selectedItemIndex+i)%this._items.length,o=this._items[r];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(t)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};function fd(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var gy=class{_items;_activeItemIndex=ye(-1);_activeItem=ye(null);_wrap=!1;_typeaheadSubscription=Ae.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=e=>e.disabled;constructor(e,t){this._items=e,e instanceof qi?this._itemChangesSubscription=e.changes.subscribe(i=>this._itemsChanged(i.toArray())):Fc(e)&&(this._effectRef=ei(()=>this._itemsChanged(e()),{injector:t}))}tabOut=new O;change=new O;skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let t=this._getItemsArray();return this._typeahead=new my(t,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){let t=this._activeItem();this.updateActiveItem(e),this._activeItem()!==t&&this.change.next(this._activeItemIndex())}onKeydown(e){let t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex()+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(r||fd(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let t=this._getItemsArray(),i=typeof e=="number"?e:t.indexOf(e),r=t[i];this._activeItem.set(r??null),this._activeItemIndex.set(i),this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let t=this._getItemsArray();for(let i=1;i<=t.length;i++){let r=(this._activeItemIndex()+e*i+t.length)%t.length,o=t[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex()+e,e)}_setActiveItemByIndex(e,t){let i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(e+=t,!i[e])return;this.setActiveItem(e)}}_getItemsArray(){return Fc(this._items)?this._items():this._items instanceof qi?this._items.toArray():this._items}_itemsChanged(e){this._typeahead?.setItems(e);let t=this._activeItem();if(t){let i=e.indexOf(t);i>-1&&i!==this._activeItemIndex()&&(this._activeItemIndex.set(i),this._typeahead?.setCurrentSelectedItemIndex(i))}}};var pd=class extends gy{_origin="program";setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}};var MO=" ";function g$(n,e,t){let i=yy(n,e);t=t.trim(),!i.some(r=>r.trim()===t)&&(i.push(t),n.setAttribute(e,i.join(MO)))}function v$(n,e,t){let i=yy(n,e);t=t.trim();let r=i.filter(o=>o!==t);r.length?n.setAttribute(e,r.join(MO)):n.removeAttribute(e)}function yy(n,e){return n.getAttribute(e)?.match(/\S+/g)??[]}var RO="cdk-describedby-message",vy="cdk-describedby-host",OT=0,kO=(()=>{class n{_platform=h(Re);_document=h(H);_messageRegistry=new Map;_messagesContainer=null;_id=`${OT++}`;constructor(){h(Wt).load(hy),this._id=h(To)+"-"+OT++}describe(t,i,r){if(!this._canBeDescribed(t,i))return;let o=kT(i,r);typeof i!="string"?(xO(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(t,o)||this._addMessageReference(t,o)}removeDescription(t,i,r){if(!i||!this._isElementNode(t))return;let o=kT(i,r);if(this._isElementDescribedByMessage(t,o)&&this._removeMessageReference(t,o),typeof i=="string"){let s=this._messageRegistry.get(o);s&&s.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let t=this._document.querySelectorAll(`[${vy}="${this._id}"]`);for(let i=0;i<t.length;i++)this._removeCdkDescribedByReferenceIds(t[i]),t[i].removeAttribute(vy);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,i){let r=this._document.createElement("div");xO(r,this._id),r.textContent=t,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(kT(t,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;let t="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();let r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){let i=yy(t,"aria-describedby").filter(r=>r.indexOf(RO)!=0);t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){let r=this._messageRegistry.get(i);g$(t,"aria-describedby",r.messageElement.id),t.setAttribute(vy,this._id),r.referenceCount++}_removeMessageReference(t,i){let r=this._messageRegistry.get(i);r.referenceCount--,v$(t,"aria-describedby",r.messageElement.id),t.removeAttribute(vy)}_isElementDescribedByMessage(t,i){let r=yy(t,"aria-describedby"),o=this._messageRegistry.get(i),s=o&&o.messageElement.id;return!!s&&r.indexOf(s)!=-1}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&typeof i=="object")return!0;let r=i==null?"":`${i}`.trim(),o=t.getAttribute("aria-label");return r?!o||o.trim()!==r:!1}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kT(n,e){return typeof n=="string"?`${e||""}/${n}`:n}function xO(n,e){n.id||(n.id=`${RO}-${e}-${OT++}`)}var tc;function OO(){if(tc==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return tc=!1,tc;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)tc=!0;else{let n=Element.prototype.scrollTo;n?tc=!/\{\s*\[native code\]\s*\}/.test(n.toString()):tc=!1}}return tc}function NT(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var md,NO=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function PT(){if(md)return md;if(typeof document!="object"||!document)return md=new Set(NO),md;let n=document.createElement("input");return md=new Set(NO.filter(e=>(n.setAttribute("type",e),n.type===e))),md}var PO={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var y$=new w("MATERIAL_ANIMATIONS"),FO=null;function FT(){return h(y$,{optional:!0})?.animationsDisabled||h(fu,{optional:!0})==="NoopAnimations"?"di-disabled":(FO??=h(fy).matchMedia("(prefers-reduced-motion)").matches,FO?"reduced-motion":"enabled")}function tn(){return FT()!=="enabled"}function Tt(n){return n==null?"":typeof n=="string"?n:`${n}px`}function ao(n){return n!=null&&`${n}`!="false"}var li=(function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n})(li||{}),LT=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=li.HIDDEN;constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},LO=as({passive:!0,capture:!0}),BT=class{_events=new Map;addHandler(e,t,i,r){let o=this._events.get(t);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,LO)})}removeHandler(e,t,i){let r=this._events.get(e);if(!r)return;let o=r.get(t);o&&(o.delete(i),o.size===0&&r.delete(t),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,LO)))}_delegateEventHandler=e=>{let t=An(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}},Nf={enterDuration:225,exitDuration:150},_$=800,BO=as({passive:!0,capture:!0}),UO=["mousedown","touchstart"],HO=["mouseup","mouseleave","touchend","touchcancel"],b$=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return n})(),_y=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new BT;constructor(e,t,i,r,o){this._target=e,this._ngZone=t,this._platform=r,r.isBrowser&&(this._containerElement=Wn(i)),o&&o.get(Wt).load(b$)}fadeInRipple(e,t,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=g(g({},Nf),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);let s=i.radius||C$(e,t,r),a=e-r.left,c=t-r.top,l=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${c-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,i.color!=null&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d);let u=window.getComputedStyle(d),p=u.transitionProperty,m=u.transitionDuration,C=p==="none"||m==="0s"||m==="0s, 0s"||r.width===0&&r.height===0,I=new LT(this,d,i,C);d.style.transform="scale3d(1, 1, 1)",I.state=li.FADING_IN,i.persistent||(this._mostRecentTransientRipple=I);let D=null;return!C&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let R=()=>{D&&(D.fallbackTimer=null),clearTimeout(ke),this._finishRippleTransition(I)},q=()=>this._destroyRipple(I),ke=setTimeout(q,l+100);d.addEventListener("transitionend",R),d.addEventListener("transitioncancel",q),D={onTransitionEnd:R,onTransitionCancel:q,fallbackTimer:ke}}),this._activeRipples.set(I,D),(C||!l)&&this._finishRippleTransition(I),I}fadeOutRipple(e){if(e.state===li.FADING_OUT||e.state===li.HIDDEN)return;let t=e.element,i=g(g({},Nf),e.config.animation);t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=li.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=Wn(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,UO.forEach(i=>{n._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{HO.forEach(t=>{this._triggerElement.addEventListener(t,this,BO)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===li.FADING_IN?this._startFadeOutTransition(e):e.state===li.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=li.VISIBLE,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=li.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=xf(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+_$;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Mf(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===li.VISIBLE||e.config.terminateOnPointerUp&&e.state===li.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(UO.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(HO.forEach(t=>e.removeEventListener(t,this,BO)),this._pointerUpEventsRegistered=!1))}};function C$(n,e,t){let i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}var by=new w("mat-ripple-global-options");var E$={capture:!0},w$=["focus","mousedown","mouseenter","touchstart"],UT="mat-ripple-loader-uninitialized",HT="mat-ripple-loader-class-name",VO="mat-ripple-loader-centered",Cy="mat-ripple-loader-disabled",Ey=(()=>{class n{_document=h(H);_animationsDisabled=tn();_globalRippleOptions=h(by,{optional:!0});_platform=h(Re);_ngZone=h(U);_injector=h(me);_eventCleanups;_hosts=new Map;constructor(){let t=h(St).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>w$.map(i=>t.listen(this._document,i,this._onInteraction,E$)))}ngOnDestroy(){let t=this._hosts.keys();for(let i of t)this.destroyRipple(i);this._eventCleanups.forEach(i=>i())}configureRipple(t,i){t.setAttribute(UT,this._globalRippleOptions?.namespace??""),(i.className||!t.hasAttribute(HT))&&t.setAttribute(HT,i.className||""),i.centered&&t.setAttribute(VO,""),i.disabled&&t.setAttribute(Cy,"")}setDisabled(t,i){let r=this._hosts.get(t);r?(r.target.rippleDisabled=i,!i&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(t))):i?t.setAttribute(Cy,""):t.removeAttribute(Cy)}_onInteraction=t=>{let i=An(t);if(i instanceof HTMLElement){let r=i.closest(`[${UT}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",t.getAttribute(HT)),t.append(i);let r=this._globalRippleOptions,o=this._animationsDisabled?0:r?.animation?.enterDuration??Nf.enterDuration,s=this._animationsDisabled?0:r?.animation?.exitDuration??Nf.exitDuration,a={rippleDisabled:this._animationsDisabled||r?.disabled||t.hasAttribute(Cy),rippleConfig:{centered:t.hasAttribute(VO),terminateOnPointerUp:r?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:s}}},c=new _y(a,this._ngZone,i,this._platform,this._injector),l=!a.rippleDisabled;l&&c.setupTriggerEvents(t),this._hosts.set(t,{target:a,renderer:c,hasSetUpEvents:l}),t.removeAttribute(UT)}destroyRipple(t){let i=this._hosts.get(t);i&&(i.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var nc=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(i,r){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return n})();var I$=["mat-icon-button",""],T$=["*"],S$=new w("MAT_BUTTON_CONFIG");function jO(n){return n==null?void 0:Ji(n)}var VT=(()=>{class n{_elementRef=h(W);_ngZone=h(U);_animationsDisabled=tn();_config=h(S$,{optional:!0});_focusMonitor=h(so);_cleanupClick;_renderer=h(yt);_rippleLoader=h(Ey);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(t){this.tabIndex=t}constructor(){h(Wt).load(nc);let t=this._elementRef.nativeElement;this._isAnchor=t.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(t,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",t=>{this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=F({type:n,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(i,r){i&2&&(Te("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled())("tabindex",r._getTabIndex()),bi(r.color?"mat-"+r.color:""),re("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("mat-unthemed",!r.color)("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Me],disabled:[2,"disabled","disabled",Me],ariaDisabled:[2,"aria-disabled","ariaDisabled",Me],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Me],tabIndex:[2,"tabIndex","tabIndex",jO],_tabindex:[2,"tabindex","_tabindex",jO]}})}return n})(),Pf=(()=>{class n extends VT{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["button","mat-icon-button",""],["a","mat-icon-button",""],["button","matIconButton",""],["a","matIconButton",""]],hostAttrs:[1,"mdc-icon-button","mat-mdc-icon-button"],exportAs:["matButton","matAnchor"],features:[Ge],attrs:I$,ngContentSelectors:T$,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(bt(),En(0,"span",0),_e(1),En(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%));flex-shrink:0;text-align:center;width:var(--mat-icon-button-state-layer-size, 40px);height:var(--mat-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mat-icon-button-state-layer-size, 40px) - var(--mat-icon-button-icon-size, 24px)) / 2);font-size:var(--mat-icon-button-icon-size, 24px);color:var(--mat-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-icon-button-touch-target-size, 48px);display:var(--mat-icon-button-touch-target-display, block);left:50%;width:var(--mat-icon-button-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mat-icon-button-icon-size, 24px);height:var(--mat-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%))}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();var A$=new w("cdk-dir-doc",{providedIn:"root",factory:()=>h(H)}),D$=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function zO(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?D$.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var ls=(()=>{class n{get value(){return this.valueSignal()}valueSignal=ye("ltr");change=new ve;constructor(){let t=h(A$,{optional:!0});if(t){let i=t.body?t.body.dir:null,r=t.documentElement?t.documentElement.dir:null;this.valueSignal.set(zO(i||r||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Le=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=K({type:n});static \u0275inj=j({})}return n})();var wy=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=K({type:n});static \u0275inj=j({imports:[Le]})}return n})();var x$=["matButton",""],M$=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],R$=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var $O=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),ds=(()=>{class n extends VT{get appearance(){return this._appearance}set appearance(t){this.setAppearance(t||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();let t=k$(this._elementRef.nativeElement);t&&this.setAppearance(t)}setAppearance(t){if(t===this._appearance)return;let i=this._elementRef.nativeElement.classList,r=this._appearance?$O.get(this._appearance):null,o=$O.get(t);r&&i.remove(...r),i.add(...o),this._appearance=t}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[Ge],attrs:x$,ngContentSelectors:R$,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(bt(M$),En(0,"span",0),_e(1),an(2,"span",1),_e(3,1),Cn(),_e(4,2),En(5,"span",2)(6,"span",3)),i&2&&re("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}@media(hover: none){.mat-mdc-button-base:hover>span.mat-mdc-button-persistent-ripple::before{opacity:0}}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-text-touch-target-size, 48px);display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-filled-touch-target-size, 48px);display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-protected-touch-target-size, 48px);display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}@media(hover: hover){.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-outlined-touch-target-size, 48px);display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-tonal-touch-target-size, 48px);display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before,.mat-tonal-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();function k$(n){return n.hasAttribute("mat-raised-button")?"elevated":n.hasAttribute("mat-stroked-button")?"outlined":n.hasAttribute("mat-flat-button")?"filled":n.hasAttribute("mat-button")?"text":null}var yr=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=K({type:n});static \u0275inj=j({imports:[wy,Le]})}return n})();var O$=["*"];var N$=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],P$=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],F$=new w("MAT_CARD_CONFIG"),Ty=(()=>{class n{appearance;constructor(){let t=h(F$,{optional:!0});this.appearance=t?.appearance||"raised"}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:8,hostBindings:function(i,r){i&2&&re("mat-mdc-card-outlined",r.appearance==="outlined")("mdc-card--outlined",r.appearance==="outlined")("mat-mdc-card-filled",r.appearance==="filled")("mdc-card--filled",r.appearance==="filled")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:O$,decls:1,vars:0,template:function(i,r){i&1&&(bt(),_e(0))},styles:[`.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-elevated-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mat-card-outlined-container-color, var(--mat-sys-surface));border-radius:var(--mat-card-outlined-container-shape, var(--mat-sys-corner-medium));border-width:var(--mat-card-outlined-outline-width, 1px);border-color:var(--mat-card-outlined-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mat-card-outlined-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mat-mdc-card-filled{background-color:var(--mat-card-filled-container-color, var(--mat-sys-surface-container-highest));border-radius:var(--mat-card-filled-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-filled-container-elevation, var(--mat-sys-level0))}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}
`],encapsulation:2,changeDetection:0})}return n})(),Sy=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=F({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return n})();var Ay=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=F({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})(),GO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=F({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]})}return n})(),qO=(()=>{class n{align="start";static \u0275fac=function(i){return new(i||n)};static \u0275dir=F({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(i,r){i&2&&re("mat-mdc-card-actions-align-end",r.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"]})}return n})(),Dy=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:P$,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){i&1&&(bt(N$),_e(0),an(1,"div",0),_e(2,1),Cn(),_e(3,2))},encapsulation:2,changeDetection:0})}return n})();var xy=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=K({type:n});static \u0275inj=j({imports:[Le]})}return n})();var My=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ry=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(e,t,i,r,o){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=o}updateErrorState(){let e=this.errorState,t=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(r,t)??!1;o!==e&&(this.errorState=o,this._stateChanges.next())}};var jT=class{_box;_destroyed=new O;_resizeSubject=new O;_resizeObserver;_elementObservables=new Map;constructor(e){this._box=e,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new le(t=>{let i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Ie(t=>t.some(i=>i.target===e)),Ap({bufferSize:1,refCount:!0}),Ze(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},KO=(()=>{class n{_cleanupErrorListener;_observers=new Map;_ngZone=h(U);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(t,i){let r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new jT(r)),this._observers.get(r).observe(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var L$=["notch"],B$=["matFormFieldNotchedOutline",""],U$=["*"],YO=["iconPrefixContainer"],QO=["textPrefixContainer"],ZO=["iconSuffixContainer"],JO=["textSuffixContainer"],H$=["textField"],V$=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],j$=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function z$(n,e){n&1&&De(0,"span",21)}function $$(n,e){if(n&1&&(y(0,"label",20),_e(1,1),$(2,z$,1,0,"span",21),v()),n&2){let t=J(2);Pe("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),Te("for",t._control.disableAutomaticLabeling?null:t._control.id),A(2),G(!t.hideRequiredMarker&&t._control.required?2:-1)}}function G$(n,e){if(n&1&&$(0,$$,3,5,"label",20),n&2){let t=J();G(t._hasFloatingLabel()?0:-1)}}function q$(n,e){n&1&&De(0,"div",7)}function W$(n,e){}function K$(n,e){if(n&1&&ni(0,W$,0,0,"ng-template",13),n&2){J(2);let t=Uc(1);Pe("ngTemplateOutlet",t)}}function Y$(n,e){if(n&1&&(y(0,"div",9),$(1,K$,1,1,null,13),v()),n&2){let t=J();Pe("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),A(),G(t._forceDisplayInfixLabel()?-1:1)}}function Q$(n,e){n&1&&(y(0,"div",10,2),_e(2,2),v())}function Z$(n,e){n&1&&(y(0,"div",11,3),_e(2,3),v())}function J$(n,e){}function X$(n,e){if(n&1&&ni(0,J$,0,0,"ng-template",13),n&2){J();let t=Uc(1);Pe("ngTemplateOutlet",t)}}function eG(n,e){n&1&&(y(0,"div",14,4),_e(2,4),v())}function tG(n,e){n&1&&(y(0,"div",15,5),_e(2,5),v())}function nG(n,e){n&1&&De(0,"div",16)}function iG(n,e){n&1&&(y(0,"div",18),_e(1,6),v())}function rG(n,e){if(n&1&&(y(0,"mat-hint",22),_(1),v()),n&2){let t=J(2);Pe("id",t._hintLabelId),A(),Se(t.hintLabel)}}function oG(n,e){if(n&1&&(y(0,"div",19),$(1,rG,2,2,"mat-hint",22),_e(2,7),De(3,"div",23),_e(4,8),v()),n&2){let t=J();A(),G(t.hintLabel?1:-1)}}var Ff=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=F({type:n,selectors:[["mat-label"]]})}return n})(),oN=new w("MatError"),zT=(()=>{class n{id=h(Rt).getId("mat-mdc-error-");constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=F({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:[1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){i&2&&Mr("id",r.id)},inputs:{id:"id"},features:[ut([{provide:oN,useExisting:n}])]})}return n})(),Lf=(()=>{class n{align="start";id=h(Rt).getId("mat-mdc-hint-");static \u0275fac=function(i){return new(i||n)};static \u0275dir=F({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){i&2&&(Mr("id",r.id),Te("align",null),re("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"}})}return n})(),sG=new w("MatPrefix");var aG=new w("MatSuffix");var sN=new w("FloatingLabelParent"),XO=(()=>{class n{_elementRef=h(W);get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=h(KO);_ngZone=h(U);_parent=h(sN);_resizeSubscription=new Ae;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return cG(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=F({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){i&2&&re("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();function cG(n){let e=n;if(e.offsetParent!==null)return e.scrollWidth;let t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);let i=t.scrollWidth;return t.remove(),i}var eN="mdc-line-ripple--active",ky="mdc-line-ripple--deactivating",tN=(()=>{class n{_elementRef=h(W);_cleanupTransitionEnd;constructor(){let t=h(U),i=h(yt);t.runOutsideAngular(()=>{this._cleanupTransitionEnd=i.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let t=this._elementRef.nativeElement.classList;t.remove(ky),t.add(eN)}deactivate(){this._elementRef.nativeElement.classList.add(ky)}_handleTransitionEnd=t=>{let i=this._elementRef.nativeElement.classList,r=i.contains(ky);t.propertyName==="opacity"&&r&&i.remove(eN,ky)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=F({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),nN=(()=>{class n{_elementRef=h(W);_ngZone=h(U);open=!1;_notch;ngAfterViewInit(){let t=this._elementRef.nativeElement,i=t.querySelector(".mdc-floating-label");i?(t.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):t.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){let i=this._notch.nativeElement;!this.open||!t?i.style.width="":i.style.width=`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}_setMaxWidth(t){this._notch.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${t}px)`)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(i&1&&Xe(L$,5),i&2){let o;de(o=ue())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){i&2&&re("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:B$,ngContentSelectors:U$,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,r){i&1&&(bt(),En(0,"div",1),an(1,"div",2,0),_e(3),Cn(),En(4,"div",3))},encapsulation:2,changeDetection:0})}return n})(),$T=(()=>{class n{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;describedByIds;static \u0275fac=function(i){return new(i||n)};static \u0275dir=F({type:n})}return n})();var GT=new w("MatFormField"),lG=new w("MAT_FORM_FIELD_DEFAULT_OPTIONS"),iN="fill",dG="auto",rN="fixed",uG="translateY(-50%)",Oy=(()=>{class n{_elementRef=h(W);_changeDetectorRef=h(Nt);_platform=h(Re);_idGenerator=h(Rt);_ngZone=h(U);_defaults=h(lG,{optional:!0});_currentDirection;_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_iconPrefixContainerSignal=Su("iconPrefixContainer");_textPrefixContainerSignal=Su("textPrefixContainer");_iconSuffixContainerSignal=Su("iconSuffixContainer");_textSuffixContainerSignal=Su("textSuffixContainer");_prefixSuffixContainers=qe(()=>[this._iconPrefixContainerSignal(),this._textPrefixContainerSignal(),this._iconSuffixContainerSignal(),this._textSuffixContainerSignal()].map(t=>t?.nativeElement).filter(t=>t!==void 0));_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=vx(Ff);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=ao(t)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||dG}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearanceSignal()}set appearance(t){let i=t||this._defaults?.appearance||iN;this._appearanceSignal.set(i)}_appearanceSignal=ye(iN);get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||rN}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||rN}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_describedByIds;get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}_destroyed=new O;_isFocused=null;_explicitFormFieldControl;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_outlineLabelOffsetResizeObserver=null;_animationsDisabled=tn();constructor(){let t=this._defaults,i=h(ls);t&&(t.appearance&&(this.appearance=t.appearance),this._hideRequiredMarker=!!t?.hideRequiredMarker,t.color&&(this.color=t.color)),ei(()=>this._currentDirection=i.valueSignal()),this._syncOutlineLabelOffset()}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._outlineLabelOffsetResizeObserver?.disconnect(),this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=qe(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(t){let i=this._control,r="mat-mdc-form-field-type-";t&&this._elementRef.nativeElement.classList.remove(r+t.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(r+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=i.stateChanges.pipe(ui([void 0,void 0]),X(()=>[i.errorState,i.userAriaDescribedBy]),Sp(),Ie(([[o,s],[a,c]])=>o!==a||s!==c)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe(Ze(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),ws(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){let t=this._control.focused;t&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!t&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._elementRef.nativeElement.classList.toggle("mat-focused",t),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",t)}_syncOutlineLabelOffset(){bx({earlyRead:()=>{if(this._appearanceSignal()!=="outline")return this._outlineLabelOffsetResizeObserver?.disconnect(),null;if(globalThis.ResizeObserver){this._outlineLabelOffsetResizeObserver||=new globalThis.ResizeObserver(()=>{this._writeOutlinedLabelStyles(this._getOutlinedLabelOffset())});for(let t of this._prefixSuffixContainers())this._outlineLabelOffsetResizeObserver.observe(t,{box:"border-box"})}return this._getOutlinedLabelOffset()},write:t=>this._writeOutlinedLabelStyles(t())})}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=qe(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(t){let i=this._control?this._control.ngControl:null;return i&&i[t]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&t.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let o=this._hintChildren?this._hintChildren.find(a=>a.align==="start"):null,s=this._hintChildren?this._hintChildren.find(a=>a.align==="end"):null;o?t.push(o.id):this._hintLabel&&t.push(this._hintLabelId),s&&t.push(s.id)}else this._errorChildren&&t.push(...this._errorChildren.map(o=>o.id));let i=this._control.describedByIds,r;if(i){let o=this._describedByIds||t;r=t.concat(i.filter(s=>s&&!o.includes(s)))}else r=t;this._control.setDescribedByIds(r),this._describedByIds=t}}_getOutlinedLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return null;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return["",null];if(!this._isAttachedToDom())return null;let t=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,r=this._iconSuffixContainer?.nativeElement,o=this._textSuffixContainer?.nativeElement,s=t?.getBoundingClientRect().width??0,a=i?.getBoundingClientRect().width??0,c=r?.getBoundingClientRect().width??0,l=o?.getBoundingClientRect().width??0,d=this._currentDirection==="rtl"?"-1":"1",u=`${s+a}px`,m=`calc(${d} * (${u} + var(--mat-mdc-form-field-label-offset-x, 0px)))`,C=`var(--mat-mdc-form-field-label-transform, ${uG} translateX(${m}))`,I=s+a+c+l;return[C,I]}_writeOutlinedLabelStyles(t){if(t!==null){let[i,r]=t;this._floatingLabel&&(this._floatingLabel.element.style.transform=i),r!==null&&this._notchedOutline?._setMaxWidth(r)}}_isAttachedToDom(){let t=this._elementRef.nativeElement;if(t.getRootNode){let i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(i&1&&(CE(o,r._labelChild,Ff,5),tt(o,$T,5),tt(o,sG,5),tt(o,aG,5),tt(o,oN,5),tt(o,Lf,5)),i&2){Vm();let s;de(s=ue())&&(r._formFieldControl=s.first),de(s=ue())&&(r._prefixChildren=s),de(s=ue())&&(r._suffixChildren=s),de(s=ue())&&(r._errorChildren=s),de(s=ue())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(i&1&&(Bc(r._iconPrefixContainerSignal,YO,5),Bc(r._textPrefixContainerSignal,QO,5),Bc(r._iconSuffixContainerSignal,ZO,5),Bc(r._textSuffixContainerSignal,JO,5),Xe(H$,5),Xe(YO,5),Xe(QO,5),Xe(ZO,5),Xe(JO,5),Xe(XO,5),Xe(nN,5),Xe(tN,5)),i&2){Vm(4);let o;de(o=ue())&&(r._textField=o.first),de(o=ue())&&(r._iconPrefixContainer=o.first),de(o=ue())&&(r._textPrefixContainer=o.first),de(o=ue())&&(r._iconSuffixContainer=o.first),de(o=ue())&&(r._textSuffixContainer=o.first),de(o=ue())&&(r._floatingLabel=o.first),de(o=ue())&&(r._notchedOutline=o.first),de(o=ue())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:38,hostBindings:function(i,r){i&2&&re("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[ut([{provide:GT,useExisting:n},{provide:sN,useExisting:n}])],ngContentSelectors:j$,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],["aria-atomic","true","aria-live","polite",1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(i&1){let o=yi();bt(V$),ni(0,G$,1,1,"ng-template",null,0,Eu),y(2,"div",6,1),xe("click",function(a){return kn(o),On(r._control.onContainerClick(a))}),$(4,q$,1,0,"div",7),y(5,"div",8),$(6,Y$,2,2,"div",9),$(7,Q$,3,0,"div",10),$(8,Z$,3,0,"div",11),y(9,"div",12),$(10,X$,1,1,null,13),_e(11),v(),$(12,eG,3,0,"div",14),$(13,tG,3,0,"div",15),v(),$(14,nG,1,0,"div",16),v(),y(15,"div",17),$(16,iG,2,0,"div",18)(17,oG,5,1,"div",19),v()}if(i&2){let o;A(2),re("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),A(2),G(!r._hasOutline()&&!r._control.disabled?4:-1),A(2),G(r._hasOutline()?6:-1),A(),G(r._hasIconPrefix?7:-1),A(),G(r._hasTextPrefix?8:-1),A(2),G(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),A(2),G(r._hasTextSuffix?12:-1),A(),G(r._hasIconSuffix?13:-1),A(),G(r._hasOutline()?-1:14),A(),re("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic");let s=r._getSubscriptMessageType();A(),G((o=s)==="error"?16:o==="hint"?17:-1)}},dependencies:[XO,nN,ku,tN,Lf],styles:[`.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator,.mdc-text-field__input::-webkit-search-cancel-button{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-filled-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-filled-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-outlined-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-outlined-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-filled-error-caret-color, var(--mat-sys-error))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-outlined-error-caret-color, var(--mat-sys-error))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-filled-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-outlined-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mat-form-field-filled-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mat-form-field-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-filled-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-filled-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-filled-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-filled-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mat-form-field-filled-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-filled-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-filled-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-filled-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-outlined-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-outlined-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-outlined-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-outlined-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mat-form-field-outlined-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-outlined-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-outlined-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-outlined-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-outline-color, var(--mat-sys-outline));border-width:var(--mat-form-field-outlined-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mat-form-field-outlined-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{max-width:min(100%,calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mat-form-field-filled-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mat-form-field-filled-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}
`],encapsulation:2,changeDetection:0})}return n})();var hG=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],fG=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function pG(n,e){n&1&&(y(0,"span",3),_e(1,1),v())}function mG(n,e){n&1&&(y(0,"span",6),_e(1,2),v())}var gG=new w("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),aN=new w("MatChipAvatar"),cN=new w("MatChipTrailingIcon"),lN=new w("MatChipEdit"),dN=new w("MatChipRemove"),hN=new w("MatChip"),fN=(()=>{class n{_elementRef=h(W);_parentChip=h(hN);_isPrimary=!0;_isLeading=!1;get disabled(){return this._disabled||this._parentChip?.disabled||!1}set disabled(t){this._disabled=t}_disabled=!1;tabIndex=-1;_allowFocusWhenDisabled=!1;_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}constructor(){h(Wt).load(nc),this._elementRef.nativeElement.nodeName==="BUTTON"&&this._elementRef.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=F({type:n,selectors:[["","matChipContent",""]],hostAttrs:[1,"mat-mdc-chip-action","mdc-evolution-chip__action","mdc-evolution-chip__action--presentational"],hostVars:8,hostBindings:function(i,r){i&2&&(Te("disabled",r._getDisabledAttribute())("aria-disabled",r.disabled),re("mdc-evolution-chip__action--primary",r._isPrimary)("mdc-evolution-chip__action--secondary",!r._isPrimary)("mdc-evolution-chip__action--trailing",!r._isPrimary&&!r._isLeading))},inputs:{disabled:[2,"disabled","disabled",Me],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?-1:Ji(t)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"}})}return n})(),vG=(()=>{class n extends fN{_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled?null:this.tabIndex.toString()}_handleClick(t){!this.disabled&&this._isPrimary&&(t.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(t){(t.keyCode===13||t.keyCode===32)&&!this.disabled&&this._isPrimary&&!this._parentChip._isEditing&&(t.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Zt(n)))(r||n)}})();static \u0275dir=F({type:n,selectors:[["","matChipAction",""]],hostVars:3,hostBindings:function(i,r){i&1&&xe("click",function(s){return r._handleClick(s)})("keydown",function(s){return r._handleKeydown(s)}),i&2&&(Te("tabindex",r._getTabindex()),re("mdc-evolution-chip__action--presentational",!1))},features:[Ge]})}return n})();var Py=(()=>{class n{_changeDetectorRef=h(Nt);_elementRef=h(W);_tagName=h(mx);_ngZone=h(U);_focusMonitor=h(so);_globalRippleOptions=h(by,{optional:!0});_document=h(H);_onFocus=new O;_onBlur=new O;_isBasicChip;role=null;_hasFocusInternal=!1;_pendingFocus;_actionChanges;_animationsDisabled=tn();_allLeadingIcons;_allTrailingIcons;_allEditIcons;_allRemoveIcons;_hasFocus(){return this._hasFocusInternal}id=h(Rt).getId("mat-mdc-chip-");ariaLabel=null;ariaDescription=null;_chipListDisabled=!1;_hadFocusOnRemove=!1;_textElement;get value(){return this._value!==void 0?this._value:this._textElement.textContent.trim()}set value(t){this._value=t}_value;color;removable=!0;highlighted=!1;disableRipple=!1;get disabled(){return this._disabled||this._chipListDisabled}set disabled(t){this._disabled=t}_disabled=!1;removed=new ve;destroyed=new ve;basicChipAttrName="mat-basic-chip";leadingIcon;editIcon;trailingIcon;removeIcon;primaryAction;_rippleLoader=h(Ey);_injector=h(me);constructor(){let t=h(Wt);t.load(nc),t.load(hy),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){this._isBasicChip=this._elementRef.nativeElement.hasAttribute(this.basicChipAttrName)||this._tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=ws(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allEditIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&(this._hadFocusOnRemove=this._hasFocus(),this.removed.emit({chip:this}))}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!this._hasInteractiveActions()||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!!(this.trailingIcon||this.removeIcon)}_handleKeydown(t){(t.keyCode===8&&!t.repeat||t.keyCode===46)&&(t.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(t){return this._getActions().find(i=>{let r=i._elementRef.nativeElement;return r===t||r.contains(t)})}_getActions(){let t=[];return this.editIcon&&t.push(this.editIcon),this.primaryAction&&t.push(this.primaryAction),this.removeIcon&&t.push(this.removeIcon),t}_handlePrimaryActionInteraction(){}_hasInteractiveActions(){return this._getActions().length>0}_edit(t){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{let i=t!==null;i!==this._hasFocusInternal&&(this._hasFocusInternal=i,i?this._onFocus.next({chip:this}):(this._changeDetectorRef.markForCheck(),setTimeout(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})))))})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(i,r,o){if(i&1&&(tt(o,aN,5),tt(o,lN,5),tt(o,cN,5),tt(o,dN,5),tt(o,aN,5),tt(o,cN,5),tt(o,lN,5),tt(o,dN,5)),i&2){let s;de(s=ue())&&(r.leadingIcon=s.first),de(s=ue())&&(r.editIcon=s.first),de(s=ue())&&(r.trailingIcon=s.first),de(s=ue())&&(r.removeIcon=s.first),de(s=ue())&&(r._allLeadingIcons=s),de(s=ue())&&(r._allTrailingIcons=s),de(s=ue())&&(r._allEditIcons=s),de(s=ue())&&(r._allRemoveIcons=s)}},viewQuery:function(i,r){if(i&1&&Xe(vG,5),i&2){let o;de(o=ue())&&(r.primaryAction=o.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:31,hostBindings:function(i,r){i&1&&xe("keydown",function(s){return r._handleKeydown(s)}),i&2&&(Mr("id",r.id),Te("role",r.role)("aria-label",r.ariaLabel),bi("mat-"+(r.color||"primary")),re("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",r.leadingIcon)("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-basic-chip",r._isBasicChip)("mat-mdc-standard-chip",!r._isBasicChip)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon())("_mat-animation-noopable",r._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",Me],highlighted:[2,"highlighted","highlighted",Me],disableRipple:[2,"disableRipple","disableRipple",Me],disabled:[2,"disabled","disabled",Me]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[ut([{provide:hN,useExisting:n}])],ngContentSelectors:fG,decls:8,vars:2,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipContent",""],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(i,r){i&1&&(bt(hG),De(0,"span",0),y(1,"span",1)(2,"span",2),$(3,pG,2,0,"span",3),y(4,"span",4),_e(5),De(6,"span",5),v()()(),$(7,mG,2,0,"span",6)),i&2&&(A(3),G(r.leadingIcon?3:-1),A(4),G(r._hasTrailingIcon()?7:-1))},dependencies:[fN],styles:[`.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}@media(forced-colors: active){.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{forced-color-adjust:none}}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mat-chip-outline-width, 1px);border-radius:var(--mat-chip-container-shape-radius, 8px);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mat-chip-outline-color, var(--mat-sys-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mat-chip-focus-outline-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mat-chip-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mat-chip-flat-selected-outline-width, 0)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--secondary{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--secondary{color:var(--mat-chip-with-trailing-icon-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--secondary{color:var(--mat-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mat-chip-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-chip-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-chip-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mat-chip-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-chip-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mat-chip-label-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mat-chip-selected-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mat-chip-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mat-chip-with-avatar-avatar-size, 24px);height:var(--mat-chip-with-avatar-avatar-size, 24px);font-size:var(--mat-chip-with-avatar-avatar-size, 24px)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__graphic{padding-left:0}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mat-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mat-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@media(forced-colors: active){.mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity, 1)*var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity, 1)*var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mat-mdc-standard-chip{border-radius:var(--mat-chip-container-shape-radius, 8px);height:var(--mat-chip-container-height, 32px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mat-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mat-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mat-chip-elevated-selected-container-color, var(--mat-sys-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mat-chip-flat-disabled-selected-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}@media(forced-colors: active){.mat-mdc-standard-chip{outline:solid 1px}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mat-chip-with-avatar-avatar-shape-radius, 24px);width:var(--mat-chip-with-icon-icon-size, 18px);height:var(--mat-chip-with-icon-icon-size, 18px);font-size:var(--mat-chip-with-icon-icon-size, 18px)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mat-chip-with-icon-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mat-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-highlighted{--mat-chip-with-icon-icon-color: var(--mat-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container));--mat-chip-elevated-container-color: var(--mat-chip-elevated-selected-container-color, var(--mat-sys-secondary-container));--mat-chip-label-text-color: var(--mat-chip-selected-label-text-color, var(--mat-sys-on-secondary-container));--mat-chip-outline-width: var(--mat-chip-flat-selected-outline-width, 0)}.mat-mdc-chip-focus-overlay{background:var(--mat-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mat-chip-hover-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-hover-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mat-chip-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mat-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mat-chip-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mat-chip-with-avatar-disabled-avatar-opacity, 0.38)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mat-chip-with-icon-disabled-icon-opacity, 0.38)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity, 1)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-edit,.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity, 1)}.mat-mdc-chip-edit:focus,.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity, 1)}.mat-mdc-chip-edit::after,.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-edit:hover::after,.mat-mdc-chip-remove:hover::after{opacity:calc(var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)) + var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)))}.mat-mdc-chip-edit:focus::after,.mat-mdc-chip-remove:focus::after{opacity:calc(var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)) + var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-edit:focus::after,.mat-mdc-chip.cdk-focused .mat-mdc-chip-remove:focus::after{opacity:calc(var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)) + var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-edit:hover::after,.mat-mdc-chip.cdk-focused .mat-mdc-chip-remove:hover::after{opacity:calc(var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)) + var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mat-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-edit::before,.mat-mdc-chip-remove::before{margin:calc(var(--mat-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-edit::after,.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-edit .mat-icon,.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}@media(forced-colors: active){.mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}}.mat-mdc-chip-action:focus .mat-focus-indicator::before{content:""}.mdc-evolution-chip__icon,.mat-mdc-chip-edit .mat-icon,.mat-mdc-chip-remove .mat-icon{min-height:fit-content}img.mdc-evolution-chip__icon{min-height:0}
`],encapsulation:2,changeDetection:0})}return n})();var Fy=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=K({type:n});static \u0275inj=j({providers:[My,{provide:gG,useValue:{separatorKeyCodes:[13]}}],imports:[wy,Le]})}return n})();var Bf=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=K({type:n});static \u0275inj=j({imports:[py,Oy,Le]})}return n})();var Ly;function _G(){if(Ly===void 0&&(Ly=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(Ly=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Ly}function Uf(n){return _G()?.createHTML(n)||n}function mN(n){return Error(`Unable to find icon with the name "${n}"`)}function bG(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function gN(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function vN(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var co=class{url;svgText;options;svgElement;constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}},_N=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new co(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){let s=this._sanitizer.sanitize(Ht.HTML,r);if(!s)throw vN(r);let a=Uf(s);return this._addSvgIconConfig(t,i,new co("",a,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new co(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){let o=this._sanitizer.sanitize(Ht.HTML,i);if(!o)throw vN(i);let s=Uf(o);return this._addSvgIconSetConfig(t,new co("",s,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let i=this._sanitizer.sanitize(Ht.RESOURCE_URL,t);if(!i)throw gN(t);let r=this._cachedIconsByUrl.get(i);return r?B(By(r)):this._loadSvgIconFromConfig(new co(t,null)).pipe(mt(o=>this._cachedIconsByUrl.set(i,o)),X(o=>By(o)))}getNamedSvgIcon(t,i=""){let r=yN(i,t),o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(t,s):Md(mN(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?B(By(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(X(i=>By(i)))}_getSvgFromIconSetConfigs(t,i){let r=this._extractIconWithNameFromAnySet(t,i);if(r)return B(r);let o=i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Mn(a=>{let l=`Loading icon set URL: ${this._sanitizer.sanitize(Ht.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(l)),B(null)})));return Nd(o).pipe(X(()=>{let s=this._extractIconWithNameFromAnySet(t,i);if(!s)throw mN(t);return s}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){let o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){let s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(mt(i=>t.svgText=i),X(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?B(null):this._fetchIcon(t).pipe(mt(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){let o=t.querySelector(`[id="${i}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,r);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),r);let a=this._svgElementFromString(Uf("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(t){let i=this._document.createElement("DIV");i.innerHTML=t;let r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){let i=this._svgElementFromString(Uf("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){let{name:s,value:a}=r[o];s!=="id"&&i.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){let{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw bG();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let s=this._sanitizer.sanitize(Ht.RESOURCE_URL,i);if(!s)throw gN(i);let a=this._inProgressUrlFetches.get(s);if(a)return a;let c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(X(l=>Uf(l)),Is(()=>this._inProgressUrlFetches.delete(s)),Fd());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(yN(t,i),r),this}_addSvgIconSetConfig(t,i){let r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){let i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){let o=this._resolvers[r](i,t);if(o)return CG(o)?new co(o.url,null,o.options):new co(o,null)}}static \u0275fac=function(i){return new(i||n)(P(sg,8),P(Uu),P(H,8),P(bn))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function By(n){return n.cloneNode(!0)}function yN(n,e){return n+":"+e}function CG(n){return!!(n.url&&n.options)}var EG=["*"],wG=new w("MAT_ICON_DEFAULT_OPTIONS"),IG=new w("mat-icon-location",{providedIn:"root",factory:()=>{let n=h(H),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),bN=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],TG=bN.map(n=>`[${n}]`).join(", "),SG=/^url\(['"]?#(.*?)['"]?\)$/,us=(()=>{class n{_elementRef=h(W);_iconRegistry=h(_N);_location=h(IG);_errorHandler=h(bn);_defaultColor;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(t){let i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(t){let i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=Ae.EMPTY;constructor(){let t=h(new Do("aria-hidden"),{optional:!0}),i=h(wG,{optional:!0});i&&(i.color&&(this.color=this._defaultColor=i.color),i.fontSet&&(this.fontSet=i.fontSet)),t||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let r=t.childNodes[i];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){let i=t.querySelectorAll(TG),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)bN.forEach(s=>{let a=i[o],c=a.getAttribute(s),l=c?c.match(SG):null;if(l){let d=r.get(a);d||(d=[],r.set(a,d)),d.push({name:s,value:l[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(kt(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${i}:${r}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){i&2&&(Te("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),bi(r.color?"mat-"+r.color:""),re("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Me],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:EG,decls:1,vars:0,template:function(i,r){i&1&&(bt(),_e(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return n})(),hs=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=K({type:n});static \u0275inj=j({imports:[Le]})}return n})();var AG=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}
`],encapsulation:2,changeDetection:0})}return n})(),DG={passive:!0},CN=(()=>{class n{_platform=h(Re);_ngZone=h(U);_renderer=h(St).createRenderer(null,null);_styleLoader=h(Wt);_monitoredElements=new Map;constructor(){}monitor(t){if(!this._platform.isBrowser)return pt;this._styleLoader.load(AG);let i=Wn(t),r=this._monitoredElements.get(i);if(r)return r.subject;let o=new O,s="cdk-text-field-autofilled",a=l=>{l.animationName==="cdk-text-field-autofill-start"&&!i.classList.contains(s)?(i.classList.add(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!0}))):l.animationName==="cdk-text-field-autofill-end"&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!1})))},c=this._ngZone.runOutsideAngular(()=>(i.classList.add("cdk-text-field-autofill-monitored"),this._renderer.listen(i,"animationstart",a,DG)));return this._monitoredElements.set(i,{subject:o,unlisten:c}),o}stopMonitoring(t){let i=Wn(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var EN=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=K({type:n});static \u0275inj=j({})}return n})();var wN=new w("MAT_INPUT_VALUE_ACCESSOR");var xG=["button","checkbox","file","hidden","image","radio","range","reset","submit"],MG=new w("MAT_INPUT_CONFIG"),IN=(()=>{class n{_elementRef=h(W);_platform=h(Re);ngControl=h(Xa,{optional:!0,self:!0});_autofillMonitor=h(CN);_ngZone=h(U);_formField=h(GT,{optional:!0});_renderer=h(yt);_uid=h(Rt).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=h(MG,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new O;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=ao(t),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(t){this._id=t||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(vr.required)??!1}set required(t){this._required=ao(t)}_required;get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&PT().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(t){t!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(t):this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=ao(t)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>PT().has(t));constructor(){let t=h(CT,{optional:!0}),i=h(Df,{optional:!0}),r=h(My),o=h(wN,{optional:!0,self:!0}),s=this._elementRef.nativeElement,a=s.nodeName.toLowerCase();o?Fc(o.value)?this._signalBasedValueAccessor=o:this._inputValueAccessor=o:this._inputValueAccessor=s,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(s,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Ry(r,this.ngControl,i,t,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=a==="select",this._isTextarea=a==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=s.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&ei(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){if(t!==this.focused){if(!this._isNativeSelect&&t&&this.disabled&&this.disabledInteractive){let i=this._elementRef.nativeElement;i.type==="number"?(i.type="text",i.setSelectionRange(0,0),i.type="number"):i.setSelectionRange(0,0)}this.focused=t,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){let t=this._getPlaceholder();if(t!==this._previousPlaceholder){let i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){xG.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}else return this.focused&&!this.disabled||!this.empty}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(t){let i=this._elementRef.nativeElement;t.length?i.setAttribute("aria-describedby",t.join(" ")):i.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}_iOSKeyupListener=t=>{let i=t.target;!i.value&&i.selectionStart===0&&i.selectionEnd===0&&(i.setSelectionRange(1,1),i.setSelectionRange(0,0))};_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=F({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(i,r){i&1&&xe("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),i&2&&(Mr("id",r.id)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),Te("name",r.name||null)("readonly",r._getReadonlyAttribute())("aria-disabled",r.disabled&&r.disabledInteractive?"true":null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),re("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mat-mdc-input-disabled-interactive",r.disabledInteractive)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Me]},exportAs:["matInput"],features:[ut([{provide:$T,useExisting:n}]),dt]})}return n})(),TN=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=K({type:n});static \u0275inj=j({imports:[Bf,Bf,EN,Le]})}return n})();var Hf="app_config",Ni=class n{config=ye(null);isConfigured=qe(()=>this.config()!==null);apiConfig=qe(()=>this.config()?.api??null);azureConfig=qe(()=>this.config()?.azure??null);constructor(){this.loadFromStorage()}generateScopes(e){return!e||!e.trim()?[]:["Relia.Create","Relia.Read","Relia.Update","Relia.Delete"].map(i=>`api://${e}/${i}`)}setConfig(e){this.config.set(e),this.saveToStorage()}getConfig(){return this.config()}clearConfig(){this.config.set(null),localStorage.removeItem(Hf)}saveToStorage(){let e=this.config();if(e)try{localStorage.setItem(Hf,JSON.stringify(e))}catch(t){console.error("Failed to save configuration to localStorage:",t)}}loadFromStorage(){try{let e=localStorage.getItem(Hf);if(e){let t=JSON.parse(e);this.isValidConfig(t)?this.config.set(t):localStorage.removeItem(Hf)}}catch(e){console.error("Failed to load configuration from localStorage:",e),localStorage.removeItem(Hf)}}isValidConfig(e){return e&&typeof e=="object"&&e.api&&typeof e.api.apiBaseUrl=="string"&&e.azure&&typeof e.azure.tenantId=="string"&&typeof e.azure.clientId=="string"&&typeof e.azure.authority=="string"&&typeof e.azure.redirectUri=="string"&&Array.isArray(e.azure.apiScopes)}initialize(e){this.setConfig(e);let t=document.querySelector("base")?.getAttribute("href")||"/";window.location.href=t}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})};function kG(){return window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname==="[::1]"}function OG(){return window.location.hostname.includes("github.io")}function qT(){let n=document.querySelector("base")?.getAttribute("href")||"/";if(n==="/")return window.location.origin;let e=n.replace(/\/$/,"");return`${window.location.origin}${e}`}function ic(){return qT()}function SN(){let n=[];n.push("http://localhost:4200"),n.push("https://localhost:4200"),n.push("https://mudasarahmad42.github.io/AzureAuthViewer");let e=ic();return n.includes(e)||n.push(e),[...new Set(n)]}function AN(){return kG()?"Local Development":OG()?"GitHub Pages":"Production"}function NG(n,e){if(n&1&&(y(0,"mat-error"),_(1),v()),n&2){let t=J();A(),Se(t.getFormControlError("apiBaseUrl"))}}function PG(n,e){if(n&1&&(y(0,"mat-error"),_(1),v()),n&2){let t=J();A(),Se(t.getFormControlError("tenantId"))}}function FG(n,e){if(n&1&&(y(0,"mat-error"),_(1),v()),n&2){let t=J();A(),Se(t.getFormControlError("clientId"))}}function LG(n,e){if(n&1&&(y(0,"mat-chip"),_(1),v()),n&2){let t=e.$implicit;A(),Se(t)}}function BG(n,e){if(n&1&&(y(0,"div",8)(1,"strong"),_(2,"Generated API Scopes:"),v(),y(3,"div",20),qs(4,LG,2,1,"mat-chip",null,Gs),v()()),n&2){let t=J();A(4),Ws(t.generatedScopes())}}function UG(n,e){if(n&1&&(y(0,"mat-error"),_(1),v()),n&2){let t=J();A(),Se(t.getFormControlError("redirectUri"))}}function HG(n,e){if(n&1&&(y(0,"strong",21),_(1),v()),n&2){let t=J(2);A(),cn(" (Current - ",t.environmentName,")")}}function VG(n,e){if(n&1&&(y(0,"li",14)(1,"code"),_(2),v(),$(3,HG,2,1,"strong",21),v()),n&2){let t=e.$implicit,i=J();A(2),Se(t),A(),G(t===i.currentRedirectUri?3:-1)}}var Hy=class n{configService=h(Ni);fb=h(hO);router=h(jn);configForm;generatedScopes=ye([]);get currentRedirectUri(){return ic()}get allRedirectUris(){return SN()}get environmentName(){return AN()}constructor(){let e=this.configService.getConfig();if(this.configForm=this.fb.group({apiBaseUrl:[e?.api.apiBaseUrl||"",[vr.required,vr.pattern(/^https?:\/\/.+/)]],tenantId:[e?.azure.tenantId||"",vr.required],clientId:[e?.azure.clientId||"",vr.required],redirectUri:[e?.azure.redirectUri||ic(),vr.required]}),this.configForm.get("clientId")?.valueChanges.subscribe(t=>{if(t&&t.trim()){let i=this.configService.generateScopes(t.trim());this.generatedScopes.set(i)}else this.generatedScopes.set([])}),this.configForm.get("tenantId")?.valueChanges.subscribe(t=>{t&&t.trim()&&this.configForm.get("authority")?.dirty}),e?.azure.clientId){let t=this.configService.generateScopes(e.azure.clientId);this.generatedScopes.set(t)}}onSubmit(){if(this.configForm.invalid){this.configForm.markAllAsTouched();return}let e=this.configForm.value,t=e.tenantId.trim(),i=e.clientId.trim(),r=`https://login.microsoftonline.com/${t}`,o=this.generatedScopes(),s={api:{apiBaseUrl:e.apiBaseUrl.trim()},azure:{tenantId:t,clientId:i,authority:r,redirectUri:e.redirectUri.trim()||ic(),apiScopes:o}};this.configService.initialize(s)}getFormControlError(e){let t=this.configForm.get(e);if(t&&t.invalid&&t.touched){if(t.errors?.required)return`${e} is required`;if(t.errors?.pattern)return"Please enter a valid URL"}return null}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Q({type:n,selectors:[["app-config"]],decls:151,vars:10,consts:[[1,"config"],["appearance","outlined"],[3,"ngSubmit","formGroup"],[1,"config__section"],["appearance","outline",1,"config__field"],["matInput","","formControlName","apiBaseUrl","placeholder","https://localhost:5001","required",""],["matInput","","formControlName","tenantId","placeholder","176ad305-0f3d-4fb0-aace-442c98f5a749","required",""],["matInput","","formControlName","clientId","placeholder","3184f1ac-44b5-4825-beea-7b00e94777e7","required",""],[1,"config__scopes"],["matInput","","formControlName","redirectUri","required","",3,"placeholder"],[1,"config__help"],[1,"config__help-content"],["href","https://portal.azure.com","target","_blank"],[2,"margin-top","0.5rem"],[2,"margin","0.25rem 0"],[1,"config__help-note",2,"margin-top","1rem","padding","0.75rem","background-color","#e3f2fd","border-left","4px solid #2196f3"],[2,"color","#2196f3"],[1,"config__help-note"],[1,"config__actions"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],[1,"config__scopes-list"],[2,"color","green"]],template:function(t,i){if(t&1&&(y(0,"section",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),_(4,"Application Configuration"),v(),y(5,"mat-card-subtitle"),_(6,"Configure API endpoints and Azure AD credentials"),v()(),y(7,"mat-card-content")(8,"form",2),xe("ngSubmit",function(){return i.onSubmit()}),y(9,"div",3)(10,"h3")(11,"mat-icon"),_(12,"api"),v(),_(13," API Configuration "),v(),y(14,"mat-form-field",4)(15,"mat-label"),_(16,"API Base URL"),v(),De(17,"input",5),y(18,"mat-hint"),_(19,"The base URL of your backend API"),v(),$(20,NG,2,1,"mat-error"),v()(),y(21,"div",3)(22,"h3")(23,"mat-icon"),_(24,"security"),v(),_(25," Azure AD Configuration "),v(),y(26,"mat-form-field",4)(27,"mat-label"),_(28,"Tenant ID"),v(),De(29,"input",6),y(30,"mat-hint"),_(31,"Your Azure AD tenant ID"),v(),$(32,PG,2,1,"mat-error"),v(),y(33,"mat-form-field",4)(34,"mat-label"),_(35,"Client ID (Application ID)"),v(),De(36,"input",7),y(37,"mat-hint"),_(38,"Your Azure AD application (client) ID"),v(),$(39,FG,2,1,"mat-error"),v(),$(40,BG,6,0,"div",8),y(41,"mat-form-field",4)(42,"mat-label"),_(43,"Redirect URI (Current Environment)"),v(),De(44,"input",9),y(45,"mat-hint"),_(46," Current environment: "),y(47,"strong"),_(48),v(),De(49,"br"),_(50," This redirect URI is auto-detected. Make sure all redirect URIs listed below are added to Azure AD. "),v(),$(51,UG,2,1,"mat-error"),v(),y(52,"div",10)(53,"details")(54,"summary")(55,"mat-icon"),_(56,"help_outline"),v(),y(57,"strong"),_(58,"Azure AD Setup Instructions"),v()(),y(59,"div",11)(60,"p")(61,"strong"),_(62,"Important:"),v(),_(63," Your Azure AD app registration must be configured as a "),y(64,"strong"),_(65,"Single-Page Application (SPA)"),v(),_(66,", not a Web application."),v(),y(67,"ol")(68,"li"),_(69,"Go to "),y(70,"a",12),_(71,"Azure Portal"),v(),_(72," \u2192 Azure Active Directory \u2192 App registrations"),v(),y(73,"li"),_(74,"Select your app (Client ID: "),y(75,"code"),_(76),v(),_(77,")"),v(),y(78,"li"),_(79,"Go to "),y(80,"strong"),_(81,"Authentication"),v(),_(82," section"),v(),y(83,"li"),_(84,"Under "),y(85,"strong"),_(86,"Platform configurations"),v(),_(87,": "),y(88,"ul")(89,"li"),_(90,"If you see a "),y(91,"strong"),_(92,"Web"),v(),_(93," platform, delete it"),v(),y(94,"li"),_(95,"Click "),y(96,"strong"),_(97,'"Add a platform"'),v(),_(98," \u2192 Select "),y(99,"strong"),_(100,'"Single-page application"'),v()(),y(101,"li")(102,"strong"),_(103,"Add ALL of these redirect URIs"),v(),_(104," (for both local testing and production): "),y(105,"ul",13),qs(106,VG,4,2,"li",14,Gs),v()(),y(108,"li"),_(109,"Click "),y(110,"strong"),_(111,"Configure"),v()()()(),y(112,"li"),_(113,"Under "),y(114,"strong"),_(115,"API permissions"),v(),_(116,": "),y(117,"ul")(118,"li"),_(119,"Add permission to your backend API"),v(),y(120,"li"),_(121,"Grant admin consent if required"),v()()()(),y(122,"div",15)(123,"mat-icon",16),_(124,"info"),v(),y(125,"div")(126,"strong"),_(127,"Why add multiple redirect URIs?"),v(),De(128,"br"),_(129," You need to add both local development URLs ("),y(130,"code"),_(131,"http://localhost:4200"),v(),_(132," and "),y(133,"code"),_(134,"https://localhost:4200"),v(),_(135,") and the production URL ("),y(136,"code"),_(137,"https://mudasarahmad42.github.io/AzureAuthViewer"),v(),_(138,") to Azure AD. This allows you to test locally and then deploy to GitHub Pages without changing Azure AD settings. Azure AD will automatically use the correct redirect URI based on where the authentication request originates. "),v()(),y(139,"div",17)(140,"mat-icon"),_(141,"warning"),v(),y(142,"div")(143,"strong"),_(144,"Common Error:"),v(),_(145,` If you see "AADSTS9002326: Cross-origin token redemption is permitted only for the 'Single-Page Application' client-type", it means your app registration is configured as a Web app instead of SPA. Follow the steps above to fix it. `),v()()()()()(),y(146,"div",18)(147,"button",19)(148,"mat-icon"),_(149,"check_circle"),v(),_(150," Initialize Application "),v()()()()()()),t&2){let r;A(8),Pe("formGroup",i.configForm),A(12),G(i.getFormControlError("apiBaseUrl")?20:-1),A(12),G(i.getFormControlError("tenantId")?32:-1),A(7),G(i.getFormControlError("clientId")?39:-1),A(),G(i.generatedScopes().length>0?40:-1),A(4),Pe("placeholder",i.currentRedirectUri),A(4),Se(i.environmentName),A(3),G(i.getFormControlError("redirectUri")?51:-1),A(25),Se(((r=i.configForm.get("clientId"))==null?null:r.value)||"your-client-id"),A(30),Ws(i.allRedirectUris),A(41),Pe("disabled",i.configForm.invalid||i.configForm.pending)}},dependencies:[Mo,fO,dO,ay,iO,rO,wT,Df,ET,yr,ds,xy,Ty,Ay,Dy,GO,Sy,Fy,Py,Bf,Oy,Ff,Lf,zT,hs,us,TN,IN],styles:[".config[_ngcontent-%COMP%]{max-width:800px;margin:2rem auto;padding:0 1rem}.config__section[_ngcontent-%COMP%]{margin-bottom:2rem}.config__section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:0 0 1rem;font-size:1.125rem;font-weight:500;color:#000000de}.config__section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.config__field[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.config__scopes[_ngcontent-%COMP%]{margin:1rem 0;padding:1rem;background:#f5f5f5;border-radius:6px}.config__scopes[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:.75rem;color:#000000de;font-weight:500}.config__scopes-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.config__scopes-list[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-family:Roboto Mono,Courier New,Courier,monospace;font-size:.875rem}.config__help[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;background:#f5f5f5;border-radius:6px;border-left:4px solid #2196f3}.config__help[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;font-weight:500;color:#000000de;padding:.5rem 0;-webkit-user-select:none;user-select:none}.config__help[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#2196f3}.config__help[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:hover{color:#1976d2}.config__help-content[_ngcontent-%COMP%]{margin-top:1rem;padding-top:1rem;border-top:1px solid rgba(0,0,0,.12)}.config__help-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;color:#000000de;line-height:1.6}.config__help-content[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], .config__help-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:.75rem 0;padding-left:1.5rem;color:#000000de}.config__help-content[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .config__help-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.5rem 0;line-height:1.6}.config__help-content[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .config__help-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:.5rem;margin-bottom:.5rem}.config__help-content[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#0000000f;padding:.125rem .375rem;border-radius:3px;font-family:Roboto Mono,Courier New,Courier,monospace;font-size:.875rem;color:#d32f2f}.config__help-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1976d2;text-decoration:none}.config__help-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.config__help-note[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;margin-top:1rem;padding:1rem;background:#fff3cd;border:1px solid #ffc107;border-radius:6px;border-left:4px solid #f57c00}.config__help-note[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px;color:#f57c00;flex-shrink:0}.config__help-note[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1;color:#000000de}.config__help-note[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:.25rem;color:#f57c00}.config__actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:2rem;padding-top:1rem;border-top:1px solid rgba(0,0,0,.12)}.config__actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:200px}.config__actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}"]})};var Vf=(()=>{class n{_listeners=[];notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var WT=new w("CdkAccordion"),DN=(()=>{class n{_stateChanges=new O;_openCloseAllActions=new O;id=h(Rt).getId("cdk-accordion-");multi=!1;openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=F({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",Me]},exportAs:["cdkAccordion"],features:[ut([{provide:WT,useExisting:n}]),dt]})}return n})(),xN=(()=>{class n{accordion=h(WT,{optional:!0,skipSelf:!0});_changeDetectorRef=h(Nt);_expansionDispatcher=h(Vf);_openCloseAllSubscription=Ae.EMPTY;closed=new ve;opened=new ve;destroyed=new ve;expandedChange=new ve;id=h(Rt).getId("cdk-accordion-child-");get expanded(){return this._expanded}set expanded(t){if(this._expanded!==t){if(this._expanded=t,this.expandedChange.emit(t),t){this.opened.emit();let i=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,i)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}_expanded=!1;get disabled(){return this._disabled()}set disabled(t){this._disabled.set(t)}_disabled=ye(!1);_removeUniqueSelectionListener=()=>{};constructor(){}ngOnInit(){this._removeUniqueSelectionListener=this._expansionDispatcher.listen((t,i)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===i&&this.id!==t&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=F({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",Me],disabled:[2,"disabled","disabled",Me]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[ut([{provide:WT,useValue:void 0}])]})}return n})(),MN=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=K({type:n});static \u0275inj=j({})}return n})();var jf=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},fs=class extends jf{component;viewContainerRef;injector;projectableNodes;constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.projectableNodes=r}},ps=class extends jf{templateRef;viewContainerRef;context;injector;constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},KT=class extends jf{element;constructor(e){super(),this.element=e instanceof W?e.nativeElement:e}},gd=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof fs)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof ps)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof KT)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},Vy=class extends gd{outletElement;_appRef;_defaultInjector;constructor(e,t,i){super(),this.outletElement=e,this._appRef=t,this._defaultInjector=i}attachComponentPortal(e){let t;if(e.viewContainerRef){let i=e.injector||e.viewContainerRef.injector,r=i.get(Yi,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:i,ngModuleRef:r,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{let i=this._appRef,r=e.injector||this._defaultInjector||me.NULL,o=r.get($e,i.injector);t=zm(e.component,{elementInjector:r,environmentInjector:o,projectableNodes:e.projectableNodes||void 0}),i.attachView(t.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);r!==-1&&t.remove(r)}),this._attachedPortal=e,i}attachDomPortal=e=>{let t=e.element;t.parentNode;let i=this.outletElement.ownerDocument.createComment("dom-portal");t.parentNode.insertBefore(i,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(t,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var zf=(()=>{class n extends gd{_moduleRef=h(Yi,{optional:!0});_document=h(H);_viewContainerRef=h(Jt);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}attached=new ve;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let i=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,r=i.createComponent(t.component,{index:i.length,injector:t.injector||i.injector,projectableNodes:t.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return i!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachDomPortal=t=>{let i=t.element;i.parentNode;let r=this._document.createComment("dom-portal");t.setAttachedHost(this),i.parentNode.insertBefore(r,i),this._getRootNode().appendChild(i),this._attachedPortal=t,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(i,r)})};_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static \u0275fac=function(i){return new(i||n)};static \u0275dir=F({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ge]})}return n})(),vd=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=K({type:n});static \u0275inj=j({})}return n})();var jG=["body"],zG=["bodyWrapper"],$G=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],GG=["mat-expansion-panel-header","*","mat-action-row"];function qG(n,e){}var WG=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],KG=["mat-panel-title","mat-panel-description","*"];function YG(n,e){n&1&&(an(0,"span",1),wo(),an(1,"svg",2),En(2,"path",3),Cn()())}var YT=new w("MAT_ACCORDION"),RN=new w("MAT_EXPANSION_PANEL"),QG=(()=>{class n{_template=h(Fn);_expansionPanel=h(RN,{optional:!0});constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=F({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]})}return n})(),kN=new w("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),QT=(()=>{class n extends xN{_viewContainerRef=h(Jt);_animationsDisabled=tn();_document=h(H);_ngZone=h(U);_elementRef=h(W);_renderer=h(yt);_cleanupTransitionEnd;get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=t}_hideToggle=!1;get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_togglePosition;afterExpand=new ve;afterCollapse=new ve;_inputChanges=new O;accordion=h(YT,{optional:!0,skipSelf:!0});_lazyContent;_body;_bodyWrapper;_portal;_headerId=h(Rt).getId("mat-expansion-panel-header-");constructor(){super();let t=h(kN,{optional:!0});this._expansionDispatcher=h(Vf),t&&(this.hideToggle=t.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(ui(null),Ie(()=>this.expanded&&!this._portal),kt(1)).subscribe(()=>{this._portal=new ps(this._lazyContent._template,this._viewContainerRef)}),this._setupAnimationEvents()}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransitionEnd?.(),this._inputChanges.complete()}_containsFocus(){if(this._body){let t=this._document.activeElement,i=this._body.nativeElement;return t===i||i.contains(t)}return!1}_transitionEndListener=({target:t,propertyName:i})=>{t===this._bodyWrapper?.nativeElement&&i==="grid-template-rows"&&this._ngZone.run(()=>{this.expanded?this.afterExpand.emit():this.afterCollapse.emit()})};_setupAnimationEvents(){this._ngZone.runOutsideAngular(()=>{this._animationsDisabled?(this.opened.subscribe(()=>this._ngZone.run(()=>this.afterExpand.emit())),this.closed.subscribe(()=>this._ngZone.run(()=>this.afterCollapse.emit()))):setTimeout(()=>{let t=this._elementRef.nativeElement;this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this._transitionEndListener),t.classList.add("mat-expansion-panel-animations-enabled")},200)})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(i,r,o){if(i&1&&tt(o,QG,5),i&2){let s;de(s=ue())&&(r._lazyContent=s.first)}},viewQuery:function(i,r){if(i&1&&(Xe(jG,5),Xe(zG,5)),i&2){let o;de(o=ue())&&(r._body=o.first),de(o=ue())&&(r._bodyWrapper=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:4,hostBindings:function(i,r){i&2&&re("mat-expanded",r.expanded)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",Me],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[ut([{provide:YT,useValue:void 0},{provide:RN,useExisting:n}]),Ge,dt],ngContentSelectors:GG,decls:9,vars:4,consts:[["bodyWrapper",""],["body",""],[1,"mat-expansion-panel-content-wrapper"],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,r){i&1&&(bt($G),_e(0),y(1,"div",2,0)(3,"div",3,1)(5,"div",4),_e(6,1),ni(7,qG,0,0,"ng-template",5),v(),_e(8,2),v()()),i&2&&(A(),Te("inert",r.expanded?null:""),A(2),Pe("id",r.id),Te("aria-labelledby",r._headerId),A(4),Pe("cdkPortalOutlet",r._portal))},dependencies:[zf],styles:[`.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;position:relative;background:var(--mat-expansion-container-background-color, var(--mat-sys-surface));color:var(--mat-expansion-container-text-color, var(--mat-sys-on-surface));border-radius:var(--mat-expansion-container-shape, 12px)}.mat-expansion-panel.mat-expansion-panel-animations-enabled{transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:var(--mat-expansion-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape, 12px);border-top-left-radius:var(--mat-expansion-container-shape, 12px)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape, 12px);border-bottom-left-radius:var(--mat-expansion-container-shape, 12px)}@media(forced-colors: active){.mat-expansion-panel{outline:solid 1px}}.mat-expansion-panel-content-wrapper{display:grid;grid-template-rows:0fr;grid-template-columns:100%}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content-wrapper{transition:grid-template-rows 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{grid-template-rows:1fr}@supports not (grid-template-rows: 0fr){.mat-expansion-panel-content-wrapper{height:0}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{height:auto}}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;min-height:0;visibility:hidden;font-family:var(--mat-expansion-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-sys-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-sys-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-sys-body-large-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content{transition:visibility 190ms linear}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper>.mat-expansion-panel-content{visibility:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-sys-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}
`],encapsulation:2,changeDetection:0})}return n})();var ZT=(()=>{class n{panel=h(QT,{host:!0});_element=h(W);_focusMonitor=h(so);_changeDetectorRef=h(Nt);_parentChangeSubscription=Ae.EMPTY;constructor(){h(Wt).load(nc);let t=this.panel,i=h(kN,{optional:!0}),r=h(new Do("tabindex"),{optional:!0}),o=t.accordion?t.accordion._stateChanges.pipe(Ie(s=>!!(s.hideToggle||s.togglePosition))):pt;this.tabIndex=parseInt(r||"")||0,this._parentChangeSubscription=ws(t.opened,t.closed,o,t._inputChanges.pipe(Ie(s=>!!(s.hideToggle||s.disabled||s.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(Ie(()=>t._containsFocus())).subscribe(()=>this._focusMonitor.focusVia(this._element,"program")),i&&(this.expandedHeight=i.expandedHeight,this.collapsedHeight=i.collapsedHeight)}expandedHeight;collapsedHeight;tabIndex=0;get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:fd(t)||(t.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t);return}}focus(t,i){t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:13,hostBindings:function(i,r){i&1&&xe("click",function(){return r._toggle()})("keydown",function(s){return r._keydown(s)}),i&2&&(Te("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),_i("height",r._getHeaderHeight()),re("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after",r._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",r._getTogglePosition()==="before"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:Ji(t)]},ngContentSelectors:KG,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(i,r){i&1&&(bt(WG),an(0,"span",0),_e(1),_e(2,1),_e(3,2),Cn(),$(4,YG,3,0,"span",1)),i&2&&(re("mat-content-hide-toggle",!r._showToggle()),A(4),G(r._showToggle()?4:-1))},styles:[`.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;height:var(--mat-expansion-header-collapsed-state-height, 48px);font-family:var(--mat-expansion-header-text-font, var(--mat-sys-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-sys-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-sys-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-sys-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-sys-title-medium-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-header{transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header::before{border-radius:inherit}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height, 64px)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-sys-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-sys-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-sys-on-surface-variant))}.mat-expansion-panel-animations-enabled .mat-expansion-indicator{transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header.mat-expanded .mat-expansion-indicator{transform:rotate(180deg)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, none)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-header-indicator-display, inline-block)}@media(forced-colors: active){.mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}}
`],encapsulation:2,changeDetection:0})}return n})(),ON=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=F({type:n,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]})}return n})(),NN=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=F({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return n})(),PN=(()=>{class n extends DN{_keyManager;_ownHeaders=new qi;_headers;hideToggle=!1;displayMode="default";togglePosition="after";ngAfterContentInit(){this._headers.changes.pipe(ui(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new pd(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Zt(n)))(r||n)}})();static \u0275dir=F({type:n,selectors:[["mat-accordion"]],contentQueries:function(i,r,o){if(i&1&&tt(o,ZT,5),i&2){let s;de(s=ue())&&(r._headers=s)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(i,r){i&2&&re("mat-accordion-multi",r.multi)},inputs:{hideToggle:[2,"hideToggle","hideToggle",Me],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[ut([{provide:YT,useExisting:n}]),Ge]})}return n})(),FN=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=K({type:n});static \u0275inj=j({imports:[MN,vd,Le]})}return n})();var JG=["determinateSpinner"];function XG(n,e){if(n&1&&(wo(),y(0,"svg",11),De(1,"circle",12),v()),n&2){let t=J();Te("viewBox",t._viewBox()),A(),_i("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),Te("r",t._circleRadius())}}var eq=new w("mat-progress-spinner-default-options",{providedIn:"root",factory:()=>({diameter:LN})}),LN=100,tq=10,BN=(()=>{class n{_elementRef=h(W);_noopAnimations;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;_defaultColor="primary";_determinateCircle;constructor(){let t=h(eq),i=FT(),r=this._elementRef.nativeElement;this._noopAnimations=i==="di-disabled"&&!!t&&!t._forceAnimations,this.mode=r.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",!this._noopAnimations&&i==="reduced-motion"&&r.classList.add("mat-progress-spinner-reduced-motion"),t&&(t.color&&(this.color=this._defaultColor=t.color),t.diameter&&(this.diameter=t.diameter),t.strokeWidth&&(this.strokeWidth=t.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,t||0))}_value=0;get diameter(){return this._diameter}set diameter(t){this._diameter=t||0}_diameter=LN;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=t||0}_strokeWidth;_circleRadius(){return(this.diameter-tq)/2}_viewBox(){let t=this._circleRadius()*2+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(i,r){if(i&1&&Xe(JG,5),i&2){let o;de(o=ue())&&(r._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(i,r){i&2&&(Te("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",r.mode==="determinate"?r.value:null)("mode",r.mode),bi("mat-"+r.color),_i("width",r.diameter,"px")("height",r.diameter,"px")("--mat-progress-spinner-size",r.diameter+"px")("--mat-progress-spinner-active-indicator-width",r.diameter+"px"),re("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate",r.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",Ji],diameter:[2,"diameter","diameter",Ji],strokeWidth:[2,"strokeWidth","strokeWidth",Ji]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(i,r){if(i&1&&(ni(0,XG,2,8,"ng-template",null,0,Eu),y(2,"div",2,1),wo(),y(4,"svg",3),De(5,"circle",4),v()(),Qp(),y(6,"div",5)(7,"div",6)(8,"div",7),Lc(9,8),v(),y(10,"div",9),Lc(11,8),v(),y(12,"div",10),Lc(13,8),v()()()),i&2){let o=Uc(1);A(4),Te("viewBox",r._viewBox()),A(),_i("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),Te("r",r._circleRadius()),A(4),Pe("ngTemplateOutlet",o),A(2),Pe("ngTemplateOutlet",o),A(2),Pe("ngTemplateOutlet",o)}},dependencies:[ku],styles:[`.mat-mdc-progress-spinner{--mat-progress-spinner-animation-multiplier: 1;display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mat-progress-spinner-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mat-progress-spinner-reduced-motion{--mat-progress-spinner-animation-multiplier: 1.25}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate calc(1568.2352941176ms*var(--mat-progress-spinner-animation-multiplier)) linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mat-progress-spinner-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate calc(5332ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0})}return n})();var UN=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=K({type:n});static \u0275inj=j({imports:[Le]})}return n})();var iq=20,yd=(()=>{class n{_ngZone=h(U);_platform=h(Re);_renderer=h(St).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new O;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=iq){return this._platform.isBrowser?new le(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=t>0?this._scrolled.pipe(wp(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):B()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){let r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Ie(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){let i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_scrollableContainsElement(t,i){let r=Wn(i),o=t.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var rq=20,_d=(()=>{class n{_platform=h(Re);_listeners;_viewportSize;_change=new O;_document=h(H);constructor(){let t=h(U),i=h(St).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[i.listen("window","resize",r),i.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect(),s=-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,a=-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:s,left:a}}change(t=rq){return t>0?this._change.pipe(wp(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $f=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=K({type:n});static \u0275inj=j({})}return n})(),JT=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=K({type:n});static \u0275inj=j({imports:[Le,$f,Le,$f]})}return n})();var HN=OO();function WN(n){return new jy(n.get(_d),n.get(H))}var jy=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,t){this._viewportRuler=e,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Tt(-this._previousScrollPosition.left),e.style.top=Tt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,i=e.style,r=t.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),HN&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),HN&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.documentElement,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}};function KN(n,e){return new zy(n.get(yd),n.get(U),n.get(_d),e)}var zy=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Ie(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var Gf=class{enable(){}disable(){}attach(){}};function XT(n,e){return e.some(t=>{let i=n.bottom<t.top,r=n.top>t.bottom,o=n.right<t.left,s=n.left>t.right;return i||r||o||s})}function VN(n,e){return e.some(t=>{let i=n.top<t.top,r=n.bottom>t.bottom,o=n.left<t.left,s=n.right>t.right;return i||r||o||s})}function Yy(n,e){return new $y(n.get(yd),n.get(_d),n.get(U),e)}var $y=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();XT(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},YN=(()=>{class n{_injector=h(me);constructor(){}noop=()=>new Gf;close=t=>KN(this._injector,t);block=()=>WN(this._injector);reposition=t=>Yy(this._injector,t);static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bd=class{positionStrategy;scrollStrategy=new Gf;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;usePopover;constructor(e){if(e){let t=Object.keys(e);for(let i of t)e[i]!==void 0&&(this[i]=e[i])}}};var Gy=class{connectionPair;scrollableViewProperties;constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var QN=(()=>{class n{_attachedOverlays=[];_document=h(H);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ZN=(()=>{class n extends QN{_ngZone=h(U);_renderer=h(St).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{let i=this._attachedOverlays;for(let r=i.length-1;r>-1;r--)if(i[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[r]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(r){return(t||(t=Zt(n)))(r||n)}})();static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),JN=(()=>{class n extends QN{_platform=h(Re);_ngZone=h(U);_renderer=h(St).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){let i=this._document.body,r={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(i,"pointerdown",this._pointerDownListener,r),o.listen(i,"click",this._clickListener,r),o.listen(i,"auxclick",this._clickListener,r),o.listen(i,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=An(t)};_clickListener=t=>{let i=An(t),r=t.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(jN(a.overlayElement,i)||jN(a.overlayElement,r))break;let c=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>c.next(t)):c.next(t)}};static \u0275fac=(()=>{let t;return function(r){return(t||(t=Zt(n)))(r||n)}})();static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jN(n,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,i=e;for(;i;){if(i===n)return!0;i=t&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var XN=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-overlay-popover{background:none;border:none;padding:0;outline:0;overflow:visible;position:fixed;pointer-events:none;white-space:normal;color:inherit;text-decoration:none;width:100%;height:100%;inset:auto;top:0;left:0}.cdk-overlay-popover::backdrop{display:none}.cdk-overlay-popover .cdk-overlay-backdrop{position:fixed;z-index:auto}
`],encapsulation:2,changeDetection:0})}return n})(),eP=(()=>{class n{_platform=h(Re);_containerElement;_document=h(H);_styleLoader=h(Wt);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||NT()){let r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let i=this._document.createElement("div");i.classList.add(t),NT()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(XN)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eS=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,t,i,r){this._renderer=t,this._ngZone=i,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},qy=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new O;_attachments=new O;_detachments=new O;_positionStrategy;_scrollStrategy;_locationChanges=Ae.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new O;_outsidePointerEvents=new O;_afterNextRenderRef;constructor(e,t,i,r,o,s,a,c,l,d=!1,u,p){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=d,this._injector=u,this._renderer=p,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){this._attachHost();let t=this._portalOutlet.attach(e);return this._positionStrategy?.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=sn(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=g(g({},this._config),e),this._updateElementSize()}setDirection(e){this._config=M(g({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Tt(this._config.width),e.height=Tt(this._config.height),e.minWidth=Tt(this._config.minWidth),e.minHeight=Tt(this._config.minHeight),e.maxWidth=Tt(this._config.maxWidth),e.maxHeight=Tt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachHost(){if(!this._host.parentElement){let e=this._config.usePopover?this._positionStrategy?.getPopoverInsertionPoint?.():null;e?e instanceof Element?e.after(this._host):e.type==="parent"&&e.element?.appendChild(this._host):this._previousHostParent?.appendChild(this._host)}if(this._config.usePopover)try{this._host.showPopover()}catch{}}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new eS(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._config.usePopover?this._host.prepend(this._backdropRef.element):this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){!this._config.usePopover&&this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,t,i){let r=hd(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenEmpty(){let e=!1;try{this._detachContentAfterRenderRef=sn(()=>{e=!0,this._detachContent()},{injector:this._injector})}catch(t){if(e)throw t;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},zN="cdk-overlay-connected-position-bounding-box",oq=/([A-Za-z%]+)$/;function Qy(n,e){return new Wy(e,n.get(_d),n.get(H),n.get(Re),n.get(eP))}var Wy=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new O;_resizeSubscription=Ae.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;_popoverLocation="global";positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(zN),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),l=this._getOverlayPoint(c,t,a),d=this._getOverlayFit(l,t,i,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(d,l,i)){o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:l,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(let l of o){let d=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);d>c&&(c=d,a=l)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&rc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(zN),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}withPopoverLocation(e){return this._popoverLocation=e,this}getPopoverInsertionPoint(){if(this._popoverLocation==="global")return null;let e=null;return this._popoverLocation==="inline"?this._origin instanceof W?e=this._origin.nativeElement:this._origin instanceof Element&&(e=this._origin):e=this._popoverLocation.element,this._popoverLocation==="inline"?e:e?{type:"parent",element:e}:null}_getOriginPoint(e,t,i){let r;if(i.originX=="center")r=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r=i.originX=="start"?s:a}t.left<0&&(r-=t.left);let o;return i.originY=="center"?o=e.top+e.height/2:o=i.originY=="top"?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r;i.overlayX=="center"?r=-t.width/2:i.overlayX==="start"?r=this._isRtl()?-t.width:0:r=this._isRtl()?0:-t.width;let o;return i.overlayY=="center"?o=-t.height/2:o=i.overlayY=="top"?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){let o=GN(t),{x:s,y:a}=e,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let d=0-s,u=s+o.width-i.width,p=0-a,m=a+o.height-i.height,C=this._subtractOverflows(o.width,d,u),I=this._subtractOverflows(o.height,p,m),D=C*I;return{visibleArea:D,isCompletelyWithinViewport:o.width*o.height===D,fitsInViewportVertically:I===o.height,fitsInViewportHorizontally:C==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){let r=i.bottom-t.y,o=i.right-t.x,s=$N(this._overlayRef.getConfig().minHeight),a=$N(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||s!=null&&s<=r,l=e.fitsInViewportHorizontally||a!=null&&a<=o;return c&&l}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=GN(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),l=Math.max(o.left-i.left-e.x,0),d=0,u=0;return r.width<=o.width?d=l||-s:d=e.x<this._getViewportMarginStart()?o.left-i.left-e.x:0,r.height<=o.height?u=c||-a:u=e.y<this._getViewportMarginTop()?o.top-i.top-e.y:0,this._previousPushAmount={x:d,y:u},{x:e.x+d,y:e.y+u}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!sq(this._lastScrollVisibility,i)){let r=new Gy(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){let i=this._viewportRect,r=this._isRtl(),o,s,a;if(t.overlayY==="top")s=e.y,o=i.height-s+this._getViewportMarginBottom();else if(t.overlayY==="bottom")a=i.height-e.y+this._getViewportMarginTop()+this._getViewportMarginBottom(),o=i.height-a+this._getViewportMarginTop();else{let m=Math.min(i.bottom-e.y+i.top,e.y),C=this._lastBoundingBoxSize.height;o=m*2,s=e.y-m,o>C&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-C/2)}let c=t.overlayX==="start"&&!r||t.overlayX==="end"&&r,l=t.overlayX==="end"&&!r||t.overlayX==="start"&&r,d,u,p;if(l)p=i.width-e.x+this._getViewportMarginStart()+this._getViewportMarginEnd(),d=e.x-this._getViewportMarginStart();else if(c)u=e.x,d=i.right-e.x-this._getViewportMarginEnd();else{let m=Math.min(i.right-e.x+i.left,e.x),C=this._lastBoundingBoxSize.width;d=m*2,u=e.x-m,d>C&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.x-C/2)}return{top:s,left:u,bottom:a,right:p,width:d,height:o}}_setBoundingBoxStyles(e,t){let i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right="auto",r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.width=Tt(i.width),r.height=Tt(i.height),r.top=Tt(i.top)||"auto",r.bottom=Tt(i.bottom)||"auto",r.left=Tt(i.left)||"auto",r.right=Tt(i.right)||"auto",t.overlayX==="center"?r.alignItems="center":r.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?r.justifyContent="center":r.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=Tt(o)),s&&(r.maxWidth=Tt(s))}this._lastBoundingBoxSize=i,rc(this._boundingBox.style,r)}_resetBoundingBoxStyles(){rc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){rc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let d=this._viewportRuler.getViewportScrollPosition();rc(i,this._getExactOverlayY(t,e,d)),rc(i,this._getExactOverlayX(t,e,d))}else i.position="static";let a="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=Tt(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=Tt(s.maxWidth):o&&(i.maxWidth="")),rc(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=Tt(o.y);return r}_getExactOverlayX(e,t,i){let r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=Tt(o.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:VN(e,i),isOriginOutsideView:XT(e,i),isOverlayClipped:VN(t,i),isOverlayOutsideView:XT(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._getViewportMarginTop(),left:i.left+this._getViewportMarginStart(),right:i.left+e-this._getViewportMarginEnd(),bottom:i.top+t-this._getViewportMarginBottom(),width:e-this._getViewportMarginStart()-this._getViewportMarginEnd(),height:t-this._getViewportMarginTop()-this._getViewportMarginBottom()}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&hd(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getViewportMarginStart(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.start??0}_getViewportMarginEnd(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.end??0}_getViewportMarginTop(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.top??0}_getViewportMarginBottom(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.bottom??0}_getOriginRect(){let e=this._origin;if(e instanceof W)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}};function rc(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function $N(n){if(typeof n!="number"&&n!=null){let[e,t]=n.split(oq);return!t||t==="px"?parseFloat(e):null}return n||null}function GN(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function sq(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var qN="cdk-global-overlay-wrapper";function Zy(n){return new Ky}var Ky=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(qN),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),l=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,u=this._xOffset,p=this._overlayRef.getConfig().direction==="rtl",m="",C="",I="";c?I="flex-start":d==="center"?(I="center",p?C=u:m=u):p?d==="left"||d==="end"?(I="flex-end",m=u):(d==="right"||d==="start")&&(I="flex-start",C=u):d==="left"||d==="start"?(I="flex-start",m=u):(d==="right"||d==="end")&&(I="flex-end",C=u),e.position=this._cssPosition,e.marginLeft=c?"0":m,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":C,t.justifyContent=I,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(qN),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},tP=(()=>{class n{_injector=h(me);constructor(){}global(){return Zy()}flexibleConnectedTo(t){return Qy(this._injector,t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nP=new w("OVERLAY_DEFAULT_CONFIG");function Cd(n,e){n.get(Wt).load(XN);let t=n.get(eP),i=n.get(H),r=n.get(Rt),o=n.get(Bn),s=n.get(ls),a=n.get(yt,null,{optional:!0})||n.get(St).createRenderer(null,null),c=new bd(e),l=n.get(nP,null,{optional:!0})?.usePopover??!0;c.direction=c.direction||s.value,"showPopover"in i.body?c.usePopover=e?.usePopover??l:c.usePopover=!1;let d=i.createElement("div"),u=i.createElement("div");d.id=r.getId("cdk-overlay-"),d.classList.add("cdk-overlay-pane"),u.appendChild(d),c.usePopover&&(u.setAttribute("popover","manual"),u.classList.add("cdk-overlay-popover"));let p=c.usePopover?c.positionStrategy?.getPopoverInsertionPoint?.():null;return t.getContainerElement().appendChild(u),p&&(p instanceof Element?p.after(u):p.type==="parent"&&p.element?.appendChild(u)),new qy(new Vy(d,o,n),u,d,c,n.get(U),n.get(ZN),i,n.get(Ci),n.get(JN),e?.disableAnimations??n.get(fu,null,{optional:!0})==="NoopAnimations",n.get($e),a)}var iP=(()=>{class n{scrollStrategies=h(YN);_positionBuilder=h(tP);_injector=h(me);constructor(){}create(t){return Cd(this._injector,t)}position(){return this._positionBuilder}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qf=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=K({type:n});static \u0275inj=j({providers:[iP],imports:[Le,vd,JT,JT]})}return n})();function aq(n,e){if(n&1){let t=yi();y(0,"div",1)(1,"button",2),xe("click",function(){kn(t);let r=J();return On(r.action())}),_(2),v()()}if(n&2){let t=J();A(2),cn(" ",t.data.action," ")}}var cq=["label"];function lq(n,e){}var dq=Math.pow(2,31)-1,Wf=class{_overlayRef;instance;containerInstance;_afterDismissed=new O;_afterOpened=new O;_onAction=new O;_durationTimeoutId;_dismissedByAction=!1;constructor(e,t){this._overlayRef=t,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,dq))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},rP=new w("MatSnackBarData"),Ed=class{politeness="polite";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},uq=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=F({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return n})(),hq=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=F({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return n})(),fq=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=F({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return n})(),oP=(()=>{class n{snackBarRef=h(Wf);data=h(rP);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["matButton","","matSnackBarAction","",3,"click"]],template:function(i,r){i&1&&(y(0,"div",0),_(1),v(),$(2,aq,3,1,"div",1)),i&2&&(A(),cn(" ",r.data.message,`
`),A(),G(r.hasAction?2:-1))},dependencies:[ds,uq,hq,fq],styles:[`.mat-mdc-simple-snack-bar{display:flex}.mat-mdc-simple-snack-bar .mat-mdc-snack-bar-label{max-height:50vh;overflow:auto}
`],encapsulation:2,changeDetection:0})}return n})(),tS="_mat-snack-bar-enter",nS="_mat-snack-bar-exit",pq=(()=>{class n extends gd{_ngZone=h(U);_elementRef=h(W);_changeDetectorRef=h(Nt);_platform=h(Re);_animationsDisabled=tn();snackBarConfig=h(Ed);_document=h(H);_trackedModals=new Set;_enterFallback;_exitFallback;_injector=h(me);_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new O;_onExit=new O;_onEnter=new O;_animationState="void";_live;_label;_role;_liveElementId=h(Rt).getId("mat-snack-bar-container-live-");constructor(){super();let t=this.snackBarConfig;t.politeness==="assertive"&&!t.announcementMessage?this._live="assertive":t.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();let i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();let i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}attachDomPortal=t=>{this._assertNotAttached();let i=this._portalOutlet.attachDomPortal(t);return this._afterPortalAttached(),i};onAnimationEnd(t){t===nS?this._completeExit():t===tS&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?sn(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(tS)))},{injector:this._injector}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(tS)},200)))}exit(){return this._destroyed?B(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?sn(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(nS)))},{injector:this._injector}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(nS),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(s=>t.classList.add(s)):t.classList.add(i)),this._exposeToModals();let r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){let t=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let o=i[r],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?s.indexOf(t)===-1&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{let i=t.getAttribute("aria-owns");if(i){let r=i.replace(this._liveElementId,"").trim();r.length>0?t.setAttribute("aria-owns",r):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let t=this._elementRef.nativeElement,i=t.querySelector("[aria-hidden]"),r=t.querySelector("[aria-live]");if(i&&r){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&i.contains(document.activeElement)&&(o=document.activeElement),i.removeAttribute("aria-hidden"),r.appendChild(i),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(i&1&&(Xe(zf,7),Xe(cq,7)),i&2){let o;de(o=ue())&&(r._portalOutlet=o.first),de(o=ue())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(i,r){i&1&&xe("animationend",function(s){return r.onAnimationEnd(s.animationName)})("animationcancel",function(s){return r.onAnimationEnd(s.animationName)}),i&2&&re("mat-snack-bar-container-enter",r._animationState==="visible")("mat-snack-bar-container-exit",r._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!r._animationsDisabled)},features:[Ge],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){i&1&&(y(0,"div",1)(1,"div",2,0)(3,"div",3),ni(4,lq,0,0,"ng-template",4),v(),De(5,"div"),v()()),i&2&&(A(5),Te("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[zf],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mat-snack-bar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-snack-bar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-snack-bar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mat-snack-bar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-snack-bar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-snack-bar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mat-snack-bar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-button-text-state-layer-color: currentColor;--mat-button-text-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return n})(),mq=new w("mat-snack-bar-default-options",{providedIn:"root",factory:()=>new Ed}),iS=(()=>{class n{_live=h(xT);_injector=h(me);_breakpointObserver=h(Of);_parentSnackBar=h(n,{optional:!0,skipSelf:!0});_defaultConfig=h(mq);_animationsDisabled=tn();_snackBarRefAtThisLevel=null;simpleSnackBarComponent=oP;snackBarContainerComponent=pq;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(){}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){let o=g(g({},this._defaultConfig),r);return o.data={message:t,action:i},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){let r=i&&i.viewContainerRef&&i.viewContainerRef.injector,o=me.create({parent:r||this._injector,providers:[{provide:Ed,useValue:i}]}),s=new fs(this.snackBarContainerComponent,i.viewContainerRef,o),a=t.attach(s);return a.instance.snackBarConfig=i,a.instance}_attach(t,i){let r=g(g(g({},new Ed),this._defaultConfig),i),o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),a=new Wf(s,o);if(t instanceof Fn){let c=new ps(t,null,{$implicit:r.data,snackBarRef:a});a.instance=s.attachTemplatePortal(c)}else{let c=this._createInjector(r,a),l=new fs(t,void 0,c),d=s.attachComponentPortal(l);a.instance=d.instance}return this._breakpointObserver.observe(PO.HandsetPortrait).pipe(Ze(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter()}_createOverlay(t){let i=new bd;i.direction=t.direction;let r=Zy(this._injector),o=t.direction==="rtl",s=t.horizontalPosition==="left"||t.horizontalPosition==="start"&&!o||t.horizontalPosition==="end"&&o,a=!s&&t.horizontalPosition!=="center";return s?r.left("0"):a?r.right("0"):r.centerHorizontally(),t.verticalPosition==="top"?r.top("0"):r.bottom("0"),i.positionStrategy=r,i.disableAnimations=this._animationsDisabled,Cd(this._injector,i)}_createInjector(t,i){let r=t&&t.viewContainerRef&&t.viewContainerRef.injector;return me.create({parent:r||this._injector,providers:[{provide:Wf,useValue:i},{provide:rP,useValue:t.data}]})}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sP=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=K({type:n});static \u0275inj=j({providers:[iS],imports:[qf,vd,yr,oP,Le]})}return n})();var vq=["tooltip"],yq=20;var _q=new w("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let n=h(me);return()=>Yy(n,{scrollThrottle:yq})}}),bq=new w("mat-tooltip-default-options",{providedIn:"root",factory:()=>({showDelay:0,hideDelay:0,touchendHideDelay:1500})});var aP="tooltip-panel",cP=as({passive:!0}),Cq=8,Eq=8,wq=24,Iq=200,Kf=(()=>{class n{_elementRef=h(W);_ngZone=h(U);_platform=h(Re);_ariaDescriber=h(kO);_focusMonitor=h(so);_dir=h(ls);_injector=h(me);_viewContainerRef=h(Jt);_animationsDisabled=tn();_defaultOptions=h(bq,{optional:!0});_overlayRef;_tooltipInstance;_overlayPanelClass;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=lP;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=ao(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){let i=ao(t);this._disabled!==i&&(this._disabled=i,i?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=ud(t)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=ud(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(t){let i=this._message;this._message=t!=null?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(i)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new O;_isDestroyed=!1;constructor(){let t=this._defaultOptions;t&&(this._showDelay=t.showDelay,this._hideDelay=t.hideDelay,t.position&&(this.position=t.position),t.positionAtOrigin&&(this.positionAtOrigin=t.positionAtOrigin),t.touchGestures&&(this.touchGestures=t.touchGestures),t.tooltipClass&&(this.tooltipClass=t.tooltipClass)),this._viewportMargin=Cq}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ze(this._destroyed)).subscribe(t=>{t?t==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let t=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{t.removeEventListener(i,r,cP)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let r=this._createOverlay(i);this._detach(),this._portal=this._portal||new fs(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Ze(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(t)}hide(t=this.hideDelay){let i=this._tooltipInstance;i&&(i.isVisible()?i.hide(t):(i._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){let s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&s._origin instanceof W)return this._overlayRef;this._detach()}let i=this._injector.get(yd).getAncestorScrollContainers(this._elementRef),r=`${this._cssClassPrefix}-${aP}`,o=Qy(this._injector,this.positionAtOrigin?t||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i).withPopoverLocation("global");return o.positionChanges.pipe(Ze(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=Cd(this._injector,{direction:this._dir,positionStrategy:o,panelClass:this._overlayPanelClass?[...this._overlayPanelClass,r]:r,scrollStrategy:this._injector.get(_q)(),disableAnimations:this._animationsDisabled,usePopover:!0}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ze(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ze(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Ze(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&s.keyCode===27&&!fd(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(Ze(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){let i=t.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset(g(g({},r.main),o.main)),this._addOffset(g(g({},r.fallback),o.fallback))])}_addOffset(t){let i=Eq,r=!this._dir||this._dir.value=="ltr";return t.originY==="top"?t.offsetY=-i:t.originY==="bottom"?t.offsetY=i:t.originX==="start"?t.offsetX=r?-i:i:t.originX==="end"&&(t.offsetX=r?i:-i),t}_getOrigin(){let t=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"||i=="below"?r={originX:"center",originY:i=="above"?"top":"bottom"}:i=="before"||i=="left"&&t||i=="right"&&!t?r={originX:"start",originY:"center"}:(i=="after"||i=="right"&&t||i=="left"&&!t)&&(r={originX:"end",originY:"center"});let{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){let t=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"?r={overlayX:"center",overlayY:"bottom"}:i=="below"?r={overlayX:"center",overlayY:"top"}:i=="before"||i=="left"&&t||i=="right"&&!t?r={overlayX:"end",overlayY:"center"}:(i=="after"||i=="right"&&t||i=="left"&&!t)&&(r={overlayX:"start",overlayY:"center"});let{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),sn(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return this.position==="above"||this.position==="below"?i==="top"?i="bottom":i==="bottom"&&(i="top"):t==="end"?t="start":t==="start"&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){let{overlayY:i,originX:r,originY:o}=t,s;if(i==="center"?this._dir&&this._dir.value==="rtl"?s=r==="end"?"left":"right":s=r==="start"?"left":"right":s=i==="bottom"&&o==="top"?"above":"below",s!==this._currentPosition){let a=this._overlayRef;if(a){let c=`${this._cssClassPrefix}-${aP}-`;a.removePanelClass(c+this._currentPosition),a.addPanelClass(c+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{this._setupPointerExitEventsIfNeeded();let i;t.x!==void 0&&t.y!==void 0&&(i=t),this.show(void 0,i)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{let i=t.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions?.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",i=>{let r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let i=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,cP)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){let i=this._injector.get(H).elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){let t=this.touchGestures;if(t!=="off"){let i=this._elementRef.nativeElement,r=i.style;(t==="on"||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA")&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),(t==="on"||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(t){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,t,"tooltip"),this._isDestroyed||sn({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=F({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){i&2&&re("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return n})(),lP=(()=>{class n{_changeDetectorRef=h(Nt);_elementRef=h(W);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled=tn();_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new O;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){}show(t){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>wq&&t.width>=Iq}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){let i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(t?o:r),i.classList.add(t?r:o),this._isVisible!==t&&(this._isVisible=t,this._changeDetectorRef.markForCheck()),t&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(i);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(i&1&&Xe(vq,7),i&2){let o;de(o=ue())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(i,r){i&1&&xe("mouseleave",function(s){return r._handleMouseLeave(s)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(i,r){if(i&1){let o=yi();y(0,"div",1,0),xe("animationend",function(a){return kn(o),On(r._handleAnimationEnd(a))}),y(2,"div",2),_(3),v()()}i&2&&(re("mdc-tooltip--multiline",r._isMultiline),Pe("ngClass",r.tooltipClass),A(3),Se(r.message))},dependencies:[OE],styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mat-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mat-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mat-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mat-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mat-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mat-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return n})();var Jy=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=K({type:n});static \u0275inj=j({imports:[MT,qf,Le,$f]})}return n})();var Xy=class n{msal=h(oo);msalBroadcast=h(sd);configService=h(Ni);accessToken=ye(null);tokenError=ye(null);loading=ye(!1);refreshRequest=ye(null);refreshResponse=ye(null);token=this.accessToken.asReadonly();error=this.tokenError.asReadonly();isLoading=this.loading.asReadonly();isAuthenticated=qe(()=>!!this.accessToken());lastRefreshRequest=this.refreshRequest.asReadonly();lastRefreshResponse=this.refreshResponse.asReadonly();constructor(){setTimeout(()=>{this.initializeActiveAccount()},0),this.msalBroadcast.inProgress$.pipe(Ie(e=>e===ht.None)).subscribe(()=>{this.initializeActiveAccount()})}login(){let e=this.configService.azureConfig();if(!e){console.error("Azure configuration is not available");return}this.msal.loginRedirect({scopes:e.apiScopes})}logout(){this.accessToken.set(null),this.msal.logoutRedirect()}refreshToken(){this.refreshRequest.set(null),this.refreshResponse.set(null);let e=this.msal.instance.getActiveAccount();e?this.acquireToken(e,!0):this.initializeActiveAccount()}initializeActiveAccount(){try{if(!this.msal.instance){console.warn("MSAL instance not available yet");return}let e=this.msal.instance.getActiveAccount()??this.msal.instance.getAllAccounts()[0]??null;if(!e){this.accessToken.set(null);return}this.msal.instance.setActiveAccount(e),this.acquireToken(e)}catch(e){console.warn("Error in initializeActiveAccount:",e),this.accessToken.set(null)}}acquireToken(e,t=!1){this.loading.set(!0),this.tokenError.set(null);let i=this.configService.azureConfig();if(!i){this.loading.set(!1),this.tokenError.set("Azure configuration is not available");return}let r=i.authority,o=`${r}/oauth2/v2.0/token`;if(t){let s={timestamp:new Date,account:{username:e.username,homeAccountId:e.homeAccountId,localAccountId:e.localAccountId},scopes:i.apiScopes,authority:r,endpoint:o};this.refreshRequest.set(s)}this.msal.acquireTokenSilent({account:e,scopes:i.apiScopes}).pipe(kt(1)).subscribe({next:s=>{if(this.accessToken.set(s.accessToken),this.loading.set(!1),t){let a={timestamp:new Date,success:!0,accessToken:s.accessToken,expiresOn:s.expiresOn?new Date(s.expiresOn):void 0,tokenType:s.tokenType,scopes:s.scopes};this.refreshResponse.set(a)}},error:s=>{this.loading.set(!1);let a=s instanceof Error?s.message:"Unable to acquire access token.";if(this.tokenError.set(a),t){let c={timestamp:new Date,success:!1,error:a,errorDetails:s instanceof Error?{name:s.name,message:s.message}:s};this.refreshResponse.set(c)}}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})};var oc=class extends Error{};oc.prototype.name="InvalidTokenError";function Tq(n){return decodeURIComponent(atob(n).replace(/(.)/g,(e,t)=>{let i=t.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}function Sq(n){let e=n.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Tq(e)}catch{return atob(e)}}function uP(n,e){if(typeof n!="string")throw new oc("Invalid token specified: must be a string");e||(e={});let t=e.header===!0?0:1,i=n.split(".")[t];if(typeof i!="string")throw new oc(`Invalid token specified: missing part #${t+1}`);let r;try{r=Sq(i)}catch(o){throw new oc(`Invalid token specified: invalid base64 for part #${t+1} (${o.message})`)}try{return JSON.parse(r)}catch(o){throw new oc(`Invalid token specified: invalid json for part #${t+1} (${o.message})`)}}var e_=class n{tokenSource=ye(null);decodedValue=ye(null);decodeError=ye(null);error=this.decodeError.asReadonly();decoded=this.decodedValue.asReadonly();constructor(){ei(()=>{let e=this.tokenSource();if(this.decodeError.set(null),!e){this.decodedValue.set(null);return}if(!e.includes(".")){let i="Invalid JWT format: token does not contain dots";this.decodeError.set(i),this.decodedValue.set(null),console.error(i);return}let t=e.split(".");if(t.length!==3){let i=`Invalid JWT format: expected 3 parts, got ${t.length}`;this.decodeError.set(i),this.decodedValue.set(null),console.error(i);return}try{let i=uP(e);this.decodedValue.set(i),this.decodeError.set(null)}catch(i){let r=i instanceof Error?i.message:"Unknown error occurred while decoding JWT";this.decodeError.set(r),this.decodedValue.set(null),console.error("Failed to decode JWT:",i),i instanceof Error&&console.error("Error message:",i.message)}})}updateToken(e){this.tokenSource.set(e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})};function Aq(n,e){if(n&1&&De(0,"pre",3),n&2){let t=J();Pe("innerHTML",t.formattedHtml(),zC)}}function Dq(n,e){if(n&1&&(y(0,"p",4),_(1),v()),n&2){let t=J();A(),Se(t.emptyState)}}var t_=class n{inputValue=ye(void 0);sanitizer=h(Uu);label="JSON";emptyState="No data to display.";set value(e){this.inputValue.set(e)}formatted=qe(()=>this.stringify(this.inputValue()));formattedHtml=qe(()=>this.formatJsonWithBoldKeys(this.inputValue()));async copyToClipboard(){let e=this.formatted();e&&await navigator.clipboard.writeText(e)}stringify(e){if(e==null)return"";if(typeof e=="string")return e;try{return JSON.stringify(e,null,2)}catch{return String(e)}}formatJsonWithBoldKeys(e){if(e==null)return this.sanitizer.bypassSecurityTrustHtml("");if(typeof e=="string"){let t=e;try{e=JSON.parse(t)}catch{return this.sanitizer.bypassSecurityTrustHtml(this.escapeHtml(t))}}try{let i=JSON.stringify(e,null,2).replace(/"([^"]+)":/g,'<span class="json-key">"$1"</span>:');return this.sanitizer.bypassSecurityTrustHtml(i)}catch{return this.sanitizer.bypassSecurityTrustHtml(this.escapeHtml(String(e)))}}escapeHtml(e){let t=document.createElement("div");return t.textContent=e,t.innerHTML}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Q({type:n,selectors:[["app-json-viewer"]],inputs:{label:"label",emptyState:"emptyState",value:"value"},decls:9,vars:3,consts:[[1,"json-viewer"],[1,"json-viewer__header"],["mat-icon-button","","type","button","matTooltip","Copy JSON to clipboard","aria-label","Copy JSON",3,"click","disabled"],[1,"json-viewer__content",3,"innerHTML"],[1,"json-viewer__placeholder"]],template:function(t,i){if(t&1&&(y(0,"div",0)(1,"div",1)(2,"strong"),_(3),v(),y(4,"button",2),xe("click",function(){return i.copyToClipboard()}),y(5,"mat-icon"),_(6,"content_copy"),v()()(),$(7,Aq,1,1,"pre",3)(8,Dq,2,1,"p",4),v()),t&2){let r;A(3),Se(i.label),A(),Pe("disabled",!i.formatted()),A(3),G((r=i.formatted())?7:8,r)}},dependencies:[Mo,yr,Pf,hs,us,Jy,Kf],styles:[".json-viewer[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);border-radius:8px;padding:.75rem;background:var(--mat-sys-surface-container-low, #f8f9fb);display:flex;flex-direction:column;gap:.5rem}.json-viewer__header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.json-viewer__content[_ngcontent-%COMP%]{margin:0;white-space:pre-wrap;font-family:Roboto Mono,Courier New,Courier,monospace;font-size:.875rem;line-height:1.4;background:#fff;color:#000;border-radius:6px;padding:.75rem;overflow-x:auto}.json-viewer__content[_ngcontent-%COMP%]     .json-key{font-weight:700!important;color:#000!important}.json-viewer__placeholder[_ngcontent-%COMP%]{margin:0;color:#0000008a;font-style:italic}"]})};function xq(n,e){n&1&&(y(0,"div",2),De(1,"mat-progress-spinner",7),y(2,"span"),_(3,"Fetching access token..."),v()())}function Mq(n,e){if(n&1&&(y(0,"div",3)(1,"mat-icon",8),_(2,"error"),v(),y(3,"span"),_(4),v()()),n&2){let t=J();A(4),Se(t.error())}}function Rq(n,e){if(n&1&&(y(0,"div",22),_(1),v()),n&2){let t=J(3);A(),Se(t.profileName())}}function kq(n,e){if(n&1&&(y(0,"div",23)(1,"mat-icon",25),_(2,"email"),v(),_(3),v()),n&2){let t=J(3);A(3),cn(" ",t.profileEmail()," ")}}function Oq(n,e){if(n&1&&(y(0,"div",24)(1,"mat-icon",25),_(2,"schedule"),v(),y(3,"span")(4,"strong"),_(5,"Issued at:"),v(),_(6),Ks(7,"date"),v()()),n&2){let t=J(3);A(6),cn(" ",Ys(7,1,t.profileIssuedAt(),"medium"))}}function Nq(n,e){if(n&1&&(y(0,"div",24)(1,"mat-icon",25),_(2,"event"),v(),y(3,"span")(4,"strong"),_(5,"Expires at:"),v(),_(6),Ks(7,"date"),v()()),n&2){let t=J(3);A(6),cn(" ",Ys(7,1,t.profileExpiresAt(),"medium"))}}function Pq(n,e){if(n&1&&(y(0,"div",11)(1,"div",19)(2,"span",20),_(3),v()(),y(4,"div",21),$(5,Rq,2,1,"div",22),$(6,kq,4,1,"div",23),$(7,Oq,8,4,"div",24),$(8,Nq,8,4,"div",24),v()()),n&2){let t=J(2);A(3),Se(t.profileInitials()),A(2),G(t.profileName()?5:-1),A(),G(t.profileEmail()?6:-1),A(),G(t.profileIssuedAt()?7:-1),A(),G(t.profileExpiresAt()?8:-1)}}function Fq(n,e){n&1&&De(0,"app-json-viewer",17),n&2&&Pe("value",e)}function Lq(n,e){if(n&1&&(y(0,"p"),_(1),v()),n&2){let t=J(3);A(),cn("Error: ",t.decodeError())}}function Bq(n,e){n&1&&(y(0,"p"),_(1,"Make sure you have a valid JWT token. Check the browser console for more details."),v())}function Uq(n,e){if(n&1&&(y(0,"details",26)(1,"summary",27),_(2,"Token preview (first 100 characters)"),v(),y(3,"pre",28),_(4),v()()),n&2){let t,i=J(3);A(4),cn("",(t=i.token())==null?null:t.substring(0,100),"...")}}function Hq(n,e){if(n&1&&(y(0,"div",18)(1,"p")(2,"strong"),_(3,"Unable to decode token."),v()(),$(4,Lq,2,1,"p")(5,Bq,2,0,"p"),$(6,Uq,5,1,"details",26),v()),n&2){let t=J(2);A(4),G(t.decodeError()?4:5),A(2),G(t.token()?6:-1)}}function Vq(n,e){n&1&&(y(0,"mat-icon",32),_(1,"sync"),v(),_(2," In progress... "))}function jq(n,e){n&1&&(y(0,"mat-icon",33),_(1,"check_circle"),v(),_(2," Completed "))}function zq(n,e){n&1&&(y(0,"mat-icon",34),_(1,"error"),v(),_(2," Failed "))}function $q(n,e){n&1&&_(0," Request details ")}function Gq(n,e){if(n&1&&(y(0,"mat-chip",37),_(1),v()),n&2){let t=e.$implicit;A(),Se(t)}}function qq(n,e){if(n&1&&(y(0,"div",36)(1,"strong"),_(2,"Account:"),v(),y(3,"span"),_(4),v()()),n&2){let t=J();A(4),Se(t.account.username)}}function Wq(n,e){if(n&1&&(y(0,"div",30)(1,"h4")(2,"mat-icon"),_(3,"send"),v(),_(4," Azure Endpoint Called "),v(),y(5,"div",35)(6,"div",36)(7,"strong"),_(8,"Timestamp:"),v(),y(9,"span"),_(10),Ks(11,"date"),v()(),y(12,"div",36)(13,"strong"),_(14,"Endpoint URL:"),v(),y(15,"code"),_(16),v()(),y(17,"div",36)(18,"strong"),_(19,"Authority:"),v(),y(20,"code"),_(21),v()(),y(22,"div",36)(23,"strong"),_(24,"Requested Scopes:"),v(),y(25,"div"),qs(26,Gq,2,1,"mat-chip",37,Gs),v()(),$(28,qq,5,1,"div",36),v()()),n&2){let t=e;A(10),Se(Ys(11,4,t.timestamp,"medium")),A(6),Se(t.endpoint),A(5),Se(t.authority),A(5),Ws(t.scopes),A(2),G(t.account?28:-1)}}function Kq(n,e){if(n&1&&(y(0,"div",36)(1,"strong"),_(2,"Expires On:"),v(),y(3,"span"),_(4),Ks(5,"date"),v()()),n&2){let t=J(2);A(4),Se(Ys(5,1,t.expiresOn,"medium"))}}function Yq(n,e){if(n&1&&(y(0,"mat-chip",37),_(1),v()),n&2){let t=e.$implicit;A(),Se(t)}}function Qq(n,e){if(n&1&&(y(0,"div",36)(1,"strong"),_(2,"Granted Scopes:"),v(),y(3,"div"),qs(4,Yq,2,1,"mat-chip",37,Gs),v()()),n&2){let t=J(2);A(4),Ws(t.scopes)}}function Zq(n,e){if(n&1&&(y(0,"div",36)(1,"strong"),_(2,"Token Type:"),v(),y(3,"span"),_(4),v()(),$(5,Kq,6,4,"div",36),$(6,Qq,6,0,"div",36),y(7,"div",38)(8,"strong",39)(9,"mat-icon",40),_(10,"check_circle"),v(),_(11," Access token updated "),v(),y(12,"span",41),_(13," The new access token has been received and updated. You can copy it from the Access Token section above and view updated claims in the Decoded Token section. "),v()()),n&2){let t=J();A(4),Se(t.tokenType||"Bearer"),A(),G(t.expiresOn?5:-1),A(),G(t.scopes?6:-1)}}function Jq(n,e){if(n&1&&(y(0,"div",36)(1,"strong"),_(2,"Error Details:"),v(),De(3,"app-json-viewer",43),v()),n&2){let t=J(2);A(3),Pe("value",t.errorDetails)}}function Xq(n,e){if(n&1&&(y(0,"div",36)(1,"strong"),_(2,"Error:"),v(),y(3,"span",42),_(4),v()(),$(5,Jq,4,1,"div",36)),n&2){let t=J();A(4),Se(t.error),A(),G(t.errorDetails?5:-1)}}function e8(n,e){if(n&1&&(y(0,"div",30)(1,"h4")(2,"mat-icon"),_(3),v(),_(4," Azure Response "),v(),y(5,"div",35)(6,"div",36)(7,"strong"),_(8,"Timestamp:"),v(),y(9,"span"),_(10),Ks(11,"date"),v()(),y(12,"div",36)(13,"strong"),_(14,"Status:"),v(),y(15,"span"),_(16),v()(),$(17,Zq,14,3)(18,Xq,6,2),v()()),n&2){let t=e;re("success",t.success)("error",!t.success),A(3),Se(t.success?"check_circle":"error"),A(7),Se(Ys(11,10,t.timestamp,"medium")),A(5),_i("color",t.success?"green":"red"),A(),cn(" ",t.success?"Success":"Failed"," "),A(),G(t.success?17:18)}}function t8(n,e){if(n&1&&(y(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),_(3,"Refresh Token Debug"),v(),y(4,"mat-panel-description"),$(5,Vq,3,0)(6,jq,3,0)(7,zq,3,0)(8,$q,1,0),v()(),y(9,"div",29),$(10,Wq,29,7,"div",30),$(11,e8,19,13,"div",31),v()()),n&2){let t,i,r,o=J(2);A(5),G(o.isLoading()?5:(t=o.lastRefreshResponse())!=null&&t.success?6:((t=o.lastRefreshResponse())==null?null:t.success)===!1?7:8),A(5),G((i=o.lastRefreshRequest())?10:-1,i),A(),G((r=o.lastRefreshResponse())?11:-1,r)}}function n8(n,e){if(n&1){let t=yi();y(0,"p",9)(1,"mat-icon",10),_(2,"verified_user"),v(),_(3," You are signed in. Your access token is ready for API calls. "),v(),$(4,Pq,9,5,"div",11),y(5,"mat-accordion",12)(6,"mat-expansion-panel",13)(7,"mat-expansion-panel-header")(8,"mat-panel-title"),_(9,"Access Token"),v(),y(10,"mat-panel-description"),_(11,"Raw JWT returned by Azure AD"),v()(),y(12,"div",14)(13,"pre",15),_(14),v(),y(15,"button",16),xe("click",function(){kn(t);let r=J();return On(r.copyToken())}),y(16,"mat-icon"),_(17,"content_copy"),v()()()(),y(18,"mat-expansion-panel")(19,"mat-expansion-panel-header")(20,"mat-panel-title"),_(21,"Decoded Token"),v(),y(22,"mat-panel-description"),_(23,"Claims & values"),v()(),$(24,Fq,1,1,"app-json-viewer",17)(25,Hq,7,2,"div",18),v(),$(26,t8,12,3,"mat-expansion-panel"),v()}if(n&2){let t,i=J();A(4),G(i.profileName()||i.profileEmail()?4:-1),A(10),Se(i.token()),A(),Te("aria-label","Copy access token"),A(9),G((t=i.decodedToken())?24:25,t),A(2),G(i.lastRefreshRequest()||i.lastRefreshResponse()?26:-1)}}function i8(n,e){n&1&&(y(0,"p",4)(1,"mat-icon"),_(2,"info"),v(),_(3," You are not signed in. Use the button below to authenticate with Azure AD. "),v())}function r8(n,e){if(n&1){let t=yi();y(0,"button",44),xe("click",function(){kn(t);let r=J();return On(r.refreshToken())}),_(1,"Refresh token"),v(),y(2,"button",45),xe("click",function(){kn(t);let r=J();return On(r.logout())}),_(3,"Logout"),v()}}function o8(n,e){if(n&1){let t=yi();y(0,"button",46),xe("click",function(){kn(t);let r=J();return On(r.login())}),_(1,"Login with Azure AD"),v()}}var n_=class n{auth=h(Xy);decoder=h(e_);snackBar=h(iS);token=this.auth.token;isAuthenticated=this.auth.isAuthenticated;isLoading=this.auth.isLoading;error=this.auth.error;decodeError=this.decoder.error;decodedToken=this.decoder.decoded;lastRefreshRequest=this.auth.lastRefreshRequest;lastRefreshResponse=this.auth.lastRefreshResponse;profileName=qe(()=>{let e=this.decodedToken();return e&&(e.name||e.preferred_username||e.upn)||null});profileEmail=qe(()=>{let e=this.decodedToken();return e&&(e.upn||e.preferred_username||e.email)||null});profileInitials=qe(()=>{let e=this.decodedToken();if(!e)return"";let t=e.name||"",i=e.given_name||"",r=e.family_name||"";if(i&&r)return`${i.charAt(0).toUpperCase()}${r.charAt(0).toUpperCase()}`;if(t){let s=t.trim().split(/\s+/);if(s.length>=2)return`${s[0].charAt(0).toUpperCase()}${s[s.length-1].charAt(0).toUpperCase()}`;if(s.length===1)return s[0].charAt(0).toUpperCase()}let o=e.upn||e.preferred_username||"";return o?o.charAt(0).toUpperCase():""});profileIssuedAt=qe(()=>{let e=this.decodedToken();if(!e||!e.iat)return null;let t=e.iat;return typeof t=="number"?new Date(t*1e3):null});profileExpiresAt=qe(()=>{let e=this.decodedToken();if(!e||!e.exp)return null;let t=e.exp;return typeof t=="number"?new Date(t*1e3):null});constructor(){ei(()=>{let e=this.token();this.decoder.updateToken(e)})}login(){this.auth.login()}logout(){this.auth.logout()}refreshToken(){this.auth.refreshToken()}async copyToken(){let e=this.token();if(!e){this.snackBar.open("No token available to copy","Close",{duration:3e3,horizontalPosition:"end",verticalPosition:"top"});return}try{await navigator.clipboard.writeText(e),this.snackBar.open("Access token copied to clipboard!","Close",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["success-snackbar"]})}catch(t){console.error("Failed to copy token:",t),this.snackBar.open("Failed to copy token to clipboard","Close",{duration:3e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["error-snackbar"]})}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Q({type:n,selectors:[["app-home"]],decls:13,vars:4,consts:[[1,"home"],["appearance","outlined"],[1,"home__loading"],["role","alert",1,"home__error"],[1,"home__status"],["align","end"],["mat-flat-button","","color","primary","type","button"],["diameter","32","mode","indeterminate"],["color","warn"],[1,"home__status","success"],["color","primary"],[1,"home__profile"],[1,"home__accordion"],["expanded",""],[1,"home__token-container"],[1,"home__token"],["mat-icon-button","","type","button","matTooltip","Copy token to clipboard",1,"home__copy-button",3,"click"],["label","Token Claims","emptyState","No claims available.",3,"value"],[1,"home__error"],[1,"home__profile-avatar"],[1,"home__profile-initials"],[1,"home__profile-info"],[1,"home__profile-name"],[1,"home__profile-email"],[1,"home__profile-meta"],[1,"home__profile-icon"],[2,"margin-top","1rem"],[2,"cursor","pointer","font-weight","500"],[2,"margin-top","0.5rem","padding","0.5rem","background","#f5f5f5","border-radius","4px","overflow-x","auto"],[1,"home__refresh-debug"],[1,"home__refresh-section"],[1,"home__refresh-section",3,"success","error"],[2,"font-size","16px","vertical-align","middle"],[2,"font-size","16px","vertical-align","middle","color","green"],[2,"font-size","16px","vertical-align","middle","color","red"],[1,"home__refresh-info"],[1,"home__refresh-row"],[2,"margin","2px 4px 2px 0"],[1,"home__refresh-row",2,"margin-top","1rem","padding-top","1rem","border-top","1px solid rgba(0, 0, 0, 0.12)"],[2,"color","#0f6b4d"],[2,"vertical-align","middle","font-size","18px","width","18px","height","18px"],[2,"color","rgba(0, 0, 0, 0.6)","margin-left","0.5rem"],[2,"color","red"],["emptyState","No error details available.",3,"value"],["mat-button","","type","button",3,"click"],["mat-stroked-button","","type","button","color","warn",3,"click"],["mat-flat-button","","color","primary","type","button",3,"click"]],template:function(t,i){t&1&&(y(0,"section",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),_(4,"Azure AD Authentication"),v()(),y(5,"mat-card-content"),$(6,xq,4,0,"div",2),$(7,Mq,5,1,"div",3),$(8,n8,27,5)(9,i8,4,0,"p",4),v(),y(10,"mat-card-actions",5),$(11,r8,4,0)(12,o8,2,0,"button",6),v()()()),t&2&&(A(6),G(i.isLoading()?6:-1),A(),G(i.error()?7:-1),A(),G(i.isAuthenticated()?8:9),A(3),G(i.isAuthenticated()?11:12))},dependencies:[Mo,yr,ds,Pf,xy,Ty,qO,Ay,Dy,Sy,Fy,Py,FN,PN,QT,ZT,NN,ON,hs,us,UN,BN,sP,Jy,Kf,t_,NE],styles:[".home[_ngcontent-%COMP%]{max-width:960px;margin:0 auto;padding:1.5rem 1rem}.home__loading[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem}.home__error[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#b3261e;margin-bottom:1rem}.home__status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#000000b8;margin-bottom:1rem}.home__status.success[_ngcontent-%COMP%]{color:#0f6b4d}.home__profile[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1rem;background:#f8f9fa;border-radius:8px;margin-bottom:1rem;border:1px solid rgba(0,0,0,.12)}.home__profile-avatar[_ngcontent-%COMP%]{flex-shrink:0;width:64px;height:64px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:1.5rem;box-shadow:0 2px 8px #00000026}.home__profile-initials[_ngcontent-%COMP%]{line-height:1}.home__profile-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.5rem;min-width:0}.home__profile-name[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:500;color:#000000de;line-height:1.4}.home__profile-email[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#0009;font-size:.875rem}.home__profile-email[_ngcontent-%COMP%]   .home__profile-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.home__profile-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#0009;font-size:.875rem}.home__profile-meta[_ngcontent-%COMP%]   .home__profile-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.home__profile-meta[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#000000de;font-weight:500}.home__token-container[_ngcontent-%COMP%]{position:relative}.home__token[_ngcontent-%COMP%]{margin:0;padding:.75rem 2.5rem .75rem .75rem;background:#0f172a;color:#f8fafc;border-radius:6px;font-family:Roboto Mono,Courier New,Courier,monospace;font-size:.85rem;line-height:1.4;overflow-x:auto}.home__copy-button[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;color:#f8fafc;opacity:.7;transition:opacity .2s}.home__copy-button[_ngcontent-%COMP%]:hover{opacity:1}.home__copy-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.home__accordion[_ngcontent-%COMP%]{margin-top:1rem}.home__refresh-debug[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.home__refresh-section[_ngcontent-%COMP%]{padding:1rem;background:#f8f9fa;border-radius:6px;border-left:4px solid #2196f3}.home__refresh-section.success[_ngcontent-%COMP%]{border-left-color:#4caf50;background:#f1f8f4}.home__refresh-section.error[_ngcontent-%COMP%]{border-left-color:#f44336;background:#fef5f5}.home__refresh-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:0 0 1rem;font-size:1rem;font-weight:500;color:#000000de}.home__refresh-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.home__refresh-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.home__refresh-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;align-items:flex-start}.home__refresh-row[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{min-width:120px;color:#000000de;font-weight:500}.home__refresh-row[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#0000000f;padding:.25rem .5rem;border-radius:4px;font-family:Roboto Mono,Courier New,Courier,monospace;font-size:.875rem;word-break:break-all}.home__refresh-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#0009}.home__refresh-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1}.home__refresh-row[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]{flex:1}.home__refresh-row[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{cursor:pointer;color:#0009;font-weight:500;margin-bottom:.5rem}.home__token-preview[_ngcontent-%COMP%]{margin-top:.5rem;padding:.5rem;background:#fff;border-radius:4px;font-family:Roboto Mono,Courier New,Courier,monospace;font-size:.75rem;overflow-x:auto}.home__refresh-steps[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.home__refresh-step[_ngcontent-%COMP%]{padding:.75rem;background:#fff;border-radius:4px;border-left:3px solid #2196f3}.home__refresh-step[_ngcontent-%COMP%]   .home__refresh-step-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem}.home__refresh-step[_ngcontent-%COMP%]   .home__refresh-step-header[_ngcontent-%COMP%]   .step-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#2196f3}.home__refresh-step[_ngcontent-%COMP%]   .home__refresh-step-header[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{flex:1;color:#000000de;font-weight:500}.home__refresh-step[_ngcontent-%COMP%]   .home__refresh-step-header[_ngcontent-%COMP%]   .step-time[_ngcontent-%COMP%]{color:#0000008a;font-size:.75rem;font-family:Roboto Mono,Courier New,Courier,monospace}"]})};var hP=()=>{let n=h(Ni),e=h(jn);return n.isConfigured()?!0:e.createUrlTree(["/config"])},fP=()=>{let n=h(Ni),e=h(jn);return n.isConfigured()?e.createUrlTree(["/"]):!0};var pP=[{path:"config",component:Hy,title:"AzureAuthViewer | Configuration",canActivate:[fP]},{path:"",component:n_,title:"AzureAuthViewer | Home",canActivate:[hP]},{path:"**",redirectTo:""}];var mP=(n,e)=>{let t=h(oo),i=h(Ni),r=i.apiConfig(),o=i.azureConfig();if(!r?.apiBaseUrl||!n.url.startsWith(r.apiBaseUrl)||!o)return e(n);let s=t.instance.getActiveAccount();return s?t.acquireTokenSilent({account:s,scopes:o.apiScopes}).pipe($t(a=>{let c=n.clone({setHeaders:{Authorization:`Bearer ${a.accessToken}`}});return e(c)}),Mn(a=>(console.warn("Failed to acquire token for API request:",a),e(n)))):e(n)};function s8(){let n=null;try{let o=localStorage.getItem("app_config");o&&(n=JSON.parse(o)?.azure)}catch{}let e=n?.redirectUri||qT(),t=n?.clientId||"00000000-0000-0000-0000-000000000000",i=n?.authority||"https://login.microsoftonline.com/common";return new yf({auth:{clientId:t,authority:i,redirectUri:e},cache:{cacheLocation:je.LocalStorage,storeAuthStateInCookie:!1}})}function a8(n){return()=>n.initialize()}function c8(){let n=[];try{let e=localStorage.getItem("app_config");e&&(n=JSON.parse(e)?.azure?.apiScopes||[])}catch{}return{interactionType:L.Redirect,authRequest:{scopes:n.length>0?n:["User.Read"]}}}function l8(){let n=new Map;try{let e=localStorage.getItem("app_config");if(e){let t=JSON.parse(e);t?.api?.apiBaseUrl&&t?.azure?.apiScopes&&n.set(t.api.apiBaseUrl,t.azure.apiScopes)}}catch{}return{interactionType:L.Redirect,protectedResourceMap:n}}var gP={providers:[Lb(),Ew(pP),ZE(JE([mP])),{provide:Cf,useFactory:s8},{provide:Um,useFactory:a8,deps:[Cf],multi:!0},{provide:sT,useFactory:c8},{provide:Fk,useFactory:l8},oo,Lk,sd]};var d8=["*",[["mat-toolbar-row"]]],u8=["*","mat-toolbar-row"],h8=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=F({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),vP=(()=>{class n{_elementRef=h(W);_platform=h(Re);_document=h(H);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(i&1&&tt(o,h8,5),i&2){let s;de(s=ue())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(i,r){i&2&&(bi(r.color?"mat-"+r.color:""),re("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",r._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:u8,decls:2,vars:0,template:function(i,r){i&1&&(bt(d8),_e(0),_e(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return n})();var yP=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=K({type:n});static \u0275inj=j({imports:[Le]})}return n})();var i_=class n{msal=h(oo);constructor(){this.msal.handleRedirectObservable().subscribe({next:()=>{},error:e=>{if(console.error("MSAL redirect error:",e),e instanceof Z||e&&typeof e=="object"&&"errorCode"in e){let t=e;t.errorCode==="invalid_request"&&t.errorMessage?.includes("9002326")&&console.error(`
\u274C Azure AD Configuration Error:
Your app registration is configured as a "Web" application instead of "Single-Page Application (SPA)".

To fix this:
1. Go to Azure Portal \u2192 Azure Active Directory \u2192 App registrations
2. Select your app
3. Go to Authentication section
4. Delete any "Web" platform configurations
5. Add a "Single-page application" platform
6. Add redirect URI: `+ic()+`
7. Save the changes

See the configuration page for detailed instructions.`)}}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Q({type:n,selectors:[["app-msal-redirect-handler"]],decls:0,vars:0,template:function(t,i){},encapsulation:2})};var p8=()=>({exact:!0}),r_=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Q({type:n,selectors:[["app-root"]],decls:13,vars:2,consts:[[1,"app-container"],["color","primary"],[1,"app-title"],[1,"app-spacer"],[1,"app-nav"],["mat-button","","routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],[1,"app-content"]],template:function(t,i){t&1&&(y(0,"div",0)(1,"mat-toolbar",1)(2,"span",2),_(3,"AzureAuthViewer"),v(),De(4,"span",3),y(5,"nav",4)(6,"a",5)(7,"mat-icon"),_(8,"home"),v(),_(9," Home "),v()()(),y(10,"main",6),De(11,"app-msal-redirect-handler")(12,"router-outlet"),v()()),t&2&&(A(6),Pe("routerLinkActiveOptions",EE(1,p8)))},dependencies:[eh,tl,Cw,yP,vP,yr,ds,hs,us,i_],styles:[".app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.app-title[_ngcontent-%COMP%]{font-weight:500;font-size:1.25rem}.app-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.app-nav[_ngcontent-%COMP%]{display:flex;gap:.5rem}.app-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#ffffff1a}.app-content[_ngcontent-%COMP%]{flex:1;padding:1.5rem;max-width:1400px;width:100%;margin:0 auto;box-sizing:border-box}@media(max-width:768px){.app-content[_ngcontent-%COMP%]{padding:1rem}.app-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}"]})};$E(r_,gP).catch(n=>console.error(n));
